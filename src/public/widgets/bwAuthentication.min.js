$.widget("bw.bwAuthentication",{options:{intervalTimedCheckForAlertsForIosBadgeUpdateUsingTitle:null,serviceworker_registration:null,WelcomeToThisVersionOfTheSoftware:"Welcome to the February 8, 2025 version.",ServiceUnavailableMessage:'The service is unavailable at this time. For assistance email <a href="mailto:support@budgetworkflow.com">support@budgetworkflow.com<\/a>, and get updates on twitter <a href="https://twitter.com/budgetworkflow" target="_blank">@budgetworkflow<\/a>. To try again, refresh your web browser.',bwSelectedNotificationSound:null,poppedOutRequestWindows:null,poppedOutAttachmentWindows:null,poppedOutEmailWindows:null,Workflows:null,DisplaySupplementals:!0,topLeftLogoEnabled:null,developerModeEnabled:null,largeFileUploadEnabled:null,participantId:null,participantLogonType:null,participantLogonTypeUserId:null,participantFriendlyName:null,participantEmail:null,tenantId:null,workflowAppId:null,participantRole:null,activeStateIPAddress:null,workflowAppTitle:null,workflowAppFiscalYear:null,workflowAppTheme:"brushedAluminum_orange",externallyFacingUrlForAttachments:null,externallyFacingUrlForAttachmentsSourceFolder:null,operationUriPrefix:null,msalInstance:null,backendAdministrationLogin:null,SelectedOrganization:{OrganizationId:null,OrganizationTitle:null,OrganizationRole:null},bwLastSelectedExecutiveSummariesExpandedOrCollapsed:null,bwEnabledRequestTypes:null,LastSelected_bwRequestTypeId:null,LastSelected_ArchiveScreen_bwRequestTypeId:null,bwFormHtml_Default:"",bwFormHtml_offlinerequest_Default:"",bwWorkflowJson_Default:"",NEW_REQUEST_LastSavedJson:null,BudgetRequests:[],PINNED_REQUESTS:[],UserData_PinnedRequestsArray:[],MY_UNSUBMITTED_REQUESTS:[],MY_SUBMITTED_REQUESTS:[],ACTIVE_REQUESTS:[],MY_PENDING_TASKS:[],autoRefreshHomePage:!0,autoRefreshHomePage_Interval:15e3,autoSenseDeviceType:!1,userIsATenantOwner:null,iData:null,faData:null,AJAX_COMPLETED_FASTFIRSTPASS:!1,AJAX_COMPLETED_FASTSECONDPASS:!1,LastSelected_OpenAccordionDrawers:["PINNED_REQUESTS"]},_create:function(){var t,f,e,o,s,i,u,n;try{console.log("");console.log("********************************************************");console.log("In bwAuthentication.js._create(). THIS IS THE ONLY PLACE WHERE THE PRE-LOGIN DISPLAY IS SET TO DISPLAY THE MICROSOFT LOGIN ETC. (OR NOT!!)");console.log("Note that AJAX ERRORS ARE CAUGHT HERE. THIS IS THE ONLY PLACE THAT AJAX ERRORS ARE CAUGHT. Come here to see how it works...");console.log("********************************************************");console.log("");t=this;const r=async function(){var n;if("serviceWorker"in navigator)try{t.options.serviceworker_registration=await navigator.serviceWorker.register("/serviceworkers/serviceworker1.js",{scope:"/serviceworkers/"});t.options.serviceworker_registration.installing?console.log("Service worker installing"):t.options.serviceworker_registration.waiting?console.log("Service worker installed"):t.options.serviceworker_registration.active&&console.log("Service worker active")}catch(i){n="Error in bwAuthentication.js.registerServiceWorker(). Registration failed: "+i;displayAlertDialog(n);console.error(n)}else n="Error in bwAuthentication.js.registerServiceWorker(). Did not find serviceWorker in navigator.",console.log(n)};r();Date.daysBetween=function(n,t){try{var r=new Date(n),u=new Date(t),f=r.getTime(),e=u.getTime(),o=e-f;return Math.round(o/864e5)}catch(i){console.log('Exception in index.html.Date.daysBetween(), Calculate "# of Days": '+i.message+", "+i.stack)}};Date.monthsBetween=function(n,t){try{var u=new Date(n),f=new Date(t),i=(f.getTime()-u.getTime())/1e3;return i/=2419200,Math.abs(Math.round(i))}catch(r){console.log('Exception in index.html.Date.daysBetween(), Calculate "# of Days": '+r.message+", "+r.stack)}};Date.minutesBetween=function(n,t){try{var r=new Date(n),u=new Date(t),f=r.getTime(),e=u.getTime(),o=e-f;return Math.round(o/6e4)}catch(i){console.log('Exception in Date.minutesBetween(), Calculate "# of Minutes": '+i.message+", "+i.stack)}};Date.prototype.addDays=function(n){var t=new Date(this.valueOf());return t.setDate(t.getDate()+n),t};$(document).on("ajaxError",function(n,i,r,u){var e,f,o;try{if(console.log("In bwAuthentication._create.document.ajaxError(). jqXHR.status: "+i.status+", settings: "+JSON.stringify(r)+", thrownError: "+u+", jqXHR: "+JSON.stringify(i)),i.status==401){multiLogonEnabled?(f="In bwAuthentication._create.document.ajaxError(). xcx112223-2. jqXHR.status: "+i.status+", settings: "+JSON.stringify(r)+", thrownError: "+u+", jqXHR: "+JSON.stringify(i),console.log(f)):(f="In bwAuthentication._create.document.ajaxError(). xcx112223-1. jqXHR.status: "+i.status+", settings: "+JSON.stringify(r)+", thrownError: "+u+", jqXHR: "+JSON.stringify(i),console.log(f));try{try{e=JSON.parse(i.responseText)}catch(s){e=i.responseText}e.status=="UNAUTHORIZED"&&e.suppressSignInDialog==!0?(f="Error in bwAuthentication.js._create.document.ajaxError(). UNAUTHORIZED. responseText.status: "+e.status+", responseText.message: "+e.message,console.log(f),displayAlertDialog(f)):multiLogonEnabled?(f='HTTP 401 "Unauthorized". Multi-logon is enabled. DEV: WE NEED TO BE ABLE TO STORE AND VALIDATE MULTIPLE ActiveStateIdentifiers with timestamps so we can expire them. Error in bwAuthentication.js._create.document.ajaxError(). responseText.status: '+e.status+", responseText.message: "+e.message+". Multi-logon: "+multiLogonEnabled,console.log(f),displayAlertDialog(f)):(f='HTTP 401 "Unauthorized". Multi-logon is disabled. DEV: WE NEED TO RETURN THE USER TO THE UNAUTHENTICATED HOME PAGE..? OR JUST STOP THE notification sound TIMER UNTIL THE USER LOGS IN.. SHOULD THE SIGN IN DIALOG BE MODAL/NON CLOSABLE?? Error in bwAuthentication.js._create.document.ajaxError(). responseText.status: '+e.status+", responseText.message: "+e.message+". Multi-logon: "+multiLogonEnabled,console.log(f),t.displaySignInDialog(!0,"You may have logged in on another device. Please re-authenticate and re-try your action.<br /><br />",!0,!0))}catch(s){f="Exception in bwAuthentication.js._create.document.ajaxError(). jqXHR: "+JSON.stringify(i)+", "+s.message+", "+s.stack;console.log(f);displayAlertDialog(f)}}else if(i.status!=404)if(i.status==503){console.log("In bwAuthentication.js._create.document.ajaxError(). ?Varnish error. Backend fetch failed.");console.log("In bwAuthentication.ajaxError.503. Url: "+r.url+". xcx2296324126-4. "+t.options.ServiceUnavailableMessage);displayAlertDialog(t.options.ServiceUnavailableMessage);document.getElementById("divSignInOrSignUpIndexPageButtons")?(o="",o+='<span style="font-size:25pt;font-weight:bold;color:tomato;">',o+="   <br />"+t.options.ServiceUnavailableMessage,o+='   <span style="cursor:pointer;" alt="" title="Varnish error. Backend fetch failed.">â’¾<\/span>',o+="   <br />",o+="<\/span>",document.getElementById("divSignInOrSignUpIndexPageButtons").innerHTML=o):displayAlertDialog_QuickNotice(t.options.ServiceUnavailableMessage+" xcx2296324126");try{$(".bwCircleDialog").bwCircleDialog("hideCircleDialog")}catch(s){}}else console.log("Error in bwAuthentication.js._create.document.ajaxError(). settings: "+JSON.stringify(r)+", thrownError: "+u)}catch(s){console.log("Exception in bwAuthentication.js._create.document.ajaxError(): "+s.message+", "+s.stack);displayAlertDialog("Exception in bwAuthentication.js._create.document.ajaxError(): "+s.message+", "+s.stack)}});this.options.developerModeEnabled=!1;n="";n+='<table class="xdFormLayout" style="BORDER-TOP-STYLE: none; WORD-WRAP: break-word; BORDER-LEFT-STYLE: none; BORDER-COLLAPSE: collapse; TABLE-LAYOUT: fixed; BORDER-BOTTOM-STYLE: none; BORDER-RIGHT-STYLE: none; ">';n+='    <colgroup> <col style=""> <\/colgroup>';n+="    <tbody>";n+='        <tr class="xdTableContentRow">';n+='            <td class="xdTableContentCell" style="display:block;BORDER-TOP: #d8d8d8 1pt solid; BORDER-RIGHT: #d8d8d8 1pt solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: #d8d8d8 1pt solid; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: #d8d8d8 1pt solid; PADDING-RIGHT: 0px">';n+='                <div><\/div> <!--<span style="color:cornflowerblue;">Your currently selected budgeting network: BudgetWorkflow1<\/span>--> <table style="width:100%;"> <tbody><tr> <td colspan="4"> <span id="divCreateRequestFormContent_requestOrgClickableBreadcrumb" style="color:purple;font-size:8pt;">[divCreateRequestFormContent_requestOrgClickableBreadcrumb]<\/span> <\/td> <\/tr> <tr> <td width="5"><\/td> <td>';n+="<span>";n+='   <img xcx="xcx12432356888" id="divCreateRequestFormContent_imgRequestOrgImage" style="width:150px;height:150px;" src="/images/corporeal.png">';n+="<\/span>";n+=' <\/td> <td style="text-align:right;" colspan="2"> &nbsp;&nbsp;<span class="xdlabel" id="spanRequestForm_Title"> [spanRequestForm_Title] <\/span> <br> <span id="spanViewWorkflowParticipantsLink" style="text-decoration:underline;cursor:pointer;font-size:10pt;color:gray;" onclick="$(\'.bwRequest\').bwRequest(\'displayNewRequestWorkflowParticipantsDialog\', this);">View Workflow/Participants<\/span> <br> <span id="spanRequestForm_WorkflowAndRoleDetails">[spanRequestForm_WorkflowAndRoleDetails]<\/span> <span id="spanRequestForm_Checklists">[spanRequestForm_Checklists] &nbsp; <\/span> <\/td> <\/tr> <\/tbody><\/table> <div align="right"> <span class="xdlabel"> <em><\/em> <\/span> <\/div> <div align="right"> <span class="xdlabel"> <em> <font style="FONT-SIZE: 11pt"> <span id="spanRequestForm_Instructions">[spanRequestForm_Instructionsxcx2] &nbsp; <\/span> <\/font> <\/em> <\/span> <\/div> <div align="right"> <span class="xdlabel" id="spanRequestForm_Buttons"> [spanRequestForm_Buttons] &nbsp; <\/span> <\/div> <div align="right"> <span title="" class="xdlabel" id="spanRequestForm_Error" style="color:tomato;" hidefocus="1"> &nbsp; <\/span> <\/div> <div align="center"> <span class="xdlabel"><\/span> <\/div><div id="tableLeftTopRequestFormSection" style="display:inline-block;vertical-align:top;">';n+='                    <div><\/div><div><\/div><div> <\/div><table class="xdFormLayout xdTableStyleTwoCol" style="display:inline-block;border:1px solid aliceblue;width:665px;">';n+='                        <colgroup> <col style="WIDTH: 169px"> <col style=""> <\/colgroup>';n+='                        <tbody valign="top">';n+='                           <tr class="xdTableOffsetRow" id="trNewRequestRecurringExpenseSection" style="display:none;"> <td class="xdTableOffsetCellLabel" style="text-align:left; BORDER-TOP: #d8d8d8 1pt; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 22px; BORDER-LEFT: #d8d8d8 1pt; PADDING-RIGHT: 5px"> <span class="xdlabel" id="spanNewRequestRecurringExpenseSectionTitle">Recurring expense:<\/span> <\/td> <td class="xdTableOffsetCellComponent" style="BORDER-TOP: #d8d8d8 1pt; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 5px; PADDING-RIGHT: 22px"> <!--<span id="spanNewRequestRecurringExpenseSecondSection"><\/span>--> <input disabled="" id="cbNewRequestRecurringExpenseSubmitImmediately" type="checkbox"> <span style="font-size:10pt;color:lightgray;">Submit the first budget request immediately.<\/span> <br> <!--<span style="font-size:8pt;">This does not create the budget request, it only schedules the reminder for when the budget request should be submitted.<\/span> <br />--> <span style="font-size:10pt;">Reminder date:<\/span> <br> <input id="dtRecurringExpenseReminderDate" style="WIDTH: 60%;font-family: \'Segoe UI Light\',\'Segoe UI\',\'Segoe\',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;TEXT-ALIGN: left;" type="text"> <br> <span style="font-size:8pt;">You and the Manager will receive notifications prior to the reminder date so that you can initiate the next new request. Also, if anyone changes the date you will be notified.<\/span> <br> <\/td> <\/tr>';n+='                           <tr class="xdTableOffsetRow xdTableOffsetRow-editor" draggable="true" bwwidgetname="bwDescriptionField" id="draggablerow_1">                            <td class="xdTableOffsetCellLabel" style="text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 22px; BORDER-LEFT: #d8d8d8 1pt; PADDING-RIGHT: 5px">                                <span class="xdlabel">                                    Description:                                <\/span>                                                           <\/td>                            <td class="xdTableOffsetCellComponent" style="white-space:nowrap;text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 5px; PADDING-RIGHT: 22px;">   <input type="text" contenteditable="false" disabled="" class="bwRequestJson" bwdatarequired="true" bwdatatype="string" bwfieldname="ProjectTitle" id="strProjectTitle" onkeyup="$(\'.bwRequest\').bwRequest(\'editTextbox_OnKeyUp\', this);" style="WIDTH: 100%;font-family: \'Segoe UI Light\',\'Segoe UI\',\'Segoe\',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;"> <!-- was 2.77em -->                            <\/td>                        <\/tr>';n+='                           <tr class="xdTableOffsetRow xdTableOffsetRow-editor" draggable="true" bwwidgetname="bwCommentsField" id="draggablerow_2">                            <td class="xdTableOffsetCellLabel" style="text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 22px; BORDER-LEFT: #d8d8d8 1pt; PADDING-RIGHT: 5px">                                <span class="xdlabel">                                    Comments:                                <\/span>                                                          <\/td>                            <td class="xdTableOffsetCellComponent" style="white-space:nowrap;text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 5px; PADDING-RIGHT: 22px;">                                      <div>                                        <table width="100%">                                          <tbody><tr>                                            <td colspan="2">                                              <span id="ReviewerComments" contenteditable="false" disabled="" class="xdTextBoxRequired" bwdatarequired="true" bwfieldname="ReviewerComments" bwdatatype="String" title="" hidefocus="1" xd:datafmt="&quot;string&quot;,&quot;plainMultiline&quot;" style="WORD-WRAP: break-word; HEIGHT: 90px; WHITE-SPACE: normal; OVERFLOW-X: auto; OVERFLOW-Y: auto; WIDTH: 100%;BACKGROUND-COLOR: white;">                                              <\/span>                                            <\/td>                                          <\/tr>                                        <\/tbody><\/table>                                      <\/div>                            <\/td>                        <\/tr>';n+='                           <tr class="xdTableOffsetRow xdTableOffsetRow-editor" draggable="true" bwwidgetname="bwRequestedCapitalField" id="draggablerow_3">                            <td class="xdTableOffsetCellLabel" style="text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 22px; BORDER-LEFT: #d8d8d8 1pt; PADDING-RIGHT: 5px">                                <span class="xdlabel">                                    Requested Capital:                                <\/span>                                                          <\/td>                            <td class="xdTableOffsetCellComponent" style="white-space:nowrap;text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 5px; PADDING-RIGHT: 22px;"><input contenteditable="false" disabled="" class="bwRequestJson" style="WIDTH: 60%;font-family: \'Segoe UI Light\',\'Segoe UI\',\'Segoe\',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;TEXT-ALIGN: right;" type="text" bwfieldname="RequestedCapital" bwdatatype="Number" bwdatarequired="true">                            <\/td>                        <\/tr>';n+='                           <tr class="xdTableOffsetRow xdTableOffsetRow-editor" draggable="true" bwwidgetname="bwLocationPicker" id="draggablerow_4">                            <td class="xdTableOffsetCellLabel" style="text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 22px; BORDER-LEFT: #d8d8d8 1pt; PADDING-RIGHT: 5px">                                <span class="xdlabel">                                    Location:                                <\/span>                                                           <\/td>                            <td class="xdTableOffsetCellComponent" style="white-space:normal;text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 5px; PADDING-RIGHT: 22px;"><input id="txtLocationPickerFilter" class="bwRequestJson" bwdatarequired="true" bwdatatype="String" bwfieldname="bwLocationPicker" contenteditable="false" disabled="" type="text" style="width:450px;font-family: \'Segoe UI Light\',\'Segoe UI\',\'Segoe\',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;"><br>                                                           <span id="spanNewRequestFormLocationPickerBreadcrumb" style="cursor:pointer;color:purple;font-size:8pt;">[spanNewRequestFormLocationPickerBreadcrumb]<\/span>                            <\/td>                        <\/tr>';n+='                           <tr xcx="231242547" class="xdTableOffsetRow bwAttachments" bwwidgetname="bwAttachments" id="draggablerow_4">                                                    <td class="xdTableOffsetCellLabel" style="text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 22px; BORDER-LEFT: #d8d8d8 1pt; PADDING-RIGHT: 5px">                                <span class="xdlabel">                                    Attachments:                                <\/span>                            <\/td>                            <td class="xdTableOffsetCellComponent2" style="white-space:nowrap;text-align:left; VERTICAL-ALIGN: top; PADDING-LEFT: 5px; PADDING-RIGHT: 22px;">           <p id="newrequestattachments"><span style="font-style:italic;font-size:8pt;">There are no attachmentsxcx2-1<\/span><\/p>                            <\/td>                                            <\/tr>';n+="                        <\/tbody>";n+="                    <\/table>";n+="                <\/div>";n+="            <\/td>";n+="        <\/tr>";n+="    <\/tbody>";n+="<\/table>";this.options.bwFormHtml_Default=n;n="";n+='<table class="xdFormLayout" style="BORDER-TOP-STYLE: none; WORD-WRAP: break-word; BORDER-LEFT-STYLE: none; BORDER-COLLAPSE: collapse; TABLE-LAYOUT: fixed; BORDER-BOTTOM-STYLE: none; BORDER-RIGHT-STYLE: none; ">';n+='    <colgroup> <col style=""> <\/colgroup>';n+="    <tbody>";n+='        <tr class="xdTableContentRow">';n+='            <td class="xdTableContentCell" style="display:block;BORDER-TOP: #d8d8d8 1pt solid; BORDER-RIGHT: #d8d8d8 1pt solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: #d8d8d8 1pt solid; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: #d8d8d8 1pt solid; PADDING-RIGHT: 0px">';n+='                <div><\/div> <!--<span style="color:cornflowerblue;">Your currently selected budgeting network: BudgetWorkflow1<\/span>--> <table style="width:100%;"> <tbody><tr> <td colspan="4"> <span id="divCreateRequestFormContent_requestOrgClickableBreadcrumb" style="color:purple;font-size:8pt;">[divCreateRequestFormContent_requestOrgClickableBreadcrumb]<\/span> <\/td> <\/tr> <tr> <td width="5"><\/td> <td>';n+="<span>";n+='   <img xcx="xcx12432356888" id="divCreateRequestFormContent_imgRequestOrgImage" style="width:150px;height:150px;" src="/images/corporeal.png">';n+="<\/span>";n+=' <\/td> <td style="text-align:right;" colspan="2"> &nbsp;&nbsp;<span class="xdlabel" id="spanRequestForm_Title"> [spanRequestForm_Title] <\/span> <br> <span id="spanViewWorkflowParticipantsLink" style="text-decoration:underline;cursor:pointer;font-size:10pt;color:gray;" onclick="$(\'.bwRequest\').bwRequest(\'displayNewRequestWorkflowParticipantsDialog\', this);">View Workflow/Participants<\/span> <br> <span id="spanRequestForm_WorkflowAndRoleDetails">[spanRequestForm_WorkflowAndRoleDetails]<\/span> <span id="spanRequestForm_Checklists">[spanRequestForm_Checklists] &nbsp; <\/span> <\/td> <\/tr> <\/tbody><\/table> <div align="right"> <span class="xdlabel"> <em><\/em> <\/span> <\/div> <div align="right"> <span class="xdlabel"> <em> <font style="FONT-SIZE: 11pt"> <span id="spanRequestForm_Instructions">[spanRequestForm_Instructionsxcx2] &nbsp; <\/span> <\/font> <\/em> <\/span> <\/div> <div align="right"> <span class="xdlabel" id="spanRequestForm_Buttons"> [spanRequestForm_Buttons] &nbsp; <\/span> <\/div> <div align="right"> <span title="" class="xdlabel" id="spanRequestForm_Error" style="color:tomato;" hidefocus="1"> &nbsp; <\/span> <\/div> <div align="center"> <span class="xdlabel"><\/span> <\/div><div id="tableLeftTopRequestFormSection" style="display:inline-block;vertical-align:top;">';n+='                    <div><\/div><div><\/div><div> <\/div><table class="xdFormLayout xdTableStyleTwoCol" style="display:inline-block;border:1px solid aliceblue;width:665px;">';n+='                        <colgroup> <col style="WIDTH: 169px"> <col style=""> <\/colgroup>';n+='                        <tbody valign="top">';n+='                           <tr class="xdTableOffsetRow" id="trNewRequestRecurringExpenseSection" style="display:none;"> <td class="xdTableOffsetCellLabel" style="text-align:left; BORDER-TOP: #d8d8d8 1pt; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 22px; BORDER-LEFT: #d8d8d8 1pt; PADDING-RIGHT: 5px"> <span class="xdlabel" id="spanNewRequestRecurringExpenseSectionTitle">Recurring expense:<\/span> <\/td> <td class="xdTableOffsetCellComponent" style="BORDER-TOP: #d8d8d8 1pt; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 5px; PADDING-RIGHT: 22px"> <!--<span id="spanNewRequestRecurringExpenseSecondSection"><\/span>--> <input disabled="" id="cbNewRequestRecurringExpenseSubmitImmediately" type="checkbox"> <span style="font-size:10pt;color:lightgray;">Submit the first budget request immediately.<\/span> <br> <!--<span style="font-size:8pt;">This does not create the budget request, it only schedules the reminder for when the budget request should be submitted.<\/span> <br />--> <span style="font-size:10pt;">Reminder date:<\/span> <br> <input id="dtRecurringExpenseReminderDate" style="WIDTH: 60%;font-family: \'Segoe UI Light\',\'Segoe UI\',\'Segoe\',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;TEXT-ALIGN: left;" type="text"> <br> <span style="font-size:8pt;">You and the Manager will receive notifications prior to the reminder date so that you can initiate the next new request. Also, if anyone changes the date you will be notified.<\/span> <br> <\/td> <\/tr>';n+=`<tr class="xdTableOffsetRow xdTableOffsetRow-editor" draggable="true" bwwidgetname="bwCapitalInternalOrderNumberField" id="draggablerow_1">
                                    <td class="xdTableOffsetCellLabel" style="text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 22px; BORDER-LEFT: #d8d8d8 1pt; PADDING-RIGHT: 5px">
                                        <span class="xdlabel">                                    Capital IO Number:                                </span>
                                    </td>
                                    <td class="xdTableOffsetCellComponent" style="white-space:nowrap;text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 5px; PADDING-RIGHT: 22px;">   <input type="text" contenteditable="false" disabled="" class="bwRequestJson" bwdatarequired="true" bwdatatype="string" bwfieldname="ProjectTitle" id="strProjectTitle" onkeyup="$('.bwRequest').bwRequest('editTextbox_OnKeyUp', this);" style="WIDTH: 100%;font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;"> <!-- was 2.77em -->                            </td>
                                </tr>`;n+=`<tr class="xdTableOffsetRow xdTableOffsetRow-editor" draggable="true" bwwidgetname="bwCostCenterDescriptionField" id="draggablerow_1">
                                    <td class="xdTableOffsetCellLabel" style="text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 22px; BORDER-LEFT: #d8d8d8 1pt; PADDING-RIGHT: 5px">
                                        <span class="xdlabel">                                    Cost Center Description:                                </span>
                                    </td>
                                    <td class="xdTableOffsetCellComponent" style="white-space:nowrap;text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 5px; PADDING-RIGHT: 22px;">   <input type="text" contenteditable="false" disabled="" class="bwRequestJson" bwdatarequired="true" bwdatatype="string" bwfieldname="ProjectTitle" id="strProjectTitle" onkeyup="$('.bwRequest').bwRequest('editTextbox_OnKeyUp', this);" style="WIDTH: 100%;font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;"> <!-- was 2.77em -->                            </td>
                                </tr>`;n+=`<tr class="xdTableOffsetRow xdTableOffsetRow-editor" draggable="true" bwwidgetname="bwPeoplePicker" id="draggablerow_1">
                                    <td class="xdTableOffsetCellLabel" style="text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 22px; BORDER-LEFT: #d8d8d8 1pt; PADDING-RIGHT: 5px">
                                        <span class="xdlabel">                                    Manager:                                </span>
                                    </td>
                                    <td class="xdTableOffsetCellComponent" style="white-space:nowrap;text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 5px; PADDING-RIGHT: 22px;">   <input type="text" contenteditable="false" disabled="" class="bwRequestJson" bwdatarequired="true" bwdatatype="string" bwfieldname="ProjectTitle" id="strProjectTitle" onkeyup="$('.bwRequest').bwRequest('editTextbox_OnKeyUp', this);" style="WIDTH: 100%;font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;"> <!-- was 2.77em -->                            </td>
                                </tr>`;n+='                           <tr class="xdTableOffsetRow xdTableOffsetRow-editor" draggable="true" bwwidgetname="bwDescriptionField" id="draggablerow_1">                            <td class="xdTableOffsetCellLabel" style="text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 22px; BORDER-LEFT: #d8d8d8 1pt; PADDING-RIGHT: 5px">                                <span class="xdlabel">                                    Description:                                <\/span>                                                           <\/td>                            <td class="xdTableOffsetCellComponent" style="white-space:nowrap;text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 5px; PADDING-RIGHT: 22px;">   <input type="text" contenteditable="false" disabled="" class="bwRequestJson" bwdatarequired="true" bwdatatype="string" bwfieldname="ProjectTitle" id="strProjectTitle" onkeyup="$(\'.bwRequest\').bwRequest(\'editTextbox_OnKeyUp\', this);" style="WIDTH: 100%;font-family: \'Segoe UI Light\',\'Segoe UI\',\'Segoe\',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;"> <!-- was 2.77em -->                            <\/td>                        <\/tr>';n+='                           <tr class="xdTableOffsetRow xdTableOffsetRow-editor" draggable="true" bwwidgetname="bwCommentsField" id="draggablerow_2">                            <td class="xdTableOffsetCellLabel" style="text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 22px; BORDER-LEFT: #d8d8d8 1pt; PADDING-RIGHT: 5px">                                <span class="xdlabel">                                    Comments:                                <\/span>                                                          <\/td>                            <td class="xdTableOffsetCellComponent" style="white-space:nowrap;text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 5px; PADDING-RIGHT: 22px;">                                      <div>                                        <table width="100%">                                          <tbody><tr>                                            <td colspan="2">                                              <span id="ReviewerComments" contenteditable="false" disabled="" class="xdTextBoxRequired" bwdatarequired="true" bwfieldname="ReviewerComments" bwdatatype="String" title="" hidefocus="1" xd:datafmt="&quot;string&quot;,&quot;plainMultiline&quot;" style="WORD-WRAP: break-word; HEIGHT: 90px; WHITE-SPACE: normal; OVERFLOW-X: auto; OVERFLOW-Y: auto; WIDTH: 100%;BACKGROUND-COLOR: white;">                                              <\/span>                                            <\/td>                                          <\/tr>                                        <\/tbody><\/table>                                      <\/div>                            <\/td>                        <\/tr>';n+='                           <tr class="xdTableOffsetRow xdTableOffsetRow-editor" draggable="true" bwwidgetname="bwRequestedCapitalField" id="draggablerow_3">                            <td class="xdTableOffsetCellLabel" style="text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 22px; BORDER-LEFT: #d8d8d8 1pt; PADDING-RIGHT: 5px">                                <span class="xdlabel">                                    Requested Capital:                                <\/span>                                                          <\/td>                            <td class="xdTableOffsetCellComponent" style="white-space:nowrap;text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 5px; PADDING-RIGHT: 22px;"><input contenteditable="false" disabled="" class="bwRequestJson" style="WIDTH: 60%;font-family: \'Segoe UI Light\',\'Segoe UI\',\'Segoe\',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;TEXT-ALIGN: right;" type="text" bwfieldname="RequestedCapital" bwdatatype="Number" bwdatarequired="true">                            <\/td>                        <\/tr>';n+='                           <tr class="xdTableOffsetRow xdTableOffsetRow-editor" draggable="true" bwwidgetname="bwLocationPicker" id="draggablerow_4">                            <td class="xdTableOffsetCellLabel" style="text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 22px; BORDER-LEFT: #d8d8d8 1pt; PADDING-RIGHT: 5px">                                <span class="xdlabel">                                    Location:                                <\/span>                                                           <\/td>                            <td class="xdTableOffsetCellComponent" style="white-space:normal;text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 5px; PADDING-RIGHT: 22px;"><input id="txtLocationPickerFilter" class="bwRequestJson" bwdatarequired="true" bwdatatype="String" bwfieldname="bwLocationPicker" contenteditable="false" disabled="" type="text" style="width:450px;font-family: \'Segoe UI Light\',\'Segoe UI\',\'Segoe\',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;"><br>                                                           <span id="spanNewRequestFormLocationPickerBreadcrumb" style="cursor:pointer;color:purple;font-size:8pt;">[spanNewRequestFormLocationPickerBreadcrumb]<\/span>                            <\/td>                        <\/tr>';n+='                           <tr xcx="231242547" class="xdTableOffsetRow bwAttachments" bwwidgetname="bwAttachments" id="draggablerow_4">                                                    <td class="xdTableOffsetCellLabel" style="text-align:left; VERTICAL-ALIGN: top; PADDING-BOTTOM: 4px; PADDING-TOP: 4px; PADDING-LEFT: 22px; BORDER-LEFT: #d8d8d8 1pt; PADDING-RIGHT: 5px">                                <span class="xdlabel">                                    Attachments:                                <\/span>                            <\/td>                            <td class="xdTableOffsetCellComponent2" style="white-space:nowrap;text-align:left; VERTICAL-ALIGN: top; PADDING-LEFT: 5px; PADDING-RIGHT: 22px;">           <p id="newrequestattachments"><span style="font-style:italic;font-size:8pt;">There are no attachmentsxcx2-2<\/span><\/p>                            <\/td>                                            <\/tr>';n+="                        <\/tbody>";n+="                    <\/table>";n+="                <\/div>";n+="            <\/td>";n+="        <\/tr>";n+="    <\/tbody>";n+="<\/table>";this.options.bwCloseoutFormHtml_Default=n;this.options.bwFormHtml_offlinerequest_Default=n;this.options.bwWorkflowJson_Default={bwRequestType:"defaultrequesttype",bwRequestTypeId:"00000000-0000-0000-0000-00000000",bwWorkflowActive:!0,Workflow:{Steps:{Step:[{"@Name":"Create","@Target":"Admin",Assign:[{"@Role":"CREATE","@Form":"CARForm.aspx","@DoneForm":"CARComments.aspx","@Title":"Create and Submit CAR","@MailTemplate":"Assign1.xsl","@Subject":"Budget Request - New Work Item ({0})","@RoleCategory":"Collaborator",Action:{"@Name":"Submit","@State":"Done",Tooltip:"Submit completed request to the admin for review"}}],"@EmailTemplate":'<div xcx="xcx213423678438-1" style="background-color:#f5f6fa;font-family: \'Segoe UI Light\',\'Segoe UI\',\'Segoe\',Tahoma,Helvetica,Arial,sans-serif;color:black;font-size: 12pt;"><style>                .brushedAluminum {            /*background-image: \t-webkit-repeating-linear-gradient(left, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,0)   6%, hsla(0,0%,100%, .1) 7.5%, hsla(0,0%, 100%,0) 9%),                            -webkit-repeating-linear-gradient(left, hsla(0,0%,  0%,0) 0%, hsla(0,0%,  0%,0)   4%, hsla(0,0%,  0%,.03) 4.5%, hsla(0,0%,  0%,0) 6%),                            -webkit-repeating-linear-gradient(left, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,0) 1.2%, hsla(0,0%,100%,.15) 2.2%, hsla(0,0%,100%,0) 4%),                            -webkit-linear-gradient(-90deg, hsl(0,0%,78%)  0%, hsl(0,0%,90%) 47%, hsl(0,0%,78%) 53%, hsl(0,0%,70%)100%);*/            /* 9-25-2021 THIS IS THE COOL MENU ANIMATION! I think @keyframes below is required as well. !!!!!!! */            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);            background-size: 400% 400%;            -moz-animation: gradient 15s ease infinite;            -o-animation: gradient 15s ease infinite;            -webkit-animation: gradient 15s ease infinite;            animation: gradient 15s ease infinite;        }        @keyframes gradient {            0% {                background-position: 0% 50%;            }            50% {                background-position: 100% 50%;            }            100% {                background-position: 0% 50%;            }        }    <\/style>    <table style="width:800px;margin-left: auto; margin-right: auto;">        <tbody><tr>            <td>Â <\/td>        <\/tr>        <tr>            <td>                <div style="float:left;">BudgetWorkflow.com<\/div>                <div style="float:right;">Need help? Contact me at todd@budgetworkflow.com.<\/div>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td>                <div style="background-color:white;padding:50px 50px 50px 50px;">                    <table>                        <tbody><tr>                            <td style="font-size:30pt;font-weight:bold;">Welcome to BudgetWorkflow.com.<\/td>                        <\/tr>                        <tr>                            <td style="padding:20px;"><\/td>                        <\/tr>                        <tr>                            <td style="font-size:14pt;">Your new Budget Request has been received.Â %Budget Request Number%: %Budget Request Project Title%<\/td>                        <\/tr><tr><td><\/td><\/tr>                        <tr>                            <td style="font-size:14pt;">You will receive email notifications as it goes through the approval process. %âœˆ Budget Request Link%<\/td>                        <\/tr><tr><td><\/td><\/tr>                        <tr>                            <td style="font-size:14pt;">The next step in the workflow is %Next Task Assignment Text%<\/td>                        <\/tr><tr><td><\/td><\/tr>                        <tr>                            <td style="font-size:14pt;">If you wish to stop receiving these emails click here to unsubscribe. %â˜’ Unsubscribe Link%<\/td>                        <\/tr>                                               <tr>                            <td style="padding:30px;"><\/td>                        <\/tr>                        <tr>                            <td style="text-align:center;" align="center">                                <!--<form action="https://budgetworkflow.com/" method="get" target="_blank">                                    <input type="submit" value="Sign In" class="brushedAluminum leftButton" />                                <\/form>-->                                                                <div class="brushedAluminum leftButton" style="width:195px;height:50px;text-align: center; font-weight: bold;border:1px solid skyblue;color:white;">                                    <a href="https://budgetworkflow.com">Sign In<\/a>                                <\/div>                            <\/td>                        <\/tr>                    <\/tbody><\/table>                <\/div>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td>                <table>                    <tbody>                  <tr>                        <td><\/td>                    <\/tr>                    <tr>                        <td>Copyright Â© 2011-2025 Todd Hiltz. 61 Crescent Avenue, Kentville, NS B4N 1R1 Canada. All rights reserved.<\/td>                    <\/tr>                    <tr>                        <td>Organization: %Organization Name%<\/td>                    <\/tr>                <\/tbody><\/table>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>    <\/tbody><\/table><\/div>',"@EmailInstructionText":"This email gets sent to the creator of the request to acknowledge that it has been received.","@EmailTemplateForSubject":"Your New Budget Request has been received. %Budget Request Title%: %Budget Request Project Title%"},{"@Name":"Revise","@Target":"Admin",Assign:[{"@IdField":"CreatedByUserId","@Role":"CREATE","@Form":"CARForm.aspx","@DoneForm":"CARComments.aspx","@Title":"Revise CAR","@MailTemplate":"Assign1.xsl","@Subject":"Budget Request - New Work Item ({0})","@RoleCategory":"Collaborator",Action:{"@Name":"Submit","@State":"Done",Tooltip:"Submit revised request to the admin for review"}}],"@EmailInstructionText":"This email gets sent to the creator of the request when a request has been rejected or set to revise/hold, so that they can revise the request and re-submit.","@EmailTemplateForSubject":'Revise Task. %Budget Request Title%: "%Budget Request Name%"',"@EmailTemplate":'<div xcx="xcx213423678438-2" style="background-color:#f5f6fa;font-family: \'Segoe UI Light\',\'Segoe UI\',\'Segoe\',Tahoma,Helvetica,Arial,sans-serif;color:black;font-size: 12pt;"><style>                .brushedAluminum {            /*background-image: \t-webkit-repeating-linear-gradient(left, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,0)   6%, hsla(0,0%,100%, .1) 7.5%, hsla(0,0%, 100%,0) 9%),                            -webkit-repeating-linear-gradient(left, hsla(0,0%,  0%,0) 0%, hsla(0,0%,  0%,0)   4%, hsla(0,0%,  0%,.03) 4.5%, hsla(0,0%,  0%,0) 6%),                            -webkit-repeating-linear-gradient(left, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,0) 1.2%, hsla(0,0%,100%,.15) 2.2%, hsla(0,0%,100%,0) 4%),                            -webkit-linear-gradient(-90deg, hsl(0,0%,78%)  0%, hsl(0,0%,90%) 47%, hsl(0,0%,78%) 53%, hsl(0,0%,70%)100%);*/            /* 9-25-2021 THIS IS THE COOL MENU ANIMATION! I think @keyframes below is required as well. !!!!!!! */            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);            background-size: 400% 400%;            -moz-animation: gradient 15s ease infinite;            -o-animation: gradient 15s ease infinite;            -webkit-animation: gradient 15s ease infinite;            animation: gradient 15s ease infinite;        }        @keyframes gradient {            0% {                background-position: 0% 50%;            }            50% {                background-position: 100% 50%;            }            100% {                background-position: 0% 50%;            }        }    <\/style>    <table style="width:800px;margin-left: auto; margin-right: auto;">        <tbody><tr>            <td>Â <\/td>        <\/tr>        <tr>            <td>                <div style="float:left;">BudgetWorkflow.com<\/div>                <div style="float:right;">Need help? Contact me at todd@budgetworkflow.com.<\/div>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td>                <div style="background-color:white;padding:50px 50px 50px 50px;">                    <table>                        <tbody><tr>                            <td style="font-size:30pt;font-weight:bold;">Hello %âš‡ Participant Friendly Name%,<\/td>                        <\/tr>                        <tr>                            <td style="padding:20px;"><\/td>                        <\/tr>                        <tr>                            <td style="font-size:14pt;">%Budget Request Title%:Â "%Budget Request Project Title%",Â is ready for the ADMIN to revise before it proceeds to the next step of the workflow.Â %âœˆ Budget Request Link%<\/td>                        <\/tr><tr><td><\/td><\/tr>                        <tr>                            <td style="font-size:14pt;">Here are your outstanding tasks:<p>%Task Summary Section%<\/p><p>%â˜’ Unsubscribe Link%<\/p><p>%â˜¯ Disclaimer/Legal Text%<\/p><\/td>                        <\/tr>                                               <tr>                            <td style="padding:30px;"><\/td>                        <\/tr>                        <tr>                            <td style="text-align:center;" align="center">                                <!--<form action="https://budgetworkflow.com/" method="get" target="_blank">                                    <input type="submit" value="Sign In" class="brushedAluminum leftButton" />                                <\/form>-->                                                                <div class="brushedAluminum leftButton" style="width:195px;height:50px;text-align: center; font-weight: bold;border:1px solid skyblue;color:white;">                                    <a href="https://budgetworkflow.com">Sign In<\/a>                                <\/div>                            <\/td>                        <\/tr>                    <\/tbody><\/table>                <\/div>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td>                <table>                    <tbody>                   <tr>                        <td><\/td>                    <\/tr>                    <tr>                        <td>Copyright Â© 2011-2025 Todd Hiltz. 61 Crescent Avenue, Kentville, NS B4N 1R1 Canada. All rights reserved.<\/td>                    <\/tr>                    <tr>                        <td><span style="font-size:10pt;font-family: \'Courier New\';">Organization: %Organization Name%<\/span><\/td>                    <\/tr>                <\/tbody><\/table>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>    <\/tbody><\/table><\/div>'},{"@Name":"Admin","@Target":"Collaboration",Assign:[{"@Title":"","@Instructions":"","@AllowRequestModifications":!0,"@RoleCategory":"Approver","@Role":"ADMIN","@RoleName":"ADMIN",Action:[{"@Name":"Approve","@State":"Done",Tooltip:"Approve the request and submit comments"},{"@Name":"Revise/Hold","@Target":"Revise",Invalidate:{"@Step":"CLevel"},Tooltip:"Send the CAR back to the original creator"}]}],"@EmailTemplate":'<div xcx="xcx213423678438-3" style="background-color:#f5f6fa;font-family: \'Segoe UI Light\',\'Segoe UI\',\'Segoe\',Tahoma,Helvetica,Arial,sans-serif;color:black;font-size: 12pt;"><style>                .brushedAluminum {            /*background-image: \t-webkit-repeating-linear-gradient(left, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,0)   6%, hsla(0,0%,100%, .1) 7.5%, hsla(0,0%, 100%,0) 9%),                            -webkit-repeating-linear-gradient(left, hsla(0,0%,  0%,0) 0%, hsla(0,0%,  0%,0)   4%, hsla(0,0%,  0%,.03) 4.5%, hsla(0,0%,  0%,0) 6%),                            -webkit-repeating-linear-gradient(left, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,0) 1.2%, hsla(0,0%,100%,.15) 2.2%, hsla(0,0%,100%,0) 4%),                            -webkit-linear-gradient(-90deg, hsl(0,0%,78%)  0%, hsl(0,0%,90%) 47%, hsl(0,0%,78%) 53%, hsl(0,0%,70%)100%);*/            /* 9-25-2021 THIS IS THE COOL MENU ANIMATION! I think @keyframes below is required as well. !!!!!!! */            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);            background-size: 400% 400%;            -moz-animation: gradient 15s ease infinite;            -o-animation: gradient 15s ease infinite;            -webkit-animation: gradient 15s ease infinite;            animation: gradient 15s ease infinite;        }        @keyframes gradient {            0% {                background-position: 0% 50%;            }            50% {                background-position: 100% 50%;            }            100% {                background-position: 0% 50%;            }        }    <\/style>    <table style="width:800px;margin-left: auto; margin-right: auto;">        <tbody><tr>            <td>Â <\/td>        <\/tr>        <tr>            <td>                <div style="float:left;">BudgetWorkflow.com<\/div>                <div style="float:right;">Need help? Contact me at todd@budgetworkflow.com.<\/div>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td>                <div style="background-color:white;padding:50px 50px 50px 50px;">                    <table>                        <tbody><tr>                            <td style="font-size:30pt;font-weight:bold;">Hello %âš‡ Participant Friendly Name%,<\/td>                        <\/tr>                        <tr>                            <td style="padding:20px;"><\/td>                        <\/tr>                        <tr>                            <td style="font-size:14pt;">%Budget Request Title%:Â "%Budget Request Project Title%",Â is ready for the ADMIN to review before it proceeds to the Collaboration step of the workflow.Â %âœˆ Budget Request Link%<\/td>                        <\/tr><tr><td><\/td><\/tr>                        <tr>                            <td style="font-size:14pt;">Here are your outstanding tasks:<p>%Task Summary Section%<\/p><p>%â˜’ Unsubscribe Link%<\/p><p>%â˜¯ Disclaimer/Legal Text%<\/p><\/td>                        <\/tr>                                               <tr>                            <td style="padding:30px;"><\/td>                        <\/tr>                        <tr>                            <td style="text-align:center;" align="center">                                <!--<form action="https://budgetworkflow.com/" method="get" target="_blank">                                    <input type="submit" value="Sign In" class="brushedAluminum leftButton" />                                <\/form>-->                                                                <div class="brushedAluminum leftButton" style="width:195px;height:50px;text-align: center; font-weight: bold;border:1px solid skyblue;color:white;">                                    <a href="https://budgetworkflow.com">Sign In<\/a>                                <\/div>                            <\/td>                        <\/tr>                    <\/tbody><\/table>                <\/div>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td>                <table>                    <tbody>                    <tr>                        <td><\/td>                    <\/tr>                    <tr>                        <td>Copyright Â© 2011-2025 Todd Hiltz. 61 Crescent Avenue, Kentville, NS B4N 1R1 Canada. All rights reserved.<\/td>                    <\/tr>                    <tr>                        <td><span style="font-size:10pt;font-family: \'Courier New\';">Organization: %Organization Name%<\/span><\/td>                    <\/tr>                <\/tbody><\/table>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>    <\/tbody><\/table><\/div>',"@EmailInstructionText":"This email gets sent to the Workflow Administrator so that they can review and approve the request before it begins the rest of the workflow steps.","@EmailTemplateForSubject":'%Budget Request Title%: "%Budget Request Project Title%", is ready for the ADMIN to review.'},{"@Name":"Collaboration","@Target":"VPLevel",Inform:[],Assign:[{"@Role":"ACCT","@RoleName":"Accountant","@Form":"CARForm.aspx","@DoneForm":"CARComments.aspx","@Title":"Add Comments/Approve","@MailTemplate":"Assign1.xsl","@Subject":"eCAR3 - New Work Item ({0})","@RoleCategory":"Approver","@Cond":"            ",Action:[{"@Name":"Approve","@State":"Done",Tooltip:"Approve the CAR and submit comments","@JavaScript":"$('.bwRequest').bwRequest('cmdApproveRequest', this);"},{"@Name":"Cancel","@State":"Cancel","@RequireComments":"True",Tooltip:"Cancel the entire CAR"},{"@Name":"Decline","@State":"Cancel","@RequireComments":"True",Tooltip:"Decline the entire CAR"},{"@Name":"Revise/Hold","@Target":"Revise",Invalidate:{"@Step":"CLevel"},Tooltip:"Send the CAR back to the original creator"}],"@AllowRequestModifications":!0},{"@Role":"MG","@Form":"CARComments.aspx","@DoneForm":"CARComments.aspx","@Title":"Add Comments","@Cond":"$ProjectTypes~0f29247e-82bc-4d9b-8ab3-3cfc8fa6964f,820d114c-9277-4b7d-880d-19ab4abebaca,91cd7bbf-e47b-440a-aeb0-1386a581803a&$PillarTypes~adab7e29-0f80-4913-b8ea-5ae559f97184,6e9dfe61-652f-4a03-b67c-948ed1f3410c,70eebd61-e2b0-4d72-a510-a6a9266d084d&$ChecklistsRequired~ebf54d04-d7d1-44f6-9f89-42ecd9f3bd70      ","@Timeout":"20160","@TimeoutAction":"Submit","@MailTemplate":"Assign1.xsl","@Subject":"Budget Request - New Work Item ({0})","@RoleCategory":"Collaborator",Action:{"@Name":"Submit","@State":"Done",Tooltip:"Submit your comments to the collaboration area"},"@RoleName":"Marketing Generalist","@AllowRequestModifications":!0},{"@Role":"SR","@Form":"CARComments.aspx","@DoneForm":"CARComments.aspx","@Title":"Add Comments","@Timeout":"20160","@TimeoutAction":"Submit","@MailTemplate":"Assign1.xsl","@Subject":"Budget Request - New Work Item ({0})","@RoleCategory":"Collaborator",Action:{"@Name":"Submit","@State":"Done",Tooltip:"Submit your comments to the collaboration area"},"@Cond":"    ","@RoleName":"Sales Representative"},{"@Role":"CSR","@Form":"CARComments.aspx","@DoneForm":"CARComments.aspx","@Title":"Add Comments","@Cond":"    ","@Timeout":"20160","@TimeoutAction":"Submit","@MailTemplate":"Assign1.xsl","@Subject":"Budget Request - New Work Item ({0})","@RoleCategory":"Collaborator",Action:{"@Name":"Submit","@State":"Done",Tooltip:"Submit your comments to the collaboration area"},"@RoleName":"Customer Support Representative"},{"@Role":"BDM","@Form":"CARComments.aspx","@DoneForm":"CARComments.aspx","@Title":"Add Comments","@Cond":"    ","@Timeout":"20160","@TimeoutAction":"Submit","@MailTemplate":"Assign1.xsl","@Subject":"Budget Request - New Work Item ({0})","@RoleCategory":"Collaborator",Action:{"@Name":"Submit","@State":"Done",Tooltip:"Submit your comments to the collaboration area"},"@RoleName":"Business Development Manager"}],"@Timeout":"5","@TimeoutUnits":"Hours","@EmailTemplate":'<div xcx="xcx213423678438-4" style="background-color:#f5f6fa;font-family: \'Segoe UI Light\',\'Segoe UI\',\'Segoe\',Tahoma,Helvetica,Arial,sans-serif;color:black;font-size: 12pt;"><style>                .brushedAluminum {            /*background-image: \t-webkit-repeating-linear-gradient(left, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,0)   6%, hsla(0,0%,100%, .1) 7.5%, hsla(0,0%, 100%,0) 9%),                            -webkit-repeating-linear-gradient(left, hsla(0,0%,  0%,0) 0%, hsla(0,0%,  0%,0)   4%, hsla(0,0%,  0%,.03) 4.5%, hsla(0,0%,  0%,0) 6%),                            -webkit-repeating-linear-gradient(left, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,0) 1.2%, hsla(0,0%,100%,.15) 2.2%, hsla(0,0%,100%,0) 4%),                            -webkit-linear-gradient(-90deg, hsl(0,0%,78%)  0%, hsl(0,0%,90%) 47%, hsl(0,0%,78%) 53%, hsl(0,0%,70%)100%);*/            /* 9-25-2021 THIS IS THE COOL MENU ANIMATION! I think @keyframes below is required as well. !!!!!!! */            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);            background-size: 400% 400%;            -moz-animation: gradient 15s ease infinite;            -o-animation: gradient 15s ease infinite;            -webkit-animation: gradient 15s ease infinite;            animation: gradient 15s ease infinite;        }        @keyframes gradient {            0% {                background-position: 0% 50%;            }            50% {                background-position: 100% 50%;            }            100% {                background-position: 0% 50%;            }        }    <\/style>    <table style="width:800px;margin-left: auto; margin-right: auto;">        <tbody><tr>            <td>Â <\/td>        <\/tr>        <tr>            <td>                <div style="float:left;">BudgetWorkflow.com<\/div>                <div style="float:right;">Need help? Contact me at todd@budgetworkflow.com.<\/div>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td>                <div style="background-color:white;padding:50px 50px 50px 50px;">                    <table>                        <tbody><tr>                            <td style="font-size:30pt;font-weight:bold;">Hello %âš‡ Participant Friendly Name%,<\/td>                        <\/tr>                        <tr>                            <td style="padding:20px;"><\/td>                        <\/tr>                        <tr>                            <td style="font-size:14pt;">%Budget Request Title%:Â "%Budget Request Project Title%",Â is ready for you to review in the Collaboration step of the workflow. The collaboration step is set to expire in xx minutes/hours/days. %âœˆ Budget Request Link%<\/td>                        <\/tr><tr><td><\/td><\/tr>                        <tr>                            <td style="font-size:14pt;">Here are your outstanding tasks:<p>%Task Summary Section%<\/p><p>%â˜’ Unsubscribe Link%<\/p><p>%â˜¯ Disclaimer/Legal Text%<\/p><\/td>                        <\/tr>                                               <tr>                            <td style="padding:30px;"><\/td>                        <\/tr>                        <tr>                            <td style="text-align:center;" align="center">                                <!--<form action="https://budgetworkflow.com/" method="get" target="_blank">                                    <input type="submit" value="Sign In" class="brushedAluminum leftButton" />                                <\/form>-->                                                                <div class="brushedAluminum leftButton" style="width:195px;height:50px;text-align: center; font-weight: bold;border:1px solid skyblue;color:white;">                                    <a href="https://budgetworkflow.com">Sign In<\/a>                                <\/div>                            <\/td>                        <\/tr>                    <\/tbody><\/table>                <\/div>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td>                <table>                    <tbody>                   <tr>                        <td><\/td>                    <\/tr>                    <tr>                        <td>Copyright Â© 2011-2025 Todd Hiltz. 61 Crescent Avenue, Kentville, NS B4N 1R1 Canada. All rights reserved.<\/td>                    <\/tr>                    <tr>                        <td><span style="font-size:10pt;font-family: \'Courier New\';">Organization: %Organization Name%<\/span><\/td>                    <\/tr>                <\/tbody><\/table>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>    <\/tbody><\/table><\/div>',"@FriendlyName":"Collaborate and Develop Consensus","@EmailInstructionText":"This email gets sent to people who are involved in this stage of the workflow when this step begins.","@EmailTemplateForSubject":'Collaboration Task. %Budget Request Title%: "%Budget Request Project Title%"'},{"@Name":"VPLevel","@Target":"ExecLevel",Assign:[{"@Role":"CIO","@Form":"CARComments.aspx","@DoneForm":"CARComments.aspx","@Title":"Add Comments/Approve","@Cond":"$ChecklistsRequired~becef88f-f43c-4e82-9ff8-0fd4d16b9555,f830e44a-d29f-4261-80c6-756236355e96  ","@TimeoutAction":"Submit","@MailTemplate":"Assign1.xsl","@Subject":"Budget Request - New Work Item ({0})","@RoleCategory":"Approver",Action:[{"@Name":"Approve","@State":"Done",Tooltip:"Approve the CAR and submit comments","@JavaScript":"$('.bwRequest').bwRequest('cmdApproveRequest');"},{"@Name":"Decline","@State":"Cancel","@RequireComments":"True",Tooltip:"Decline the entire CAR"},{"@Name":"Revise/Hold","@Target":"Revise","@RequireComments":"True",Invalidate:{"@Step":"CLevel"},Tooltip:"Send the CAR back to the original creator"}],"@RoleName":"Chief Information Officer","@AllowRequestModifications":!0},{"@Role":"AVP","@Form":"CARAppComments.aspx","@DoneForm":"CARComments.aspx","@Title":"Add Comments/Approve","@Cond":"$ChecklistsRequired~cebeba6a-e89b-48c8-a8c7-52083fd429a9","@MailTemplate":"Assign1.xsl","@Subject":"Budget Request - New Work Item ({0})","@RoleCategory":"Approver",Action:[{"@Name":"Approve","@State":"Done",Tooltip:"Approve the CAR and submit comments","@JavaScript":"$('.bwRequest').bwRequest('cmdApproveRequest', this);"},{"@Name":"Decline","@State":"Cancel","@RequireComments":"True",Tooltip:"Decline the entire CAR"},{"@Name":"Revise/Hold","@Target":"Revise","@RequireComments":"True",Invalidate:{"@Step":"CLevel"},Tooltip:"Send the CAR back to the original creator"}],"@RoleName":"Assistant Vice President"},{"@Role":"VP","@Form":"CARAppComments.aspx","@DoneForm":"CARComments.aspx","@Title":"Add Comments/Approve","@MailTemplate":"Assign1.xsl","@Subject":"Budget Request - New Work Item ({0})","@RoleCategory":"Approver",Action:[{"@Name":"Approve","@State":"Done",Tooltip:"Approve the CAR and submit comments","@JavaScript":"$('.bwRequest').bwRequest('cmdApproveRequest');"},{"@Name":"Decline","@State":"Cancel","@RequireComments":"True",Tooltip:"Decline the entire CAR"},{"@Name":"Revise/Hold","@Target":"Revise","@RequireComments":"True",Invalidate:{"@Step":"CLevel"},Tooltip:"Send the CAR back to the original creator"}],"@Cond":"    ","@RoleName":"Vice President"}],"@EmailTemplate":'<div xcx="xcx213423678438-5" style="background-color:#f5f6fa;font-family: \'Segoe UI Light\',\'Segoe UI\',\'Segoe\',Tahoma,Helvetica,Arial,sans-serif;color:black;font-size: 12pt;"><style>                .brushedAluminum {            /*background-image: \t-webkit-repeating-linear-gradient(left, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,0)   6%, hsla(0,0%,100%, .1) 7.5%, hsla(0,0%, 100%,0) 9%),                            -webkit-repeating-linear-gradient(left, hsla(0,0%,  0%,0) 0%, hsla(0,0%,  0%,0)   4%, hsla(0,0%,  0%,.03) 4.5%, hsla(0,0%,  0%,0) 6%),                            -webkit-repeating-linear-gradient(left, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,0) 1.2%, hsla(0,0%,100%,.15) 2.2%, hsla(0,0%,100%,0) 4%),                            -webkit-linear-gradient(-90deg, hsl(0,0%,78%)  0%, hsl(0,0%,90%) 47%, hsl(0,0%,78%) 53%, hsl(0,0%,70%)100%);*/            /* 9-25-2021 THIS IS THE COOL MENU ANIMATION! I think @keyframes below is required as well. !!!!!!! */            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);            background-size: 400% 400%;            -moz-animation: gradient 15s ease infinite;            -o-animation: gradient 15s ease infinite;            -webkit-animation: gradient 15s ease infinite;            animation: gradient 15s ease infinite;        }        @keyframes gradient {            0% {                background-position: 0% 50%;            }            50% {                background-position: 100% 50%;            }            100% {                background-position: 0% 50%;            }        }    <\/style>    <table style="width:800px;margin-left: auto; margin-right: auto;">        <tbody><tr>            <td>Â <\/td>        <\/tr>        <tr>            <td>                <div style="float:left;">BudgetWorkflow.com<\/div>                <div style="float:right;">Need help? Contact me at todd@budgetworkflow.com.<\/div>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td>                <div style="background-color:white;padding:50px 50px 50px 50px;">                    <table>                        <tbody><tr>                            <td style="font-size:30pt;font-weight:bold;">Hello %âš‡ Participant Friendly Name%,<\/td>                        <\/tr>                        <tr>                            <td style="padding:20px;"><\/td>                        <\/tr>                        <tr>                            <td style="font-size:14pt;">%Budget Request Title%:Â "%Budget Request Project Title%",Â is ready for you to review before it proceeds to the Executive Approvals step of the workflow.Â %âœˆ Budget Request Link%<\/td>                        <\/tr><tr><td><\/td><\/tr>                        <tr>                            <td style="font-size:14pt;">Here are your outstanding tasks:<p>%Task Summary Section%<\/p><p>%â˜’ Unsubscribe Link%<\/p><p>%â˜¯ Disclaimer/Legal Text%<\/p><\/td>                        <\/tr>                                               <tr>                            <td style="padding:30px;"><\/td>                        <\/tr>                        <tr>                            <td style="text-align:center;" align="center">                                <!--<form action="https://budgetworkflow.com/" method="get" target="_blank">                                    <input type="submit" value="Sign In" class="brushedAluminum leftButton" />                                <\/form>-->                                                                <div class="brushedAluminum leftButton" style="width:195px;height:50px;text-align: center; font-weight: bold;border:1px solid skyblue;color:white;">                                    <a href="https://budgetworkflow.com">Sign In<\/a>                                <\/div>                            <\/td>                        <\/tr>                    <\/tbody><\/table>                <\/div>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td>                <table>                    <tbody>                  <tr>                        <td><\/td>                    <\/tr>                    <tr>                        <td>Copyright Â© 2011-2025 Todd Hiltz. 61 Crescent Avenue, Kentville, NS B4N 1R1 Canada. All rights reserved.<\/td>                    <\/tr>                    <tr>                        <td><span style="font-size:10pt;font-family: \'Courier New\';">Organization: %Organization Name%<\/span><\/td>                    <\/tr>                <\/tbody><\/table>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>    <\/tbody><\/table><\/div>',"@FriendlyName":"VP Approvals","@EmailInstructionText":"This email gets sent to people who are involved in this stage of the workflow when this step begins.","@EmailTemplateForSubject":'VP Approval Task. %Budget Request Title%: "%Budget Request Project Title%"'},{"@Name":"ExecLevel","@Target":"CLevel",Assign:[{"@Role":"CMO","@Form":"CARAppComments.aspx","@DoneForm":"CARComments.aspx","@Title":"Add Comments/Approve","@MailTemplate":"Assign1.xsl","@Subject":"Budget Request - New Work Item ({0})","@RoleCategory":"Approver","@Cond":"        ",Action:[{"@Name":"Approve","@State":"Done",Tooltip:"Approve the CAR and submit comments3","@JavaScript":"$('.bwRequest').bwRequest('cmdApproveRequest');"},{"@Name":"Decline","@State":"Cancel","@RequireComments":"True",Tooltip:"Decline the entire CAR"},{"@Name":"Revise/Hold","@Target":"Revise","@RequireComments":"True",Invalidate:{"@Step":"CLevel"},Tooltip:"Send the CAR back to the original creator"}],"@RoleName":"Chief Marketing Officer"},{"@Role":"CTO","@Form":"CARForm.aspx","@DoneForm":"CARComments.aspx","@Cond":"  ","@Title":"Set Audit Date","@MailTemplate":"Assign1.xsl","@Subject":"Budget Request - New Work Item ({0})","@RoleCategory":"Collaborator",Action:[{"@Name":"Approve","@State":"Done",Tooltip:"\r\n            Approve the request and submit audit date\r\n          "},{"@Name":"Decline","@State":"Cancel","@RequireComments":"True",Tooltip:"\r\n            Cancel the entire request\r\n          "},{"@Name":"Revise/Hold","@Target":"Revise","@RequireComments":"True",Invalidate:[{"@Step":"Admin"},{"@Step":"VPLevel"}],Tooltip:"\r\n            Send the request back to the original creator\r\n          "}],"@RoleName":"Chief Technology Officer"},{"@Role":"PRES","@Form":"CARAppComments.aspx","@DoneForm":"CARComments.aspx","@Title":"Add Comments/Approve","@MailTemplate":"Assign1.xsl","@Subject":"Budget Request - New Work Item ({0})","@RoleCategory":"Approver",Action:[{"@Name":"Approve","@State":"Done",Tooltip:"Approve the CAR and submit comments","@JavaScript":"$('.bwRequest').bwRequest('cmdApproveRequest');"},{"@Name":"Decline","@State":"Cancel","@RequireComments":"True",Tooltip:"Decline the entire CAR"},{"@Name":"Revise/Hold","@Target":"Revise","@RequireComments":"True",Invalidate:{"@Step":"CLevel"},Tooltip:"Send the CAR back to the original creator"}],"@Cond":"    ","@RoleName":"President"}],"@EmailTemplate":'<div xcx="xcx213423678438-6" style="background-color:#f5f6fa;font-family: \'Segoe UI Light\',\'Segoe UI\',\'Segoe\',Tahoma,Helvetica,Arial,sans-serif;color:black;font-size: 12pt;"><style>                .brushedAluminum {            /*background-image: \t-webkit-repeating-linear-gradient(left, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,0)   6%, hsla(0,0%,100%, .1) 7.5%, hsla(0,0%, 100%,0) 9%),                            -webkit-repeating-linear-gradient(left, hsla(0,0%,  0%,0) 0%, hsla(0,0%,  0%,0)   4%, hsla(0,0%,  0%,.03) 4.5%, hsla(0,0%,  0%,0) 6%),                            -webkit-repeating-linear-gradient(left, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,0) 1.2%, hsla(0,0%,100%,.15) 2.2%, hsla(0,0%,100%,0) 4%),                            -webkit-linear-gradient(-90deg, hsl(0,0%,78%)  0%, hsl(0,0%,90%) 47%, hsl(0,0%,78%) 53%, hsl(0,0%,70%)100%);*/            /* 9-25-2021 THIS IS THE COOL MENU ANIMATION! I think @keyframes below is required as well. !!!!!!! */            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);            background-size: 400% 400%;            -moz-animation: gradient 15s ease infinite;            -o-animation: gradient 15s ease infinite;            -webkit-animation: gradient 15s ease infinite;            animation: gradient 15s ease infinite;        }        @keyframes gradient {            0% {                background-position: 0% 50%;            }            50% {                background-position: 100% 50%;            }            100% {                background-position: 0% 50%;            }        }    <\/style>    <table style="width:800px;margin-left: auto; margin-right: auto;">        <tbody><tr>            <td>Â <\/td>        <\/tr>        <tr>            <td>                <div style="float:left;">BudgetWorkflow.com<\/div>                <div style="float:right;">Need help? Contact me at todd@budgetworkflow.com.<\/div>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td>                <div style="background-color:white;padding:50px 50px 50px 50px;">                    <table>                        <tbody><tr>                            <td style="font-size:30pt;font-weight:bold;">Hello %âš‡ Participant Friendly Name%,<\/td>                        <\/tr>                        <tr>                            <td style="padding:20px;"><\/td>                        <\/tr>                        <tr>                            <td style="font-size:14pt;">%Budget Request Title%:Â "%Budget Request Project Title%",Â is ready for you to review in the Executive Approvals step of the workflow.Â %âœˆ Budget Request Link%<\/td>                        <\/tr><tr><td><\/td><\/tr>                        <tr>                            <td style="font-size:14pt;">Here are your outstanding tasks:<p>%Task Summary Section%<\/p><p>%â˜’ Unsubscribe Link%<\/p><p>%â˜¯ Disclaimer/Legal Text%<\/p><\/td>                        <\/tr>                                               <tr>                            <td style="padding:30px;"><\/td>                        <\/tr>                        <tr>                            <td style="text-align:center;" align="center">                                <!--<form action="https://budgetworkflow.com/" method="get" target="_blank">                                    <input type="submit" value="Sign In" class="brushedAluminum leftButton" />                                <\/form>-->                                                                <div class="brushedAluminum leftButton" style="width:195px;height:50px;text-align: center; font-weight: bold;border:1px solid skyblue;color:white;">                                    <a href="https://budgetworkflow.com">Sign In<\/a>                                <\/div>                            <\/td>                        <\/tr>                    <\/tbody><\/table>                <\/div>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td>                <table>                    <tbody>                <tr>                        <td><\/td>                    <\/tr>                    <tr>                        <td>Copyright Â© 2011-2025 Todd Hiltz. 61 Crescent Avenue, Kentville, NS B4N 1R1 Canada. All rights reserved.<\/td>                    <\/tr>                    <tr>                        <td><span style="font-size:10pt;font-family: \'Courier New\';">Organization: %Organization Name%<\/span><\/td>                    <\/tr>                <\/tbody><\/table>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>    <\/tbody><\/table><\/div>',"@FriendlyName":"Executive Approvals","@EmailInstructionText":"This email gets sent to people who are involved in this stage of the workflow when this step begins.","@EmailTemplateForSubject":'Executive Approval Task. %Budget Request Title%: "%Budget Request Project Title%"'},{"@Name":"CLevel","@Target":"Done",Assign:[{"@Role":"COO","@Form":"CARAppComments.aspx","@DoneForm":"CARComments.aspx","@Title":"Add Comments/Approve","@Cond":"  ","@MailTemplate":"Assign1.xsl","@Subject":"Budget Request - New Work Item ({0})","@RoleCategory":"Approver",Action:[{"@Name":"Approve","@State":"Done",Tooltip:"Approve the CAR and submit comments","@JavaScript":"$('.bwRequest').bwRequest('cmdApproveRequest');"},{"@Name":"Cancel","@State":"Cancel",Tooltip:"Cancel the entire CAR"},{"@Name":"Revise/Hold","@Target":"Revise","@RequireComments":"True",Invalidate:{"@Step":"CLevel"},Tooltip:"Send the CAR back to the original creator"}],"@RoleName":"Chief Operating Officer"},{"@Role":"CFO","@Form":"CARAppComments.aspx","@DoneForm":"CARComments.aspx","@Title":"Add Comments/Approve","@Cond":"    ","@MailTemplate":"Assign1.xsl","@Subject":"Budget Request - New Work Item ({0})","@RoleCategory":"Approver",Action:[{"@Name":"Approve","@State":"Done",Tooltip:"Approve the CAR and submit comments","@JavaScript":"$('.bwRequest').bwRequest('cmdApproveRequest');"},{"@Name":"Cancel","@State":"Cancel",Tooltip:"Cancel the entire CAR"},{"@Name":"Revise/Hold","@Target":"Revise","@RequireComments":"True",Invalidate:{"@Step":"CLevel"},Tooltip:"Send the CAR back to the original creator"}],"@RoleName":"Chief Financial Officer"},{"@Role":"CEO","@Form":"CARAppComments.aspx","@DoneForm":"CARComments.aspx","@Title":"Add Comments/Approve","@Cond":"  ","@MailTemplate":"Assign1.xsl","@Subject":"Budget Request - New Work Item ({0})","@RoleCategory":"Approver",Action:[{"@Name":"Approve","@State":"Done",Tooltip:"Approve the CAR and submit comments","@JavaScript":"$('.bwRequest').bwRequest('cmdApproveRequest');"},{"@Name":"Cancel","@State":"Cancel",Tooltip:"Cancel the entire CAR"},{"@Name":"Revise/Hold","@Target":"Revise","@RequireComments":"True",Invalidate:{"@Step":"CLevel"},Tooltip:"Send the CAR back to the original creator"}],"@RoleName":"Chief Executive Officer"}],"@EmailTemplate":'<div xcx="xcx213423678438-7" style="background-color:#f5f6fa;font-family: \'Segoe UI Light\',\'Segoe UI\',\'Segoe\',Tahoma,Helvetica,Arial,sans-serif;color:black;font-size: 12pt;"><style>                .brushedAluminum {            /*background-image: \t-webkit-repeating-linear-gradient(left, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,0)   6%, hsla(0,0%,100%, .1) 7.5%, hsla(0,0%, 100%,0) 9%),                            -webkit-repeating-linear-gradient(left, hsla(0,0%,  0%,0) 0%, hsla(0,0%,  0%,0)   4%, hsla(0,0%,  0%,.03) 4.5%, hsla(0,0%,  0%,0) 6%),                            -webkit-repeating-linear-gradient(left, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,0) 1.2%, hsla(0,0%,100%,.15) 2.2%, hsla(0,0%,100%,0) 4%),                            -webkit-linear-gradient(-90deg, hsl(0,0%,78%)  0%, hsl(0,0%,90%) 47%, hsl(0,0%,78%) 53%, hsl(0,0%,70%)100%);*/            /* 9-25-2021 THIS IS THE COOL MENU ANIMATION! I think @keyframes below is required as well. !!!!!!! */            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);            background-size: 400% 400%;            -moz-animation: gradient 15s ease infinite;            -o-animation: gradient 15s ease infinite;            -webkit-animation: gradient 15s ease infinite;            animation: gradient 15s ease infinite;        }        @keyframes gradient {            0% {                background-position: 0% 50%;            }            50% {                background-position: 100% 50%;            }            100% {                background-position: 0% 50%;            }        }    <\/style>    <table style="width:800px;margin-left: auto; margin-right: auto;">        <tbody><tr>            <td>Â <\/td>        <\/tr>        <tr>            <td>                <div style="float:left;">BudgetWorkflow.com<\/div>                <div style="float:right;">Need help? Contact me at todd@budgetworkflow.com.<\/div>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td>                <div style="background-color:white;padding:50px 50px 50px 50px;">                    <table>                        <tbody><tr>                            <td style="font-size:30pt;font-weight:bold;">Hello %âš‡ Participant Friendly Name%,<\/td>                        <\/tr>                        <tr>                            <td style="padding:20px;"><\/td>                        <\/tr>                        <tr>                            <td style="font-size:14pt;">%Budget Request Title%:Â "%Budget Request Project Title%",Â is ready for you to review before it will be completely approved.Â %âœˆ Budget Request Link%<\/td>                        <\/tr><tr><td><\/td><\/tr>                        <tr>                            <td style="font-size:14pt;">Here are your outstanding tasks:<p>%Task Summary Section%<\/p><p>%â˜’ Unsubscribe Link%<\/p><p>%â˜¯ Disclaimer/Legal Text%<\/p><\/td>                        <\/tr>                                               <tr>                            <td style="padding:30px;"><\/td>                        <\/tr>                        <tr>                            <td style="text-align:center;" align="center">                                <!--<form action="https://budgetworkflow.com/" method="get" target="_blank">                                    <input type="submit" value="Sign In" class="brushedAluminum leftButton" />                                <\/form>-->                                                                <div class="brushedAluminum leftButton" style="width:195px;height:50px;text-align: center; font-weight: bold;border:1px solid skyblue;color:white;">                                    <a href="https://budgetworkflow.com">Sign In<\/a>                                <\/div>                            <\/td>                        <\/tr>                    <\/tbody><\/table>                <\/div>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td>                <table>                    <tbody>                <tr>                        <td><\/td>                    <\/tr>                    <tr>                        <td>Copyright Â© 2011-2025 Todd Hiltz. 61 Crescent Avenue, Kentville, NS B4N 1R1 Canada. All rights reserved.<\/td>                    <\/tr>                    <tr>                        <td><span style="font-size:10pt;font-family: \'Courier New\';">Organization: %Organization Name%<\/span><\/td>                    <\/tr>                <\/tbody><\/table>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>    <\/tbody><\/table><\/div>',"@FriendlyName":"Corporate Approvals","@EmailInstructionText":"This email gets sent to people who are involved in this stage of the workflow when this step begins.","@EmailTemplateForSubject":'Corporate Approval Task. %Budget Request Title%: "%Budget Request Project Title%"'},{"@Name":"Done","@MasterState":"Approved",Inform:[{"@IdField":"ProjSponsorId","@RoleName":"Project Sponsor","@MailTemplate":"InformDone1.xsl","@Subject":"Budget Request - Project {0} approved","@Cond":"  ","@Role":"BDM"}],"@FriendlyName":"Completed (Done)","@EmailInstructionText":"This email gets sent to people who are involved in this stage of the workflow when this step begins.","@EmailTemplateForSubject":'Completed (Done) Task. %Budget Request Title%: "%Budget Request Project Title%"',"@EmailTemplate":'<div xcx="xcx213423678438-8" style="background-color:#f5f6fa;font-family: \'Segoe UI Light\',\'Segoe UI\',\'Segoe\',Tahoma,Helvetica,Arial,sans-serif;color:black;font-size: 12pt;"><style>                .brushedAluminum {            /*background-image: \t-webkit-repeating-linear-gradient(left, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,0)   6%, hsla(0,0%,100%, .1) 7.5%, hsla(0,0%, 100%,0) 9%),                            -webkit-repeating-linear-gradient(left, hsla(0,0%,  0%,0) 0%, hsla(0,0%,  0%,0)   4%, hsla(0,0%,  0%,.03) 4.5%, hsla(0,0%,  0%,0) 6%),                            -webkit-repeating-linear-gradient(left, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,0) 1.2%, hsla(0,0%,100%,.15) 2.2%, hsla(0,0%,100%,0) 4%),                            -webkit-linear-gradient(-90deg, hsl(0,0%,78%)  0%, hsl(0,0%,90%) 47%, hsl(0,0%,78%) 53%, hsl(0,0%,70%)100%);*/            /* 9-25-2021 THIS IS THE COOL MENU ANIMATION! I think @keyframes below is required as well. !!!!!!! */            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);            background-size: 400% 400%;            -moz-animation: gradient 15s ease infinite;            -o-animation: gradient 15s ease infinite;            -webkit-animation: gradient 15s ease infinite;            animation: gradient 15s ease infinite;        }        @keyframes gradient {            0% {                background-position: 0% 50%;            }            50% {                background-position: 100% 50%;            }            100% {                background-position: 0% 50%;            }        }    <\/style>    <table style="width:800px;margin-left: auto; margin-right: auto;">        <tbody><tr>            <td>Â <\/td>        <\/tr>        <tr>            <td>                <div style="float:left;">BudgetWorkflow.com<\/div>                <div style="float:right;">Need help? Contact me at todd@budgetworkflow.com.<\/div>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td>                <div style="background-color:white;padding:50px 50px 50px 50px;">                    <table>                        <tbody><tr>                            <td style="font-size:30pt;font-weight:bold;">Hello %âš‡ Participant Friendly Name%,<\/td>                        <\/tr>                        <tr>                            <td style="padding:20px;"><\/td>                        <\/tr>                        <tr>                            <td style="font-size:14pt;">%Budget Request Title%:Â "%Budget Request Project Title%",Â has been approved, and is ready to move to the "Issue Purchase Order Number" step of the workflow.Â %âœˆ Budget Request Link%<\/td>                        <\/tr><tr><td><\/td><\/tr>                        <tr>                            <td style="font-size:14pt;">Here are your outstanding tasks:<p>%Task Summary Section%<\/p><p>%â˜’ Unsubscribe Link%<\/p><p>%â˜¯ Disclaimer/Legal Text%<\/p><\/td>                        <\/tr>                                               <tr>                            <td style="padding:30px;"><\/td>                        <\/tr>                        <tr>                            <td style="text-align:center;" align="center">                                <!--<form action="https://budgetworkflow.com/" method="get" target="_blank">                                    <input type="submit" value="Sign In" class="brushedAluminum leftButton" />                                <\/form>-->                                                                <div class="brushedAluminum leftButton" style="width:195px;height:50px;text-align: center; font-weight: bold;border:1px solid skyblue;color:white;">                                    <a href="https://budgetworkflow.com">Sign In<\/a>                                <\/div>                            <\/td>                        <\/tr>                    <\/tbody><\/table>                <\/div>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td>                <table>                    <tbody>                 <tr>                        <td><\/td>                    <\/tr>                    <tr>                        <td>Copyright Â© 2011-2025 Todd Hiltz. 61 Crescent Avenue, Kentville, NS B4N 1R1 Canada. All rights reserved.<\/td>                    <\/tr>                    <tr>                        <td><span style="font-size:10pt;font-family: \'Courier New\';">Organization: %Organization Name%<\/span><\/td>                    <\/tr>                <\/tbody><\/table>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>    <\/tbody><\/table><\/div>'},{"@Name":"IssueOrderNumber","@MasterState":"Approved",Inform:[{"@Role":"ACCT","@MailTemplate":"InformDone1.xsl","@Subject":"Budget Request - Project {0} approved","@Cond":"  ","@RoleName":"Accountant"}],"@EmailTemplate":'<div xcx="xcx213423678438-9" style="background-color:#f5f6fa;font-family: \'Segoe UI Light\',\'Segoe UI\',\'Segoe\',Tahoma,Helvetica,Arial,sans-serif;color:black;font-size: 12pt;"><style>                .brushedAluminum {            /*background-image: \t-webkit-repeating-linear-gradient(left, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,0)   6%, hsla(0,0%,100%, .1) 7.5%, hsla(0,0%, 100%,0) 9%),                            -webkit-repeating-linear-gradient(left, hsla(0,0%,  0%,0) 0%, hsla(0,0%,  0%,0)   4%, hsla(0,0%,  0%,.03) 4.5%, hsla(0,0%,  0%,0) 6%),                            -webkit-repeating-linear-gradient(left, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,0) 1.2%, hsla(0,0%,100%,.15) 2.2%, hsla(0,0%,100%,0) 4%),                            -webkit-linear-gradient(-90deg, hsl(0,0%,78%)  0%, hsl(0,0%,90%) 47%, hsl(0,0%,78%) 53%, hsl(0,0%,70%)100%);*/            /* 9-25-2021 THIS IS THE COOL MENU ANIMATION! I think @keyframes below is required as well. !!!!!!! */            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);            background-size: 400% 400%;            -moz-animation: gradient 15s ease infinite;            -o-animation: gradient 15s ease infinite;            -webkit-animation: gradient 15s ease infinite;            animation: gradient 15s ease infinite;        }        @keyframes gradient {            0% {                background-position: 0% 50%;            }            50% {                background-position: 100% 50%;            }            100% {                background-position: 0% 50%;            }        }    <\/style>    <table style="width:800px;margin-left: auto; margin-right: auto;">        <tbody><tr>            <td>Â <\/td>        <\/tr>        <tr>            <td>                <div style="float:left;">BudgetWorkflow.com<\/div>                <div style="float:right;">Need help? Contact me at todd@budgetworkflow.com.<\/div>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td>                <div style="background-color:white;padding:50px 50px 50px 50px;">                    <table>                        <tbody><tr>                            <td style="font-size:30pt;font-weight:bold;">Hello %âš‡ Participant Friendly Name%,<\/td>                        <\/tr>                        <tr>                            <td style="padding:20px;"><\/td>                        <\/tr>                        <tr>                            <td style="font-size:14pt;">%Budget Request Title%:Â "%Budget Request Project Title%",Â is ready for you to assign a Purchase Order Number. %âœˆ Budget Request Link%<\/td>                        <\/tr><tr><td><\/td><\/tr>                        <tr>                            <td style="font-size:14pt;">Here are your outstanding tasks:<p>%Task Summary Section%<\/p><p>%â˜’ Unsubscribe Link%<\/p><p>%â˜¯ Disclaimer/Legal Text%<\/p><\/td>                        <\/tr>                                               <tr>                            <td style="padding:30px;"><\/td>                        <\/tr>                        <tr>                            <td style="text-align:center;" align="center">                                <!--<form action="https://budgetworkflow.com/" method="get" target="_blank">                                    <input type="submit" value="Sign In" class="brushedAluminum leftButton" />                                <\/form>-->                                                                <div class="brushedAluminum leftButton" style="width:195px;height:50px;text-align: center; font-weight: bold;border:1px solid skyblue;color:white;">                                    <a href="https://budgetworkflow.com">Sign In<\/a>                                <\/div>                            <\/td>                        <\/tr>                    <\/tbody><\/table>                <\/div>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td>                <table>                    <tbody>                 <tr>                        <td><\/td>                    <\/tr>                    <tr>                        <td>Copyright Â© 2011-2025 Todd Hiltz. 61 Crescent Avenue, Kentville, NS B4N 1R1 Canada. All rights reserved.<\/td>                    <\/tr>                    <tr>                        <td><span style="font-size:10pt;font-family: \'Courier New\';">Organization: %Organization Name%<\/span><\/td>                    <\/tr>                <\/tbody><\/table>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>    <\/tbody><\/table><\/div>',"@FriendlyName":"Issue Purchase Order Number","@EmailInstructionText":"This email gets sent to people who are involved in this stage of the workflow when this step begins.","@EmailTemplateForSubject":'Issue Purchase Number Task. %Budget Request Title%: "%Budget Request Project Title%"'}]},EmailTemplate_Informed:"",EmailTemplate_TaskAssigned:"",EmailTemplate_TaskCancelled:"",EmailTemplateForSubject_Informed:"Informed subject line\n",EmailTemplateForSubject_TaskAssigned:"Task assigned to %Role Name% (%Role Abbreviation%). %SUBJECT STEP EMAIL TEXT PLACEHOLDER% on %Budget Request Number%: %Budget Request Title%\n",EmailTemplateForSubject_TaskCancelled:"Task Canceled:  %Budget Request Number%: %Budget Request Title%\n","@EmailTemplateForSubject_TaskOverdue":"%âš‡ Participant Friendly Name%, you have %# Qty of Budget Requests with Tasks% Budget Requests(s) which are waiting for your input. ","@EmailTemplate_TaskOverdue":'<div style="background-color:#f5f6fa;font-family: \'Segoe UI Light\',\'Segoe UI\',\'Segoe\',Tahoma,Helvetica,Arial,sans-serif;color:black;font-size: 12pt;"><style>                .brushedAluminum {            /*background-image: \t-webkit-repeating-linear-gradient(left, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,0)   6%, hsla(0,0%,100%, .1) 7.5%, hsla(0,0%, 100%,0) 9%),                            -webkit-repeating-linear-gradient(left, hsla(0,0%,  0%,0) 0%, hsla(0,0%,  0%,0)   4%, hsla(0,0%,  0%,.03) 4.5%, hsla(0,0%,  0%,0) 6%),                            -webkit-repeating-linear-gradient(left, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,0) 1.2%, hsla(0,0%,100%,.15) 2.2%, hsla(0,0%,100%,0) 4%),                            -webkit-linear-gradient(-90deg, hsl(0,0%,78%)  0%, hsl(0,0%,90%) 47%, hsl(0,0%,78%) 53%, hsl(0,0%,70%)100%);*/            /* 9-25-2021 THIS IS THE COOL MENU ANIMATION! I think @keyframes below is required as well. !!!!!!! */            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);            background-size: 400% 400%;            -moz-animation: gradient 15s ease infinite;            -o-animation: gradient 15s ease infinite;            -webkit-animation: gradient 15s ease infinite;            animation: gradient 15s ease infinite;        }        @keyframes gradient {            0% {                background-position: 0% 50%;            }            50% {                background-position: 100% 50%;            }            100% {                background-position: 0% 50%;            }        }    <\/style>    <table style="width:800px;margin-left: auto; margin-right: auto;">        <tbody><tr>            <td>&nbsp;<\/td>        <\/tr>        <tr>            <td>                <div style="float:left;">BudgetWorkflow.com<\/div>                <div style="float:right;">Need help? Contact me at todd@budgetworkflow.com.<\/div>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td>                <div style="background-color:white;padding:50px 50px 50px 50px;">                    <table>                        <tbody><tr>                            <td style="font-size:30pt;font-weight:bold;">Hello %âš‡ Participant Friendly Name%,<\/td>                        <\/tr>                        <tr>                            <td style="padding:20px;"><\/td>                        <\/tr>                        <tr>                            <td style="font-size:14pt;">You have overdue task(s).<hr>%âœˆ Budget Request Link%&nbsp;&nbsp;<\/td><\/tr><\/tbody><\/table><br>%Attachment and Inventory Images%<table><tbody><tr>                        <\/tr><tr><td><\/td><\/tr>                        <tr>                            <td style="font-size:14pt;">Here are your outstanding tasks:<p>%Task Summary Section%<\/p><p>%â˜’ Unsubscribe Link%<\/p><p>%â˜¯ Disclaimer/Legal Text%<\/p><\/td>                        <\/tr>                                               <tr>                            <td style="padding:30px;"><\/td>                        <\/tr>                        <tr>                            <td style="text-align:center;" align="center">                                <!--<form action="https://budgetworkflow.com/" method="get" target="_blank">                                    <input type="submit" value="Sign In" class="brushedAluminum leftButton" />                                <\/form>-->                                                                <div class="brushedAluminum leftButton" style="width:195px;height:50px;text-align: center; font-weight: bold;border:1px solid skyblue;color:white;">                                    <a href="https://budgetworkflow.com">Sign In<\/a>                                <\/div>                            <\/td>                        <\/tr>                    <\/tbody><\/table>                <\/div>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td>                <table>                    <tbody>                <tr>                        <td><\/td>                    <\/tr>                    <tr>                        <td>Copyright Â© 2011-2025 Todd Hiltz. 61 Crescent Avenue, Kentville, NS B4N 1R1 Canada. All rights reserved.<\/td>                    <\/tr>                    <tr>                        <td><span style="font-size:10pt;font-family: \'Courier New\';">Organization: %Organization Name%<\/span><\/td>                    <\/tr>                <\/tbody><\/table>            <\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>        <tr>            <td><\/td>        <\/tr>    <\/tbody><\/table><\/div>'}};this.element.addClass("bwAuthentication");this.options.operationUriPrefix==null&&(f=window.location.href.split("https://")[1],e=f.split("/")[0],this.options.operationUriPrefix="https://"+e+"/");o=this.getUrlParams("openrequest");s=this.getUrlParams("openattachment");try{window.opener&&(i=window.opener.$(".bwAuthentication").bwAuthentication("option","participantId"))}catch(u){}if(o&&i)console.log("openrequest POPPED OUT REQUEST WINDOW xcx21314312424"),this.HandlePoppedOutWindows();else if(s&&i)this.HandlePoppedOutWindows_attachments();else if(this.options.backendAdministrationLogin==!0){console.log("In bwAuthentication.js._create(). this.options.backendAdministrationLogin == true");console.log("In bwAuthentication.js._create(). SET THE THEME HERE FOR BACKEND ADMIN!!!!!!!!!!!!!!!!!!!!!!!!!!! 12-15-2022");this.options.workflowAppTheme="brushedAluminum_admin";try{$("#divBwActiveMenu").bwActiveMenu_Admin({HomePage:!0})}catch(u){$("#divBwActiveMenu").bwActiveMenu({HomePage:!0})}this.renderDialogDivsForBackendAdministration();try{document.getElementById("spanAzureADConnectionDetails")&&$("#spanAzureADConnectionDetails").off("click").click(function(){console.log("In bwAuthentication._create.spanAzureADConnectionDetails.click().");document.getElementById("spanAzureADConnectionDetails").innerHTML.indexOf("Microsoft")>-1?t.displayAzureADConnectionDetails():t.displayBudgetWorkflowTwoFactorAuthenticationDetails()})}catch(u){}i?this.initializeTheLogonForParticipantIdAndDisplayUnsubscribePage(i):this.checkIfAuthenticatedAndProcessQuerystringParameters()}else console.log("In bwAuthentication.js._create(). this.options.backendAdministrationLogin != true"),$("#divBwActiveMenu").bwActiveMenu({}),this.renderDialogDivs().then(function(){t.options.participantId?t.initializeTheLogonForParticipantIdAndDisplayUnsubscribePage(t.options.participantId):t.checkIfAuthenticatedAndProcessQuerystringParameters()}).catch(function(n){console.log("xcx21234132 "+JSON.stringify(n));alert("xcx21234132 "+JSON.stringify(n))});console.log("In bwAuthentication._create(). The widget has been initialized.")}catch(r){u="Exception in bwAuthentication._create(): "+r.message+", "+r.stack;console.log(u);displayAlertDialog(u);n="";n+='<span style="font-size:24pt;color:red;">Failed to initialize authentication module.<\/span>';n+="<br />";n+='<span style="">Exception in bwAuthentication._create(): '+r.message+", "+r.stack+"<\/span>";t.element.html(n)}},quickMenu_xx:function(){try{console.log("In bwAuthentication.js.quickMenu_xx().")}catch(n){var t="Exception in bwAuthentication.js.quickMenu_xx(): "+n.message+", "+n.stack;console.log(t);displayALertDialog(t)}},quickMenu_ViewUser:function(){var t,n;try{console.log("In bwAuthentication.js.quickMenu_ViewUser().");t=this;$(".bwAuthentication").bwAuthentication("logonWith_BudgetWorkflow_autologon").then(function(){try{console.log("In bwAuthentication.js.quickMenu_ViewUser(). Returning from logonWith_BudgetWorkflow_autologon(), calling displayLoggedInUserDropDownInACircle().");setTimeout(function(){t.displayLoggedInUserDropDownInACircle(!0)},200)}catch(n){var i="Exception in bwAuthentication.js.quickMenu_ViewUser():2: "+n.message+", "+n.stack;console.log(i);displayALertDialog(i)}}).catch(function(n){var t="Exception in bwAuthentication.js.quickMenu_ViewUser():1: "+JSON.stringify(n);console.log(t);displayALertDialog(t)})}catch(i){n="Exception in bwAuthentication.js.quickMenu_ViewUser(): "+i.message+", "+i.stack;console.log(n);displayALertDialog(n)}},quickMenu_PlayMusic:function(){var i,n;try{console.log("In bwAuthentication.js.quickMenu_PlayMusic().");i=this;$(".bwAuthentication").bwAuthentication("logonWith_BudgetWorkflow_autologon").then(function(){try{console.log("In bwAuthentication.js.quickMenu_PlayMusic(). Returning from logonWith_BudgetWorkflow_autologon(), calling displayLoggedInUserDropDownInACircle().");setTimeout(function(){$(".bwActiveMenu").bwActiveMenu("RenderContentForButton",this,"TRACK_SPENDING2","xcx1234235-1")},200)}catch(n){var t="Exception in bwAuthentication.js.quickMenu_PlayMusic():2: "+n.message+", "+n.stack;console.log(t);displayALertDialog(t)}}).catch(function(n){var t="Exception in bwAuthentication.js.quickMenu_PlayMusic():1: "+JSON.stringify(n);console.log(t);displayALertDialog(t)})}catch(t){n="Exception in bwAuthentication.js.quickMenu_PlayMusic(): "+t.message+", "+t.stack;console.log(n);displayALertDialog(n)}},quickMenu_WatchVideo:function(){var i,n;try{console.log("In bwAuthentication.js.quickMenu_WatchVideo().");i=this;alert("In bwAuthentication.js.quickMenu_WatchVideo(). this should be a youtube like thing. woop! xcx776543212. Hook it up peer to peer. docker offload.");$(".bwAuthentication").bwAuthentication("logonWith_BudgetWorkflow_autologon").then(function(){try{console.log("In bwAuthentication.js.quickMenu_WatchVideo(). Returning from logonWith_BudgetWorkflow_autologon(), calling displayLoggedInUserDropDownInACircle().");setTimeout(function(){$(".bwActiveMenu").bwActiveMenu("RenderContentForButton",this,"TRACK_SPENDING2","xcx1234235-2")},200)}catch(n){var t="Exception in bwAuthentication.js.quickMenu_WatchVideo():2: "+n.message+", "+n.stack;console.log(t);displayALertDialog(t)}}).catch(function(n){var t="Exception in bwAuthentication.js.quickMenu_WatchVideo():1: "+JSON.stringify(n);console.log(t);displayALertDialog(t)})}catch(t){n="Exception in bwAuthentication.js.quickMenu_WatchVideo(): "+t.message+", "+t.stack;console.log(n);displayALertDialog(n)}},quickMenu_ViewNotifications:function(){var i,n;try{console.log("In bwAuthentication.js.quickMenu_ViewNotifications().");i=this;alert("In bwAuthentication.js.quickMenu_ViewNotifications().")}catch(t){n="Exception in bwAuthentication.js.quickMenu_ViewNotifications(): "+t.message+", "+t.stack;console.log(n);displayALertDialog(n)}},quickMenu_MuteUnmute:function(){var i,n;try{console.log("In bwAuthentication.js.quickMenu_MuteUnmute().");i=this;alert("In bwAuthentication.js.quickMenu_MuteUnmute().")}catch(t){n="Exception in bwAuthentication.js.quickMenu_MuteUnmute(): "+t.message+", "+t.stack;console.log(n);displayALertDialog(n)}},quickMenu_FavoriteLinks:function(){var i,n;try{console.log("In bwAuthentication.js.quickMenu_FavoriteLinks().");i=this;alert("In bwAuthentication.js.quickMenu_FavoriteLinks().")}catch(t){n="Exception in bwAuthentication.js.quickMenu_FavoriteLinks(): "+t.message+", "+t.stack;console.log(n);displayALertDialog(n)}},timedCheckForAlertsForIosBadgeUpdateUsingTitle:function(){try{var t=$(".bwAuthentication").bwAuthentication("option","participantId");t&&(console.log("In bwAuthentication.js.timedCheckForAlertsForIosBadgeUpdateUsingTitle(). participantId: "+t),console.log("In bwAuthentication.js.timedCheckForAlertsForIosBadgeUpdateUsingTitle(). >>>>>>>>>>> HOOK UP autoRefreshHomePage HERE!!!!!!! This is where other's activity will show up etc. A social network!"),console.log("In bwAuthentication.js.timedCheckForAlertsForIosBadgeUpdateUsingTitle(). Check bwNotificationSound to see if we need to play a notification sound."),$(".bwNotificationSound:first").bwNotificationSound("checkIfWeNeedToPlayANotificationSound"),console.log(""),console.log('In bwAuthentication.js.timedCheckForAlertsForIosBadgeUpdateUsingTitle(). TURNED THIS OFF... DO WE NEED IT IN THE FUTURE? >>>>>>> SAVE THEIR WORK "BEHIND THE SCENES" SO THAT WHEN THEY COME BACK, IT IS STILL THERE.'),console.log(""))}catch(n){console.log("Exception in bwAuthentication.js.timedCheckForAlertsForIosBadgeUpdateUsingTitle(): "+n.message+", "+n.stack);displayAlertDialog("Exception in bwAuthentication.js.timedCheckForAlertsForIosBadgeUpdateUsingTitle(): "+n.message+", "+n.stack)}},formatDateAndTimeFromBW:function(n){var t,u;if(n)try{var f=monthNames[Number(n.split("-")[1])-1].trim(),e=n.split("-")[2].split("T")[0].trim(),o=n.split("-")[0].trim(),i=n.split("-")[2].split("T")[1].split(":")[0],r=n.split("-")[2].split("T")[1].split(":")[1];r.length==1&&(r="0"+r);u="";i>12?(u="PM",i=i-12):u="AM";t=f+" "+e+", "+o+" at "+i+":"+r+u}catch(s){t="Error in start.js.formatDateAndTimeFromBW("+n+"): "+s.message}else t="";return t},configurationBehaviorToggleBrowserPushNotificationsSlider_Onchange:function(){var t,i,n;try{console.log("In index.js.configurationBehaviorToggleBrowserPushNotificationsSlider_Onchange().");t=this;i=t.options.serviceworker_registration;Notification.requestPermission().then(function(n){var t,r;try{alert("Notification.requestPermission(): "+n);n=="granted"?(t="TEST NOTIFICATION FROM TODD: "+n,i.showNotification(t,options)):t="TEST NOTIFICATION FROM TODD: "+n}catch(u){r="Exception in index.js.configurationBehaviorToggleBrowserPushNotificationsSlider_Onchange():3: "+u.message+", "+u.stack;console.log(r);alert(r)}}).catch(function(n){var t="Exception in index.js.configurationBehaviorToggleBrowserPushNotificationsSlider_Onchange():2: "+JSON.stringify(n);alert(t)})}catch(r){n="Exception in index.js.configurationBehaviorToggleBrowserPushNotificationsSlider_Onchange(): "+r.message+", "+r.stack;console.log(n);displayAlertDialog(n)}},HandlePoppedOutWindows:function(){var n,o,u,i,f,e,b,r;try{for(console.log("In bwAuthentication.js.HandlePoppedOutWindows()."),console.log(""),console.log("/////////////////////////////////////"),console.log("In bwAuthentication.js.HandlePoppedOutWindows(). THIS IS A PLACE WHERE THE POPPED-OUT WINDOW IS HANDLED."),console.log("/////////////////////////////////////"),console.log(""),o=document.defaultView||document.parentWindow,u=window.opener.$(".bwAuthentication").bwAuthentication("option","poppedOutRequestWindows"),i=0;i<u.length;i++)u[i].windowObjectReference===o&&(n=u[i]);if(n.windowWidgetType==="bwInvoiceGrid"){f=n.bwBudgetRequestId;e=n.requestDialogId;console.log("THIS IS WHERE THE bwInvoiceGrid POP-OUT WINDOW IS HANDLED. We need to call ?viewInLargeWindow()? bwBudgetRequestId: "+f+", requestDialogId: "+e);var k=this.getUrlParams("request"),rt=this.getUrlParams("ActiveStateIdentifier"),s=window.opener.$(".bwAuthentication").bwAuthentication("option","tenantId"),h=window.opener.$(".bwAuthentication").bwAuthentication("option","workflowAppId"),c=window.opener.$(".bwAuthentication").bwAuthentication("option","participantId"),l=window.opener.$(".bwAuthentication").bwAuthentication("option","participantEmail"),a=window.opener.$(".bwAuthentication").bwAuthentication("option","participantFriendlyName"),v=window.opener.$(".bwAuthentication").bwAuthentication("option","participantLogonType"),y=window.opener.$(".bwAuthentication").bwAuthentication("option","participantLogonTypeUserId"),p=window.opener.$(".bwAuthentication").bwAuthentication("option","bwEnabledRequestTypes");$(".bwAuthentication").bwAuthentication({tenantId:s,workflowAppId:h,participantId:c,participantEmail:l,participantFriendlyName:a,participantLogonType:v,participantLogonTypeUserId:y,bwEnabledRequestTypes:p});var w=n.jsonData,d=n.bwWorkflowTaskItemId,g=n.bwOrgId,nt=n.bwOrgName,tt=n.bwRequestTitle;console.log("In bwAuthentication.js.HandlePoppedOutWindows(). xcx231231-123 requestDialogId: "+e+", jsonData: "+JSON.stringify(w));b={displayContext:"window",bwBudgetRequestId:f,bwWorkflowTaskItemId:d,bwOrgId:g,bwOrgName:nt,bwRequestTitle:tt,jsonData:w,allowRequestModifications:this.options.allowRequestModifications,bwRequestJson:this.options.bwRequestJson,renderAsARequiredField:this.options.renderAsARequiredField,customRenderingInstructions:this.options.formWidget_CustomRenderingInstructions};r=document.getElementById("divBwInvoiceGrid");r||(r=document.createElement("div"),r.id="divBwInvoiceGrid",document.body.appendChild(r));setTimeout(function(){$("#divBwInvoiceGrid").bwInvoiceGrid(b)},500)}else{console.log("THIS IS WHERE THE bwRequest POP-OUT WINDOW IS HANDLED.");var k=this.getUrlParams("request"),rt=this.getUrlParams("ActiveStateIdentifier"),s=window.opener.$(".bwAuthentication").bwAuthentication("option","tenantId"),h=window.opener.$(".bwAuthentication").bwAuthentication("option","workflowAppId"),c=window.opener.$(".bwAuthentication").bwAuthentication("option","participantId"),l=window.opener.$(".bwAuthentication").bwAuthentication("option","participantEmail"),a=window.opener.$(".bwAuthentication").bwAuthentication("option","participantFriendlyName"),it=window.opener.$(".bwAuthentication").bwAuthentication("option","participantRole"),v=window.opener.$(".bwAuthentication").bwAuthentication("option","participantLogonType"),y=window.opener.$(".bwAuthentication").bwAuthentication("option","participantLogonTypeUserId"),p=window.opener.$(".bwAuthentication").bwAuthentication("option","bwEnabledRequestTypes");$(".bwAuthentication").bwAuthentication({tenantId:s,workflowAppId:h,participantId:c,participantEmail:l,participantFriendlyName:a,participantRole:it,participantLogonType:v,participantLogonTypeUserId:y,bwEnabledRequestTypes:p});console.log("In bwAuthentication.js._create(). Instantiating bwRequest widget and calling displayRequestFormInNewBrowserWindow().");this.renderDialogDivs().then(function(){try{console.log("********************");console.log("RETURNED FROM bwAuthentication.js.renderDialogDivs(). Preparing to instantiate bwRequest.js.");console.log("********************");var t=$("#divBwRequest").bwRequest({});$(".bwRequest").bwRequest("displayRequestFormInNewBrowserWindow",k)}catch(n){console.log("Exception in In bwAuthentication.js._create(). xcx21313412-2: "+n.message+", "+n.stack);displayAlertDialog("Exception in In bwAuthentication.js._create(). xcx21313412-2: "+n.message+", "+n.stack)}}).catch(function(n){console.log("Exception in In bwAuthentication.js._create(). xcx21313412: "+JSON.stringify(n));displayAlertDialog("Exception in In bwAuthentication.js._create(). xcx21313412: "+JSON.stringify(n))})}}catch(t){console.log("Exception in bwAuthentication.js.HandlePoppedOutWindows(): "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.js.HandlePoppedOutWindows(): "+t.message+", "+t.stack);alert("Exception in bwAuthentication.js.HandlePoppedOutWindows(): "+t.message+", "+t.stack)}},HandlePoppedOutWindows_attachments:function(){var n,f,r,i,y,t,p;try{for(console.log("In bwAuthentication.js.HandlePoppedOutWindows_attachments()."),window.opener.$("#AttachmentsDialog1").dialog("close"),console.log(""),console.log("/////////////////////////////////////"),console.log("In bwAuthentication.js.HandlePoppedOutWindows_attachments(). THIS IS A PLACE WHERE THE POPPED-OUT WINDOW IS HANDLED."),console.log("/////////////////////////////////////"),console.log(""),console.log("In bwAuthentication.js.HandlePoppedOutWindows_attachments(). LOOKING FOR ATTACHMENT WINDOW REFERENCE TO GET PARMS."),f=document.defaultView||document.parentWindow,r=window.opener.$(".bwAuthentication").bwAuthentication("option","poppedOutAttachmentWindows"),i=0;i<r.length;i++)r[i].windowObjectReference===f&&(n=r[i]);n?console.log("FOUND THE WINDOW. fileUrl: "+n.fileUrl+", filename: "+n.filename+", description: "+n.description+", bwBudgetRequestId: "+n.bwBudgetRequestId):alert("xcx2312 DIDNT FIND THE WINDOW... TRY AGAIN <<<<<<<<<<<<<<");console.log("THIS IS WHERE THE bwAttachmentDialog POP-OUT WINDOW IS HANDLED.");var w=this.getUrlParams("request"),b=this.getUrlParams("ActiveStateIdentifier"),e=window.opener.$(".bwAuthentication").bwAuthentication("option","tenantId"),o=window.opener.$(".bwAuthentication").bwAuthentication("option","workflowAppId"),s=window.opener.$(".bwAuthentication").bwAuthentication("option","participantId"),h=window.opener.$(".bwAuthentication").bwAuthentication("option","participantEmail"),c=window.opener.$(".bwAuthentication").bwAuthentication("option","participantFriendlyName"),l=window.opener.$(".bwAuthentication").bwAuthentication("option","participantLogonType"),a=window.opener.$(".bwAuthentication").bwAuthentication("option","participantLogonTypeUserId"),v=window.opener.$(".bwAuthentication").bwAuthentication("option","bwEnabledRequestTypes");$(".bwAuthentication").bwAuthentication({tenantId:e,workflowAppId:o,participantId:s,participantEmail:h,participantFriendlyName:c,participantLogonType:l,participantLogonTypeUserId:a,bwEnabledRequestTypes:v});console.log("In bwAuthentication.js.HandlePoppedOutWindows_attachments(). Instantiating bwAttachmentDialog.js widget and calling displayRequestFormInNewBrowserWindow().");console.log("Instantiate the bwAttachmentDialog.js widget here. 2-16-2024. xcx2312312-1.");t=document.getElementById("divBwAttachmentDialog");t||(t=document.createElement("div"),t.id="divBwAttachmentDialog",document.body.appendChild(t));y=$("#divBwAttachmentDialog").bwAttachmentDialog({});$(".bwAttachmentDialog").bwAttachmentDialog("displayAttachmentInDialog",n.fileUrl,n.filename,n.description,n.bwBudgetRequestId);t=document.getElementById("divBwPrintButton");t||(t=document.createElement("div"),t.id="divBwPrintButton",document.body.appendChild(t));p=$("#divBwPrintButton").bwPrintButton({})}catch(u){console.log("Exception in bwAuthentication.js.HandlePoppedOutWindows_attachments(): "+u.message+", "+u.stack);displayAlertDialog("Exception in bwAuthentication.js.HandlePoppedOutWindows_attachments(): "+u.message+", "+u.stack)}},_setOption:function(n,t){this.options[n]=t;this._update()},_update:function(){try{console.log("In _update(). This does nothing! (yet)")}catch(n){console.log("Exception in _update(): "+n.message+", "+n.stack)}},_destroy:function(){this.element.removeClass("bwAuthentication").text("")},purchaseTest:function(){try{console.log("In bwAuthentication.js.purchaseTest().");var t=this.options.operationUriPrefix+"_bw/create_checkout_session";$.ajax({url:t,type:"POST",data:{},headers:{Accept:"application/json; odata=verbose"},success:function(n){try{n.status!="SUCCESS"?displayAlertDialog("xcx123234234-1 "+JSON.stringify(n)):n.results.url?(alert("Setting window.location. xcx213124-4."),window.location=n.results.url):displayAlertDialog("Error: Stripe provided no forwarding url. xcx123234234-2 "+JSON.stringify(n))}catch(t){console.log("Exception in bwAuthentication.js.purchaseTest():2: "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.js.purchaseTest():2: "+t.message+", "+t.stack)}},error:function(n,t,i){console.log("Error in bwAuthentication.js.purchaseTest(). "+i+", "+t+", "+JSON.stringify(n));displayAlertDialog("Error in bwAuthentication.js.purchaseTest(). "+i+", "+t+", "+JSON.stringify(n))}})}catch(n){console.log("Exception in bwAuthentication.js.purchaseTest(): "+n.message+", "+n.stack);displayAlertDialog("Exception in bwAuthentication.js.purchaseTest(): "+n.message+", "+n.stack)}},purchase_one_month_low_traffic_hosting:function(){try{console.log("In bwAuthentication.js.purchase_one_month_low_traffic_hosting().");var t=this.options.operationUriPrefix+"_bw/stripe_one_month_low_traffic_hosting";$.ajax({url:t,type:"POST",data:{},headers:{Accept:"application/json; odata=verbose"},success:function(n){try{n.status!="SUCCESS"?displayAlertDialog("xcx123234234-2 "+JSON.stringify(n)):n.results.url?(alert("Setting window.location. xcx213124-5."),window.location=n.results.url):displayAlertDialog("Error: Stripe provided no forwarding url. xcx123234234-2 "+JSON.stringify(n))}catch(t){console.log("Exception in bwAuthentication.js.purchase_one_month_low_traffic_hosting():2: "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.js.purchase_one_month_low_traffic_hosting():2: "+t.message+", "+t.stack)}},error:function(n,t,i){console.log("Error in bwAuthentication.js.purchase_one_month_low_traffic_hosting(). "+i+", "+t+", "+JSON.stringify(n));displayAlertDialog("Error in bwAuthentication.js.purchase_one_month_low_traffic_hosting(). "+i+", "+t+", "+JSON.stringify(n))}})}catch(n){console.log("Exception in bwAuthentication.js.purchase_one_month_low_traffic_hosting(): "+n.message+", "+n.stack);displayAlertDialog("Exception in bwAuthentication.js.purchase_one_month_low_traffic_hosting(): "+n.message+", "+n.stack)}},purchase_one_year_low_traffic_hosting:function(){try{console.log("In bwAuthentication.js.purchase_one_year_low_traffic_hosting().");var t=this.options.operationUriPrefix+"_bw/stripe_one_year_low_traffic_hosting";$.ajax({url:t,type:"POST",data:{},headers:{Accept:"application/json; odata=verbose"},success:function(n){try{n.status!="SUCCESS"?displayAlertDialog("xcx123234234-2 "+JSON.stringify(n)):n.results.url?(alert("Setting window.location. xcx213124-6."),window.location=n.results.url):displayAlertDialog("Error: Stripe provided no forwarding url. xcx123234234-2 "+JSON.stringify(n))}catch(t){console.log("Exception in bwAuthentication.js.purchase_one_year_low_traffic_hosting():2: "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.js.purchase_one_year_low_traffic_hosting():2: "+t.message+", "+t.stack)}},error:function(n,t,i){console.log("Error in bwAuthentication.js.purchase_one_year_low_traffic_hosting(). "+i+", "+t+", "+JSON.stringify(n));displayAlertDialog("Error in bwAuthentication.js.purchase_one_year_low_traffic_hosting(). "+i+", "+t+", "+JSON.stringify(n))}})}catch(n){console.log("Exception in bwAuthentication.js.purchase_one_year_low_traffic_hosting(): "+n.message+", "+n.stack);displayAlertDialog("Exception in bwAuthentication.js.purchase_one_year_low_traffic_hosting(): "+n.message+", "+n.stack)}},purchase_one_hour_support:function(){try{console.log("In bwAuthentication.js.purchase_one_hour_support().");var t=this.options.operationUriPrefix+"_bw/stripe_one_hour_support";$.ajax({url:t,type:"POST",data:{},headers:{Accept:"application/json; odata=verbose"},success:function(n){try{n.status!="SUCCESS"?displayAlertDialog("xcx123234234-3 "+JSON.stringify(n)):n.results.url?(alert("Setting window.location. xcx213124-7."),window.location=n.results.url):displayAlertDialog("Error: Stripe provided no forwarding url. xcx123234234-2 "+JSON.stringify(n))}catch(t){console.log("Exception in bwAuthentication.js.purchase_one_hour_support():2: "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.js.purchase_one_hour_support():2: "+t.message+", "+t.stack)}},error:function(n,t,i){console.log("Error in bwAuthentication.js.purchase_one_hour_support(). "+i+", "+t+", "+JSON.stringify(n));displayAlertDialog("Error in bwAuthentication.js.purchase_one_hour_support(). "+i+", "+t+", "+JSON.stringify(n))}})}catch(n){console.log("Exception in bwAuthentication.js.purchase_one_hour_support(): "+n.message+", "+n.stack);displayAlertDialog("Exception in bwAuthentication.js.purchase_one_hour_support(): "+n.message+", "+n.stack)}},purchase_one_hour_flyover:function(){try{console.log("In bwAuthentication.js.purchase_one_hour_flyover().");var t=this.options.operationUriPrefix+"_bw/stripe_one_hour_flyover";$.ajax({url:t,type:"POST",data:{},headers:{Accept:"application/json; odata=verbose"},success:function(n){try{n.status!="SUCCESS"?displayAlertDialog("xcx123234234-3 "+JSON.stringify(n)):n.results.url?(alert("Setting window.location. xcx213124-8."),window.location=n.results.url):displayAlertDialog("Error: Stripe provided no forwarding url. xcx123234234-2 "+JSON.stringify(n))}catch(t){console.log("Exception in bwAuthentication.js.purchase_one_hour_flyover():2: "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.js.purchase_one_hour_flyover():2: "+t.message+", "+t.stack)}},error:function(n,t,i){console.log("Error in bwAuthentication.js.purchase_one_hour_flyover(). "+i+", "+t+", "+JSON.stringify(n));displayAlertDialog("Error in bwAuthentication.js.purchase_one_hour_flyover(). "+i+", "+t+", "+JSON.stringify(n))}})}catch(n){console.log("Exception in bwAuthentication.js.purchase_one_hour_flyover(): "+n.message+", "+n.stack);displayAlertDialog("Exception in bwAuthentication.js.purchase_one_hour_flyover(): "+n.message+", "+n.stack)}},purchase_source_code:function(){try{console.log("In bwAuthentication.js.purchase_source_code().");var t=this.options.operationUriPrefix+"_bw/stripe_source_code";$.ajax({url:t,type:"POST",data:{},headers:{Accept:"application/json; odata=verbose"},success:function(n){try{n.status!="SUCCESS"?displayAlertDialog("xcx123234234-4 "+JSON.stringify(n)):n.results.url?(alert("Setting window.location. xcx213124-9."),window.location=n.results.url):displayAlertDialog("Error: Stripe provided no forwarding url. xcx123234234-2 "+JSON.stringify(n))}catch(t){console.log("Exception in bwAuthentication.js.purchase_source_code():2: "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.js.purchase_source_code():2: "+t.message+", "+t.stack)}},error:function(n,t,i){console.log("Error in bwAuthentication.js.purchase_source_code(). "+i+", "+t+", "+JSON.stringify(n));displayAlertDialog("Error in bwAuthentication.js.purchase_source_code(). "+i+", "+t+", "+JSON.stringify(n))}})}catch(n){console.log("Exception in bwAuthentication.js.purchase_source_code(): "+n.message+", "+n.stack);displayAlertDialog("Exception in bwAuthentication.js.purchase_source_code(): "+n.message+", "+n.stack)}},deploy_to_hosted_servers:function(){try{console.log("In bwAuthentication.js.deploy_to_hosted_servers().");var t=this.options.operationUriPrefix+"_bw/stripe_deploy_to_hosted_servers";$.ajax({url:t,type:"POST",data:{},headers:{Accept:"application/json; odata=verbose"},success:function(n){try{n.status!="SUCCESS"?displayAlertDialog("xcx123234234-4 "+JSON.stringify(n)):n.results.url?(alert("Setting window.location. xcx213124-10."),window.location=n.results.url):displayAlertDialog("Error: Stripe provided no forwarding url. xcx123234234-2 "+JSON.stringify(n))}catch(t){console.log("Exception in bwAuthentication.js.deploy_to_hosted_servers():2: "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.js.deploy_to_hosted_servers():2: "+t.message+", "+t.stack)}},error:function(n,t,i){console.log("Error in bwAuthentication.js.deploy_to_hosted_servers(). "+i+", "+t+", "+JSON.stringify(n));displayAlertDialog("Error in bwAuthentication.js.deploy_to_hosted_servers(). "+i+", "+t+", "+JSON.stringify(n))}})}catch(n){console.log("Exception in bwAuthentication.js.deploy_to_hosted_servers(): "+n.message+", "+n.stack);displayAlertDialog("Exception in bwAuthentication.js.deploy_to_hosted_servers(): "+n.message+", "+n.stack)}},checkIfWeNeedToUpdateTheHomepage:function(n){var t,f,i,r,e,o,s;try{if(console.log("In bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage(). bwBudgetRequestId: "+n),t=window,window.opener&&(t=window.opener),f=t.$("#divWelcomeButton").attr("class"),f.indexOf("_SelectedButton")>-1&&(t.scrollTo(0,0),i=t.$(".executiveSummaryInCarousel"),i&&i.length&&i.length>0))for(r=0;r<i.length;r++)if(e=t.$(i[r]).attr("bwbudgetrequestid"),n==e){console.log("In bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage(). We just changed this request... we need to redisplay it here. bwBudgetRequestId: "+n);o=r;s=$(".bwRequest").bwRequest("scrapeBwRequestJson",n);s.then(function(r){var u,y,s,h,e,l,a,f,c;try{if(u=r.bwRequestJson,y=t.$(i[o]).attr("bwworkflowtaskitemid"),y){for(h=$(".bwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2("option","taskData"),f=0;f<h.length;f++)if(y==h[f].bwWorkflowTaskItemId){s=h[f];break}s.bwRequestJson=JSON.stringify(u);u.bwLocationPicker&&u.bwLocationPicker.value&&u.bwLocationPicker.value.bwOrgId&&(s.OrgId=u.bwLocationPicker.value.bwOrgId);u.bwLocationPicker&&u.bwLocationPicker.value&&u.bwLocationPicker.value.bwOrgName&&(s.OrgName=u.bwLocationPicker.value.bwOrgName);u.ProjectTitle&&u.ProjectTitle.value&&(s.ProjectTitle=u.ProjectTitle.value);u.bwRequestedCapitalField&&u.bwRequestedCapitalField.value&&(s.RequestedCapital=u.bwRequestedCapitalField.value);console.log("Calling renderExecutiveSummaryForTask(). xcx11223-1");c=t.$(".bwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2("renderExecutiveSummaryForTask",JSON.stringify(s),null);c.then(function(){var i,f,r,o;try{for(console.log('In bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage(). ALL OF THE "TASK" EXECUTIVE SUMMARIES ARE DISPLAYING UP TO DATE INFORMATION.'),f=$(".bwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2("option","brData").PendingBudgetRequests,r=0;r<f.length;r++)if(n==f[r].bwBudgetRequestId){i=f[r];break}i.bwRequestJson=JSON.stringify(u);u.bwLocationPicker&&u.bwLocationPicker.value&&u.bwLocationPicker.value.bwOrgId&&(i.OrgId=u.bwLocationPicker.value.bwOrgId);u.bwLocationPicker&&u.bwLocationPicker.value&&u.bwLocationPicker.value.bwOrgName&&(i.OrgName=u.bwLocationPicker.value.bwOrgName);u.ProjectTitle&&u.ProjectTitle.value&&(i.ProjectTitle=u.ProjectTitle.value);u.bwRequestedCapitalField&&u.bwRequestedCapitalField.value&&(i.RequestedCapital=u.bwRequestedCapitalField.value);console.log("Calling renderExecutiveSummaryForRequest(). xcx332-1");alert("Calling renderExecutiveSummaryForRequest(). xcx332-1");o=t.$(".bwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2("renderExecutiveSummaryForRequest",JSON.stringify(i),null);o.then(function(){console.log('In bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage(). ALL OF THE "REQUEST" EXECUTIVE SUMMARIES ARE DISPLAYING UP TO DATE INFORMATION.')}).catch(function(n){console.log("Exception in bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage(): "+JSON.stringify(n));alert("Exception in bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage():xcx2131244-1: "+JSON.stringify(n))})}catch(e){console.log("Exception in bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage():4: "+e.message+", "+e.stack);displayAlertDialog("Exception in bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage():4: "+e.message+", "+e.stack)}}).catch(function(n){console.log("Exception in bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage(): "+JSON.stringify(n));displayAlertDialog("Exception in bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage(): "+JSON.stringify(n))})}else{if(console.log("In bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage(). This is a Request item. Preparing to call renderExecutiveSummaryForRequest()."),l=$(".bwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2("option","brData"),l&&l.PendingBudgetRequests){for(a=l.PendingBudgetRequests,f=0;f<a.length;f++)if(n==a[f].bwBudgetRequestId){e=a[f];break}}else console.log(""),console.log("***********************"),console.log("In bwAuthentication.js.xx(). NO PendingBudgetRequests. THIS MAY NOT BE THE WAY IT IS SUPPOSED TO BE. ?? xcx231243234."),console.log("***********************"),console.log("");e&&(e.bwRequestJson=JSON.stringify(u),u.bwLocationPicker&&u.bwLocationPicker.value&&u.bwLocationPicker.value.bwOrgId&&(e.OrgId=u.bwLocationPicker.value.bwOrgId),u.bwLocationPicker&&u.bwLocationPicker.value&&u.bwLocationPicker.value.bwOrgName&&(e.OrgName=u.bwLocationPicker.value.bwOrgName),u.ProjectTitle&&u.ProjectTitle.value&&(e.ProjectTitle=u.ProjectTitle.value),u.bwRequestedCapitalField&&u.bwRequestedCapitalField.value&&(e.RequestedCapital=u.bwRequestedCapitalField.value),console.log("Calling renderExecutiveSummaryForRequest(). xcx332-2"),alert("Calling renderExecutiveSummaryForRequest(). xcx332-2"),c=t.$(".bwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2("renderExecutiveSummaryForRequest",JSON.stringify(e),null),c.then(function(){var i,f,r,o;try{for(console.log('In bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage(). ALL OF THE "REQUEST" EXECUTIVE SUMMARIES ARE DISPLAYING UP TO DATE INFORMATION.'),f=$(".bwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2("option","taskData"),r=0;r<f.length;r++)if(n==f[r].bwRelatedItemId){i=f[r];break}console.log("This does not always have the task section displaying on the home page..... so that is why we are checking here.... we need to add code to display other method from [renderExecutiveSummaryForTask]??");i&&(i.bwRequestJson=JSON.stringify(u),u.bwLocationPicker&&u.bwLocationPicker.value&&u.bwLocationPicker.value.bwOrgId&&(i.OrgId=u.bwLocationPicker.value.bwOrgId),u.bwLocationPicker&&u.bwLocationPicker.value&&u.bwLocationPicker.value.bwOrgName&&(i.OrgName=u.bwLocationPicker.value.bwOrgName),u.ProjectTitle&&u.ProjectTitle.value&&(i.ProjectTitle=u.ProjectTitle.value),u.bwRequestedCapitalField&&u.bwRequestedCapitalField.value&&(i.RequestedCapital=u.bwRequestedCapitalField.value),alert("Calling renderExecutiveSummaryForTask(). xcx11223-2"),o=t.$(".bwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2("renderExecutiveSummaryForTask",JSON.stringify(i),null),o.then(function(){console.log('In bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage(). ALL OF THE "TASK" EXECUTIVE SUMMARIES ARE DISPLAYING UP TO DATE INFORMATION.');alert('In bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage(). ALL OF THE "TASK" EXECUTIVE SUMMARIES ARE DISPLAYING UP TO DATE INFORMATION.')}).catch(function(n){console.log("Exception in bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage(): "+JSON.stringify(n));alert("Exception in bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage():xcx2131244-2: "+JSON.stringify(n))}))}catch(e){console.log("Exception in bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage():3: "+e.message+", "+e.stack);displayAlertDialog("Exception in bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage():3: "+e.message+", "+e.stack)}}).catch(function(n){console.log("Exception in bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage(): "+JSON.stringify(n));alert("Exception in bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage():xcx2131244-3: "+JSON.stringify(n))}))}}catch(v){console.log("Exception in bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage():2: "+v.message+", "+v.stack);displayAlertDialog("Exception in bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage():2: "+v.message+", "+v.stack)}});break}}catch(u){console.log("Exception in bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage(): "+u.message+", "+u.stack);displayAlertDialog("Exception in bwAuthentication.js.checkIfWeNeedToUpdateTheHomepage(): "+u.message+", "+u.stack)}},redrawSingleExecutiveSummary:function(n,t){var r,f,s,e,v,a,y,h,o,l,i,c,u;try{if(console.log("In bwAuthentication.js.redrawSingleExecutiveSummary(). bwBudgetRequestId: "+n),r=window,window.opener&&(r=window.opener),f=r.$(".executiveSummaryInCarousel"),f&&f.length&&f.length>0)for(s=0;s<f.length;s++)if(e=s,v=r.$(f[e]).attr("bwbudgetrequestid"),n==v)if(console.log("In bwAuthentication.js.redrawSingleExecutiveSummary(). We just changed this request, now we are updating an Executive Summary here. bwBudgetRequestId: "+n),a=r.$(f[e]).attr("bwworkflowtaskitemid"),a){for(h=r.$(".bwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2("option","taskData"),i=0;i<h.length;i++)if(a==h[i].bwWorkflowTaskItemId){y=h[i];break}c=r.$(".bwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2("renderExecutiveSummaryForTask",JSON.stringify(y),r.$(f[e]));c.then(function(){console.log('In In bwAuthentication.js.redrawSingleExecutiveSummary(). ALL OF THE "TASK" EXECUTIVE SUMMARIES ARE DISPLAYING UP TO DATE INFORMATION.')}).catch(function(n){var t="Exception in bwAuthentication.js.redrawSingleExecutiveSummary():1: "+JSON.stringify(n);console.log(t);displayAlertDialog(t)})}else{for(l=this.options.ACTIVE_REQUESTS.docs,i=0;i<l.length;i++)if(n==l[i].bwBudgetRequestId){o=l[i];requestJsonIndex=i;break}o?(o.bwRequestJson=t.bwRequestJson,o.ProjectTitle=t.ProjectTitle,console.log("Calling renderExecutiveSummaryForRequest(). xcx231232."),c=r.$(".bwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2("renderExecutiveSummaryForRequest",o,r.$(f[e])),c.then(function(){console.log('In bwAuthentication.js.redrawSingleExecutiveSummary(). ALL OF THE "REQUEST" EXECUTIVE SUMMARIES ARE DISPLAYING UP TO DATE INFORMATION.')}).catch(function(n){var t="Exception in bwAuthentication.js.redrawSingleExecutiveSummary(): "+JSON.stringify(n);console.log(t);alert(t)})):(u="",u+=">>>>>>>>>>>>>>>>>>>>>>>><<<<<<<<<<<<<<<<<<<<<<<<<<<",u+=">>>>>>>>>>>>>>>>>>>>>>>><<<<<<<<<<<<<<<<<<<<<<<<<<<",u+="Error in bwAuthentication.js.redrawSingleExecutiveSummary(). Error: Could not find the request in the client storage. FIX THIS! bwBudgetRequestId: "+n,u+=">>>>>>>>>>>>>>>>>>>>>>>><<<<<<<<<<<<<<<<<<<<<<<<<<<",u+=">>>>>>>>>>>>>>>>>>>>>>>><<<<<<<<<<<<<<<<<<<<<<<<<<<",console.log(u))}}catch(p){u="Exception in bwAuthentication.js.redrawSingleExecutiveSummary(): "+p.message+", "+p.stack;console.log(u);alert(u)}},renderTheOrgBreadcrumb2:function(n,t){var h,c,l,a,v,f,o,e,p;try{if(console.log("In bwAuthentication.js.renderTheOrgBreadcrumb2()."),v="",console.log(""),console.log("***************"),console.log("In bwLocationPiker.js.selectLocation(). Another crazy fix here, come back sometime to revisit. xcx3245347-1"),console.log("***************"),console.log(""),n&&n.Global?n.Global.Global&&(n.Global=n.Global.Global):(console.log(""),console.log("XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"),console.log("COULD THIS BE A PROBLEM? xcx2349953-1."),console.log("XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"),console.log("")),n&&n.Global&&t==n.Global.Id)h="root",c=undefined,l=undefined,a=undefined;else if(n&&n.Global&&n.Global.Divisions)for(f=0;f<n.Global.Divisions.Items.length;f++){if(t==n.Global.Divisions.Items[f].Id){h=f;c=undefined;l=undefined;a=undefined;break}for(o=0;o<n.Global.Divisions.Items[f].Groups.Items.length;o++){if(t==n.Global.Divisions.Items[f].Groups.Items[o].Id){h=f;c=o;l=undefined;a=undefined;break}for(e=0;e<n.Global.Divisions.Items[f].Groups.Items[o].LegalEntities.Items.length;e++){if(t==n.Global.Divisions.Items[f].Groups.Items[o].LegalEntities.Items[e].Id){h=f;c=o;l=e;a=undefined;break}for(p=0;p<n.Global.Divisions.Items[f].Groups.Items[o].LegalEntities.Items[e].Locations.Items.length;p++)if(t==n.Global.Divisions.Items[f].Groups.Items[o].LegalEntities.Items[e].Locations.Items[p].Id){h=f;c=o;l=e;a=p;break}}}}else console.log(""),console.log("XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"),console.log("COULD THIS BE A PROBLEM? xcx2349953-2?"),console.log("XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"),console.log("");var w,t,v,b,y,i=h,r=c,u=l,s=a;return(s||s>-1)&&s!="undefined"?(w=n.Global.Divisions.Items[i].Groups.Items[r].LegalEntities.Items[u].Locations.Items[s].Roles,t=n.Global.Divisions.Items[i].Groups.Items[r].LegalEntities.Items[u].Locations.Items[s].Id,v=n.Global.Divisions.Items[i].Groups.Items[r].LegalEntities.Items[u].Locations.Items[s].Name,b=n.Global.Name+" > "+n.Global.Divisions.Items[i].Name+" > "+n.Global.Divisions.Items[i].Groups.Items[r].Name+" > "+n.Global.Divisions.Items[i].Groups.Items[r].LegalEntities.Items[u].Name+" > "+n.Global.Divisions.Items[i].Groups.Items[r].LegalEntities.Items[u].Locations.Items[s].Name,y="<span style=\"cursor:pointer;\" onclick=\"$('.bwCircleDialog2').bwCircleDialog2('displayOrgRoleEditorInACircle', true, 'root');\">"+n.Global.Name+"<\/span> > <span style=\"cursor:pointer;\" onclick=\"$('.bwCircleDialog2').bwCircleDialog2('displayOrgRoleEditorInACircle', true, '"+i+"');\">"+n.Global.Divisions.Items[i].Name+"<\/span> > <span style=\"cursor:pointer;\" onclick=\"$('.bwCircleDialog2').bwCircleDialog2('displayOrgRoleEditorInACircle', true, '"+i+"', '"+r+"');\">"+n.Global.Divisions.Items[i].Groups.Items[r].Name+"<\/span> > <span style=\"cursor:pointer;\" onclick=\"$('.bwCircleDialog2').bwCircleDialog2('displayOrgRoleEditorInACircle', true, '"+i+"', '"+r+"', '"+u+"');\">"+n.Global.Divisions.Items[i].Groups.Items[r].LegalEntities.Items[u].Name+"<\/span> > <span style=\"cursor:pointer;\" onclick=\"$('.bwCircleDialog2').bwCircleDialog2('displayOrgRoleEditorInACircle', true, '"+i+"', '"+r+"', '"+u+"', '"+s+"');\">"+n.Global.Divisions.Items[i].Groups.Items[r].LegalEntities.Items[u].Locations.Items[s].Name+"<\/span>"):(u||u>-1)&&u!="undefined"?(w=n.Global.Divisions.Items[i].Groups.Items[r].LegalEntities.Items[u].Roles,t=n.Global.Divisions.Items[i].Groups.Items[r].LegalEntities.Items[u].Id,v=n.Global.Divisions.Items[i].Groups.Items[r].LegalEntities.Items[u].Name,b=n.Global.Name+" > "+n.Global.Divisions.Items[i].Name+" > "+n.Global.Divisions.Items[i].Groups.Items[r].Name+" > "+n.Global.Divisions.Items[i].Groups.Items[r].LegalEntities.Items[u].Name,y="<span style=\"cursor:pointer;\" onclick=\"$('.bwCircleDialog2').bwCircleDialog2('displayOrgRoleEditorInACircle', true, 'root');\">"+n.Global.Name+"<\/span> > <span style=\"cursor:pointer;\" onclick=\"$('.bwCircleDialog2').bwCircleDialog2('displayOrgRoleEditorInACircle', true, '"+i+"');\">"+n.Global.Divisions.Items[i].Name+"<\/span> > <span style=\"cursor:pointer;\" onclick=\"$('.bwCircleDialog2').bwCircleDialog2('displayOrgRoleEditorInACircle', true, '"+i+"', '"+r+"');\">"+n.Global.Divisions.Items[i].Groups.Items[r].Name+"<\/span> > <span style=\"cursor:pointer;\" onclick=\"$('.bwCircleDialog2').bwCircleDialog2('displayOrgRoleEditorInACircle', true, '"+i+"', '"+r+"', '"+u+"');\">"+n.Global.Divisions.Items[i].Groups.Items[r].LegalEntities.Items[u].Name+"<\/span>"):(r||r>-1)&&r!="undefined"?(w=n.Global.Divisions.Items[i].Groups.Items[r].Roles,t=n.Global.Divisions.Items[i].Groups.Items[r].Id,v=n.Global.Divisions.Items[i].Groups.Items[r].Name,b=n.Global.Name+" > "+n.Global.Divisions.Items[i].Name+" > "+n.Global.Divisions.Items[i].Groups.Items[r].Name,y="<span style=\"cursor:pointer;\" onclick=\"$('.bwCircleDialog2').bwCircleDialog2('displayOrgRoleEditorInACircle', true, 'root');\">"+n.Global.Name+"<\/span> > <span style=\"cursor:pointer;\" onclick=\"$('.bwCircleDialog2').bwCircleDialog2('displayOrgRoleEditorInACircle', true, '"+i+"');\">"+n.Global.Divisions.Items[i].Name+"<\/span> > <span style=\"cursor:pointer;\" onclick=\"$('.bwCircleDialog2').bwCircleDialog2('displayOrgRoleEditorInACircle', true, '"+i+"', '"+r+"');\">"+n.Global.Divisions.Items[i].Groups.Items[r].Name+"<\/span>"):(i||i>-1)&&i!="undefined"?i=="root"?(w=n.Global.Roles,t=n.Global.Id,v=n.Global.Name,b=n.Global.Name,y="<span style=\"cursor:pointer;\" onclick=\"$('.bwCircleDialog2').bwCircleDialog2('displayOrgRoleEditorInACircle', true, 'root');\">"+n.Global.Name+"<\/span>"):(w=n.Global.Divisions.Items[i].Roles,t=n.Global.Divisions.Items[i].Id,v=n.Global.Divisions.Items[i].Name,b=n.Global.Name+" > "+n.Global.Divisions.Items[i].Name,y="<span style=\"cursor:pointer;\" onclick=\"$('.bwCircleDialog2').bwCircleDialog2('displayOrgRoleEditorInACircle', true, 'root');\">"+n.Global.Name+"<\/span> > "+n.Global.Divisions.Items[i].Name):console.log("Error in bwLocationPicker.selectLocation(): Unexpected parameter in displayOrgRoleEditorInACircle():2:."),{orgPathClickable:y,divisionIndex:i,groupIndex:r,entityIndex:u,locationIndex:s}}catch(e){console.log("Exception in bwAuthentication.js.renderTheOrgBreadcrumb2(): "+e.message+", "+e.stack);displayAlertDialog("Exception in bwAuthentication.js.renderTheOrgBreadcrumb2(): "+e.message+", "+e.stack)}},cmdForceUnsubscribe:function(n){console.log("In cmdForceUnsubscribe(). bwParticipantId: "+n);var t={participantId:n},i=this.options.operationUriPrefix+"_bw/unsubscribe";$.ajax({url:i,type:"POST",data:t,headers:{Accept:"application/json; odata=verbose"},success:function(n){n.message.indexOf("The user has been unsubscribed.")>-1?($("#divUnsubscribeDialog").dialog("close"),displayAlertDialog("You have been unsubscribed.")):displayAlertDialog("There was an error unsubscribing: "+n.message)},error:function(n,t,i){displayAlertDialog("Error in my.js.cmdUnsubscribe():1:"+i+" "+JSON.stringify(n))}})},displayUnsubscribeDialog:function(n){try{console.log("In bwAuthentication.js.displayUnsubscribeDialog().");var t="";t+="<style>";t+="   .bwInvitationRadioButton {";t+="       transform: scale(2); ";t+="   }";t+="   .bwInvitationRadioButton_td {";t+="       padding: 5px 5px 5px 5px; ";t+="   }";t+="<\/style>";t+='   <table style="width:100%;">';t+="       <tr>";t+='           <td style="width:90%;">';t+="               <span style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #3f3f3f;font-size: 30pt;font-weight:bold;\"><span style=\"font-weight:lighter;font-size:45pt;\">âœ‰<\/span> Unsubscribe.<\/span>";t+="           <\/td>";t+='           <td style="width:9%;"><\/td>';t+='           <td style="width:1%;cursor:pointer;vertical-align:top;">';t+="               <span class=\"dialogXButton\" style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;font-size: 30pt;font-weight:bold;\" onclick=\"$('#divUnsubscribeDialog').dialog('close');\">X<\/span>";t+="           <\/td>";t+="       <\/tr>";t+="   <\/table>";t+='   <input type="text" autofocus="true" style="display:none;" /> <!-- This is here to prevent the first visible field from getting the cursor and showing the keyboard. -->';t+="   <br />";t+='   <span style="font-size:12pt;">';t+="       <span style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #3f3f3f;font-size:20pt;\">";t+="<hr><br />";t+="<a href=\"javascript:$('.bwAuthentication').bwAuthentication('cmdForceUnsubscribe', '"+n+"');\">Click here to unsubscribe<\/a><br /><br />";t+="<hr>";t+="<i>You will receive a confirmation email. We send this out to ensure you have authorized this request.<br /><br />";t+="If you are participating in any workflows, we will also notify the Workflow Administrators so that they know you won't be participating.<\/i>";t+="       <\/span>";t+="   <\/span>";t+="   <br /><br />";t+="   <br /><br />";t+='   <div id="xxxx" class="divSignInButton" style="width:90%;text-align:center;line-height:0.8em;font-weight:bold;cursor:pointer !important;" onclick="$(\'#divUnsubscribeDialog\').dialog(\'close\');">';t+="       Close";t+="   <\/div>";t+="   <br /><br />";document.getElementById("divUnsubscribeDialog_Content").innerHTML=t;$("#divUnsubscribeDialog").dialog({modal:!0,resizable:!1,closeOnEscape:!1,width:"720",dialogClass:"no-close",hide:!1,close:function(){$("#divUnsubscribeDialog").dialog("close")},open:function(){$(".ui-widget-overlay").bind("click",function(){$("#divUnsubscribeDialog").dialog("close")})}});$("#divUnsubscribeDialog").dialog().parents(".ui-dialog").find(".ui-dialog-titlebar").remove()}catch(i){console.log("Exception in bwAuthentication.js.displayUnsubscribeDialog(): "+i.message+", "+i.stack);displayAlertDialog("Exception in bwAuthentication.js.displayUnsubscribeDialog(): "+i.message+", "+i.stack)}},displayAcceptInvitationDialog:function(n){try{console.log("In bwAuthentication.js.displayAcceptInvitationDialog().");var i=this.options.operationUriPrefix+"_bw/bwinvitations/"+n;$.ajax({url:i,method:"GET",headers:{Accept:"application/json; odata=verbose"},success:function(n){var r,t;try{t="";n.d.message=="FAILED"||n.d.results.length==0||n.d.results[0].bwInvitationAcceptedByFriendlyName?(console.log(""),console.log('THIS IS NOT A VALID INVITATION. It may have expired or been assigned to someone else: "'+n.d.results[0].bwWorkflowAppTitle+'" ['+n.d.results[0].bwWorkflowAppId+"]"),console.log(""),t+="<span>",t+="<strong>This is not a valid invitation.<\/strong> It may have expired or been assigned to someone else.",t+="<\/span>",t+="<br />"):(console.log(""),console.log('THIS IS A VALID INVITATION: "'+n.d.results[0].bwWorkflowAppTitle+'" ['+n.d.results[0].bwWorkflowAppId+"]"),console.log(""),t+='<table style="margin:auto;">',t+="   <tr>",t+='       <td style="text-align:center;">',t+="           You have been invited by <strong>"+n.d.results[0].bwInvitationCreatedByFriendlyName+'<\/strong> to participate in their organization <strong>"'+n.d.results[0].bwWorkflowAppTitle+'"<\/strong>.',t+="       <\/td>",t+="   <\/tr>",t+="   <tr>",t+='       <td style="height:20px;"><\/td>',t+="   <\/tr>",t+="   <tr>",t+='       <td style="text-align:center;">',t+="           Sign Up to accept the invitation, or Sign In if you have logged in before.",t+="       <\/td>",t+="   <\/tr>",t+="<\/table>");r=t;t="";t+="<style>";t+="   .bwInvitationRadioButton {";t+="       transform: scale(2); ";t+="   }";t+="   .bwInvitationRadioButton_td {";t+="       padding: 5px 5px 5px 5px; ";t+="   }";t+="<\/style>";t+='   <table style="width:100%;">';t+="       <tr>";t+='           <td style="width:90%;">';t+="               <span style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #3f3f3f;font-size: 30pt;font-weight:bold;\"><span style=\"font-weight:lighter;font-size:45pt;\">âœ‰<\/span> Accept Invitation.<\/span>";t+="           <\/td>";t+='           <td style="width:9%;"><\/td>';t+='           <td style="width:1%;cursor:pointer;vertical-align:top;">';t+='               <span class="dialogXButton" style="font-size:25pt;cursor:pointer;width:100%;font-weight:bold;" onclick="$(\'#divAcceptInvitationDialog\').dialog(\'close\');">X<\/span>';t+="           <\/td>";t+="       <\/tr>";t+="   <\/table>";t+='   <input type="text" autofocus="true" style="display:none;" /> <!-- This is here to prevent the first visible field from getting the cursor and showing the keyboard. -->';t+="   <br />";t+='   <span style="font-size:12pt;">';t+="       <span style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #3f3f3f;font-size:20pt;\">";t+="<hr><br />";t+=r;t+="<hr>";t+="       <\/span>";t+="   <\/span>";t+="   <br /><br />";t+='<table style="margin:auto;">';t+="   <tr>";t+="       <td>";t+='           <div class="divSignInButton" style="width:300px;text-align: center; line-height: 1.1em; font-weight: bold;z-index:15;border:1px solid skyblue;" onclick="$(\'.bwAuthentication\').bwAuthentication(\'displaySignInDialog\', true);">';t+="           Sign In";t+="           <\/div>";t+="       <\/td>";t+="       <td>";t+="       <\/td>";t+="   <\/tr>";t+="   <tr>";t+="       <td><\/td>";t+="       <td>";t+='<table style="width:100%;">';t+="<tbody>";t+="   <tr>";t+='       <td style="text-align:right;">';t+="       <\/td>";t+="   <\/tr>";t+="<\/tbody>";t+="<\/table>";t+="           &nbsp;&nbsp;";t+='           <span id="spanAzureADConnectionDetails"><\/span>';t+="       <\/td>";t+="   <\/tr>";t+="   <tr>";t+='       <td colspan="2">';t+="           <div style=\"height:50px;text-align:center;line-height:1.1em;font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;font-size:22pt;\">&nbsp;&nbsp;or&nbsp;&nbsp;<\/div>";t+="       <\/td>";t+="   <\/tr>";t+="   <tr>";t+='       <td colspan="2">';t+='           <div class="divSignInButton" style="width:300px; text-align: center; line-height: 1.1em; font-weight: bold;z-index:15;border:1px solid skyblue;" onclick="$(\'.bwAuthentication\').bwAuthentication(\'displayCreateFreeAccountDialog\', true);">';t+="               Sign Up&nbsp;&nbsp;";t+="           <\/div>";t+="       <\/td>";t+="   <\/tr>";t+="<\/table>";t+="   <br /><br />";t+='   <div id="xxxx" class="divSignInButton" style="width:90%;text-align:center;line-height:0.8em;font-weight:bold;cursor:pointer !important;" onclick="$(\'#divAcceptInvitationDialog\').dialog(\'close\');">';t+="       Close";t+="   <\/div>";t+="   <br /><br />";document.getElementById("divAcceptInvitationDialog_Content").innerHTML=t;$("#divAcceptInvitationDialog").dialog({modal:!0,resizable:!1,closeOnEscape:!1,width:"850",dialogClass:"no-close",hide:!1,close:function(){try{alert("Setting window.location. xcx213124-11.");window.location=appweburl}catch(n){console.log("Exception in bwAuthentication.js.displayAcceptInvitationDialog():3: "+n.message+", "+n.stack);displayAlertDialog("Exception in bwAuthentication.js.displayAcceptInvitationDialog():3: "+n.message+", "+n.stack)}},open:function(){$(".ui-widget-overlay").bind("click",function(){$("#divAcceptInvitationDialog").dialog("close")})}});$("#divAcceptInvitationDialog").dialog().parents(".ui-dialog").find(".ui-dialog-titlebar").remove()}catch(i){console.log("Exception in bwAuthentication.js.displayAcceptInvitationDialog():2: "+i.message+", "+i.stack);displayAlertDialog("Exception in bwAuthentication.js.displayAcceptInvitationDialog():2: "+i.message+", "+i.stack)}},error:function(n,t,i){console.log("Error in bwAuthentication.checkIfAuthenticatedAndProcessQuerystringParameters():xcx3376:"+t+", "+i+" data:"+n);displayAlertDialog("Error in bwAuthentication.checkIfAuthenticatedAndProcessQuerystringParameters():xcx3376:"+t+", "+i+" data:"+n)}})}catch(t){console.log("Exception in bwAuthentication.js.displayAcceptInvitationDialog(): "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.js.displayAcceptInvitationDialog(): "+t.message+", "+t.stack)}},checkConnectionAndRemoveBlueBarErrorMessage:function(){try{console.log("In bwAuthentication.js.checkConnectionAndRemoveBlueBarErrorMessage().");var t=this.options.operationUriPrefix+"_bw/writearchivederrorstoexceptionlog";$.ajax({url:t,type:"POST",data:{Errors:"re-established communication"},headers:{Accept:"application/json; odata=verbose"},success:function(){try{clearInterval(connectionTimerObject);connectionTimerObject=null}catch(n){clearInterval(connectionTimerObject);connectionTimerObject=null;console.log("Exception in checkConnectionAndRemoveBlueBarErrorMessage():2: "+n.message+", "+n.stack);displayAlertDialog("Exception in checkConnectionAndRemoveBlueBarErrorMessage():2: "+n.message+", "+n.stack)}},error:function(){clearInterval(connectionTimerObject);connectionTimerObject=null}})}catch(n){clearInterval(connectionTimerObject);connectionTimerObject=null;console.log("Exception in checkConnectionAndRemoveBlueBarErrorMessage(): "+n.message+", "+n.stack);displayAlertDialog("Exception in checkConnectionAndRemoveBlueBarErrorMessage(): "+n.message+", "+n.stack)}},checkIfAuthenticatedAndProcessQuerystringParameters:function(){var e,r,u,f,t;try{console.log("In bwAuthentication.checkIfAuthenticatedAndProcessQuerystringParameters().");var n=this,s=this.getUrlParams("client_info"),h=this.getUrlParams("session_state");if(s&&h&&(this.options.msalInstance||(e={auth:{clientId:"8b9b6ff1-84f6-4e0e-881a-4f9387b7e460",redirectUri:n.options.operationUriPrefix+"index.html",postLogoutRedirectUri:n.options.operationUriPrefix},cache:{storeAuthStateInCookie:!0}},this.options.msalInstance=new Msal.UserAgentApplication(e))),this.options.msalInstance)participantLogonType="microsoft",this.getParticipantDetailsAndAcceptInvitation_Microsoft();else{var c=this.getUrlParams("passwordreset"),l=this.getUrlParams("signup"),a=this.getUrlParams("signin");if(c)console.log("PASSWORD RESET xcx435689"),n.displayPasswordResetConfirmationDialog();else if(l)console.log("SIGNUP xcx435689-2"),n.displayCreateFreeAccountDialog(!0);else if(a)console.log("SIGNIN xcx435689-3"),n.displaySignInDialog(!0);else if(r=this.getUrlParams("payment"),r)alert("xcx123124123 PAYMENT: "+r);else if(u=this.getUrlParams("unsubscribe"),u)this.displayUnsubscribeDialog(u);else{var v=this.getUrlParams("ActiveStateIdentifier"),y=this.getUrlParams("ForestAdministratorLoginToTenant_ActiveStateIdentifier"),o=this.getUrlParams("invitation");v||y?this.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow().then(function(t){if(t.status!="SUCCESS"){var i="Error in bwAuthentication.js.selectHomePageWorkflowAppDropDown_change2.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow.then().xcx231231412: "+t.status+": "+t.message;console.log(i);displayAlertDialog(i)}else n.getRemainingParticipantAndWorkflowAppDetails().then(function(n){if(n.status!="SUCCESS"){var t="Error in bwAuthentication.js.selectHomePageWorkflowAppDropDown_change2.getRemainingParticipantAndWorkflowAppDetails.then().xcx423445643: "+n.status+": "+n.message;console.log(t);displayAlertDialog(t)}else localStorage.setItem("subsequentaction","VIEW_HOME"),$(".bwActiveMenu").bwActiveMenu("RenderContentForButton",null,"HOME","xcx1234235-4xcx2315")}).catch(function(n){var t="Exception in bwAuthentication.js.selectHomePageWorkflowAppDropDown_change2.getRemainingParticipantAndWorkflowAppDetails.catch(): "+JSON.stringify(n);console.log(t);displayAlertDialog(t)})}).catch(function(n){var t="Exception in bwAuthentication.js.selectHomePageWorkflowAppDropDown_change2.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow.catch():xcx34235: "+JSON.stringify(n);console.log(t);displayAlertDialog(t)}):o?this.displayAcceptInvitationDialog(o):n.options.backendAdministrationLogin==!0||(console.log("6-9-2024. THIS IS WHERE WE COULD AUTOLOGON EXTREME."),console.log("In bwAuthentication.js.checkIfAuthenticatedAndProcessQuerystringParameters(). Calling RenderContentForButton() to set the Home button as selected."),$(".bwActiveMenu").bwActiveMenu("RenderContentForButton","HOME_UNAUTHENTICATED_BUTTON","HOME_UNAUTHENTICATED","xcx1234235-3"))}}}catch(i){f="Exception in bwAuthentication.js.checkIfAuthenticatedAndProcessQuerystringParameters(): "+i.message+", "+i.stack;console.log(f);displayAlertDialog(f);t="";t+='<span style="font-size:24pt;color:red;">Exception in checkIfAuthenticatedAndProcessQuerystringParameters().<\/span>';t+="<br />";t+='<span style="">Exception in bwAuthentication.checkIfAuthenticatedAndProcessQuerystringParameters(): '+i.message+", "+i.stack+"<\/span>";n.element.html(t)}},addAUserToThisOrganization:function(){var o,i,s;try{console.log("In bwAuthentication.js.addAUserToThisOrganization().");var v=this,r=$(".bwAuthentication").bwAuthentication("option","workflowAppId"),h=$(".bwAuthentication").bwAuthentication("option","workflowAppTitle"),u=$(".bwAuthentication").bwAuthentication("option","participantId"),c=$(".bwAuthentication").bwAuthentication("option","participantEmail"),l=$(".bwAuthentication").bwAuthentication("option","participantFriendlyName");if(this.options.participantId){var f=document.getElementById("txtAddANewPersonDialogFriendlyName").value,e=document.getElementById("txtAddANewPersonDialogEmail").value,a=$("#selectAddANewPersonDialogRole").val(),n=document.getElementById("txtAddANewPersonDialogPassword").value;f.trim()==""?(this.displayAlertDialog("Please enter a Name before continuing the registration process."),document.getElementById("txtAddANewPersonDialogFriendlyName").focus()):e.trim()==""?(this.displayAlertDialog("Please enter an Email Address before continuing the registration process."),document.getElementById("txtAddANewPersonDialogEmail").focus()):n.trim()==""?this.displayAlertDialog("Please enter an Password before continuing the registration process."):n.trim().length<4||n.trim().length>15?(this.displayAlertDialog("Please enter an Password that is 4-15 characters in length."),document.getElementById("txtAddANewPersonDialogPassword").focus()):(o=$(".bwAuthentication:first").bwAuthentication("getActiveStateIdentifier"),i={bwParticipantId_LoggedIn:u,bwActiveStateIdentifier:o,bwWorkflowAppId_LoggedIn:r,bwWorkflowAppId:r,bwWorkflowAppTitle:h,bwParticipantLogonType:"custom",bwParticipantFriendlyName:f,bwParticipantEmail:e,bwParticipantRole:a,customLogonPassword:n,CreatedById:u,CreatedByFriendlyName:l,CreatedByEmail:c},console.log("In addAUserToThisOrganization(). data: "+JSON.stringify(i)),s=this.options.operationUriPrefix+"_bw/addausertoanorganization",$.ajax({url:s,type:"POST",data:i,headers:{Accept:"application/json; odata=verbose"},success:function(n){n.message=="This email address is already in use"?(displayAlertDialog("This email address is already registered with us. Please enter a different one, or login using the existing credentials."),document.getElementById("txtAddANewPersonDialogEmail").focus()):n.message=="SUCCESS"?(displayAlertDialog("The person has been added successfully. You will have to notify them."),$(".bwCircleDialog:first").bwCircleDialog("hideCircleDialog"),$(".bwParticipantsEditor:first").bwParticipantsEditor("loadAndRenderParticipantsEditor",!0)):n.status=="USER_ALREADY_BELONGS_TO_THIS_ORGANIZATION"?displayAlertDialog("A user with this email address already belongs to this organization."):displayAlertDialog("xcx1243124 "+JSON.stringify(n))},error:function(n,t,i){console.log("Error in bwAuthentication.js.addAUserToThisOrganization().registeranewuser: "+i);displayAlertDialog("Error in bwAuthentication.js.addAUserToThisOrganization().registeranewuser: "+i)}}))}else displayAlertDialog("Unexpected authentication error xcx124235.")}catch(t){console.log("Exception in bwAuthentication.js.addAUserToThisOrganization(): "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.js.addAUserToThisOrganization(): "+t.message+", "+t.stack)}},getSelectedOrganization:function(){try{return this.options.SelectedOrganization}catch(n){this.displayAlertDialog("There was an error getting the selected organization. Error: "+n.message+", "+n.stack)}},getLastSelectedExecutiveSummariesExpandedOrCollapsed:function(){try{return this.options.bwLastSelectedExecutiveSummariesExpandedOrCollapsed}catch(n){this.displayAlertDialog("There was an error getting bwLastSelectedExecutiveSummariesExpandedOrCollapsed. Error: "+n.message+", "+n.stack)}},setTheTheme:function(){var t,e,n,r,i,u;try{if(console.log("In bwAuthentication.js.setTheTheme(): "+this.options.workflowAppTheme),this.options.workflowAppTheme){for(console.log("In setTheTheme(). THEME: "+this.options.workflowAppTheme),t=$(".bwColoredMenuItem"),n=0;n<t.length;n++)for(i=0;i<t[n].classList.length;i++)if(t[n].classList[i].indexOf("_SelectedButton")>-1){e=t[n];break}for(n=0;n<t.length;n++){for(r=[],i=0;i<t[n].classList.length;i++)t[n].classList[i].indexOf("brushedAluminum")>-1&&r.push(t[n].classList[i]);for(u=0;u<r.length;u++)t[n].classList.remove(r[u]);t[n].classList.contains("noanimation")?t[n].classList.add(this.options.workflowAppTheme+"_noanimation"):e!=t[n]&&t[n].classList.add(this.options.workflowAppTheme)}e.classList.add(this.options.workflowAppTheme+"_SelectedButton");$(".bwActiveMenu:first").bwActiveMenu("renderOutsideCurveInTheMenuBar");$(".bwActiveMenu:first").bwActiveMenu("renderInsideCurveInTheMenuBar")}else console.log("In setTheTheme(). NO THEME WAS SAVED SO LEAVING THE DEFAULT, .brushedAluminum."),displayAlertDialog("In setTheTheme(). NO THEME WAS SAVED SO LEAVING THE DEFAULT, .brushedAluminum.")}catch(f){console.log("Exception in bwAuthentication.js.setTheTheme(): "+f.message+", "+f.stack);alert("Exception in bwAuthentication.js.setTheTheme(): "+f.message+", "+f.stack)}},securityTrimTheLeftMenuButtons:function(){try{console.log("In bwAuthentication.js.securityTrimTheLeftMenuButtons(). Calling setTheTheme().");this.setTheTheme();var n=$(".bwAuthentication").bwAuthentication("getSelectedOrganization");n.OrganizationRole=="owner"?($("#divWelcomeButton").addClass("leftButton"),$("#divNewRequestButton").addClass("leftButton"),$("#divArchiveButton").addClass("leftButton"),$("#divVisualizationsButton").addClass("leftButton"),$("#divConfigurationButton").addClass("leftButton")):n.OrganizationRole=="customer"?($("#divNewRequestButton").removeClass("leftButton"),$("#divArchiveButton").removeClass("leftButton"),$("#divVisualizationsButton").removeClass("leftButton"),$("#divConfigurationButton").removeClass("leftButton")):n.OrganizationRole=="participant"?($("#divWelcomeButton").addClass("leftButton"),$("#divNewRequestButton").addClass("leftButton"),$("#divArchiveButton").removeClass("leftButton"),$("#divVisualizationsButton").removeClass("leftButton")):n.OrganizationRole=="archiveviewer"?($("#divWelcomeButton").addClass("leftButton"),$("#divNewRequestButton").addClass("leftButton"),$("#divArchiveButton").addClass("leftButton"),$("#divVisualizationsButton").removeClass("leftButton")):n.OrganizationRole=="reportviewer"?($("#divWelcomeButton").addClass("leftButton"),$("#divNewRequestButton").addClass("leftButton"),$("#divArchiveButton").addClass("leftButton"),$("#divVisualizationsButton").addClass("leftButton")):n.OrganizationRole=="configurationmanager"?($("#divWelcomeButton").addClass("leftButton"),$("#divNewRequestButton").addClass("leftButton"),$("#divArchiveButton").addClass("leftButton"),$("#divVisualizationsButton").addClass("leftButton"),$("#divConfigurationButton").addClass("leftButton")):($("#divNewRequestButton").removeClass("leftButton"),$("#divArchiveButton").removeClass("leftButton"),$("#divVisualizationsButton").removeClass("leftButton"),$("#divConfigurationButton").removeClass("leftButton"))}catch(t){console.log("Exception in securityTrimTheLeftMenuButtons: "+t.message+", "+t.stack);displayAlertDialog("Exception in securityTrimTheLeftMenuButtons: "+t.message+", "+t.stack)}},securityTrimTheLeftMenuButtons_ConfigurationSection:function(){try{var t=this.options.SelectedOrganization,n=$("#tableMainMenu3").find(".leftButton");t.OrganizationRole=="owner"||(t.OrganizationRole=="participant"?$(n).each(function(t){$(n[t]).text().trim()=="PERSONAL/BEHAVIOR"||$(n[t]).text().trim()=="ORGANIZATION"||$(n[t]).removeClass("leftButton")}):t.OrganizationRole=="archiveviewer"?$(n).each(function(t){$(n[t]).text().trim()=="PERSONAL/BEHAVIOR"||$(n[t]).text().trim()=="ORGANIZATION"||$(n[t]).text().trim()=="PARTICIPANTS"||$(n[t]).removeClass("leftButton")}):t.OrganizationRole=="reportviewer"?$(n).each(function(t){$(n[t]).text().trim()=="PERSONAL/BEHAVIOR"||$(n[t]).text().trim()=="ORGANIZATION"||$(n[t]).text().trim()=="PARTICIPANTS"||$(n[t]).removeClass("leftButton")}):t.OrganizationRole=="configurationmanager"||console.log("Error: Unexpected value for user security role in bwAuthentication.js.securityTrimTheLeftMenuButtons_ConfigurationSection(), for bwAuthentication.js.selectedOrganization.OrganizationRole: "+t.OrganizationRole))}catch(i){console.log("Exception in securityTrimTheLeftMenuButtons_ConfigurationSection: "+i.message+", "+i.stack);displayAlertDialog("Exception in securityTrimTheLeftMenuButtons_ConfigurationSection: "+i.message+", "+i.stack)}},selectHomePageWorkflowAppDropDown_change:function(){var r,f,e,i,l,o;try{console.log("In bwAuthentication.js.selectHomePageWorkflowAppDropDown_change().");alert("In bwAuthentication.js.selectHomePageWorkflowAppDropDown_change().");var n=this,s=this.options.participantId,a=this.options.workflowAppId,h=$("#selectHomePageWorkflowAppDropDown option:selected").val(),t=h.split("|")[0],v=h.split("|")[1],c=$("#selectHomePageWorkflowAppDropDown option:selected").text();if(this.options.workflowAppId!=t)if(r=$(".budgetrequestform"),r&&r.length&&r.length>0){for(f=!1,e=$("#selectHomePageWorkflowAppDropDown option"),i=0;i<e.length;i++)if(l=$(e[i]).val(),l.indexOf(this.options.SelectedOrganization.OrganizationId)>-1){document.getElementById("selectHomePageWorkflowAppDropDown").selectedIndex=i;f=!0;break}f==!1&&(o="Error in bwAuthentication.js.selectHomePageWorkflowAppDropDown_change(). Failed to set the select drop-down back to it's original value.",console.log(o),displayAlertDialog(o));displayAlertDialog("Please close displayed requests before you switch to another organization.")}else{this.options.SelectedOrganization={OrganizationId:t,OrganizationTitle:c,OrganizationRole:v};var y=this.getActiveStateIdentifier(),p={bwParticipantId_LoggedIn:s,bwActiveStateIdentifier:y,bwWorkflowAppId_LoggedIn:a,bwParticipantId:s,selectedWorkflowAppId:t},w=webserviceurl+"/bwparticipant/updateuserconfigurationselectedworkflowapp";$.ajax({url:w,type:"POST",data:p,headers:{Accept:"application/json; odata=verbose"},success:function(i){i.message!="SUCCESS"?displayAlertDialog(i.message):(console.log("data xcx123498865: "+JSON.stringify(i)),alert("In bwAuthentication.js.xx(). xcx38556-1 Setting options.workflowAppId to: "+t),n.options.workflowAppId=t,n.options.workflowAppTitle=c,n.options.workflowAppFiscalYear=i.d.results[0].workflowAppFiscalYear,alert("xcx12312 setting workflowAppTheme: "+i.d.results[0].bwWorkflowAppTheme),n.options.workflowAppTheme=i.d.results[0].bwWorkflowAppTheme,n.options.externallyFacingUrlForAttachments=i.d.results[0].bwExternallyFacingUrlForAttachments,n.options.externallyFacingUrlForAttachmentsSourceFolder=i.d.results[0].bwExternallyFacingUrlForAttachmentsSourceFolder,alert("xcx32453255: externallyFacingUrlForAttachmentsSourceFolder: "+JSON.stringify(i.d.results[0])),newBudgetRequestManagerTitle=i.d.results[0].bwNewBudgetRequestManagerTitle,requireStartEndDates=i.d.results[0].bwRequireStartEndDates=="true"?!0:!1,requireRequestDetails=i.d.results[0].bwRequireRequestDetails=="true"?!0:!1,requireRequestDetails=i.d.results[0].bwRequireRequestDetails=="true"?!0:!1,enableNewRequestAttachments=i.d.results[0].bwEnableNewRequestAttachments=="true"?!0:!1,enableNewRequestBarcodeAttachments=i.d.results[0].bwEnableNewRequestBarcodeAttachments=="true"?!0:!1,quotingEnabled=i.d.results[0].bwQuotingEnabled=="true"?!0:!1,reimbursementRequestsEnabled=i.d.results[0].bwExpenseRequestsEnabled=="true"?!0:!1,closeoutsEnabled=i.d.results[0].bwCloseoutsEnabled=="true"?!0:!1,recurringExpensesEnabled=i.d.results[0].bwRecurringExpensesEnabled=="true"?!0:!1,supplementalsEnabled=i.d.results[0].bwSupplementalsEnabled=="true"?!0:!1,alert("xcx444556 data.d.results[0].bwEmailEnabled: "+i.d.results[0].bwEmailEnabled),emailEnabled=i.d.results[0].bwEmailEnabled=="true"?!0:!1,strictAuditingEnabled=i.d.results[0].bwStrictAuditingEnabled=="true"?!0:!1,bwTopLeftLogoEnabled=i.d.results[0].bwTopLeftLogoEnabled=="true"?!0:!1,bwDeveloperModeEnabled=i.d.results[0].bwDeveloperModeEnabled=="true"?!0:!1,generateConfigurationLeftSideMenu(),renderConfigurationPersonalBehavior(),$('#selectHomePageWorkflowAppDropDown option[value="'+t+'"]').attr("selected","selected"),console.log("Calling renderHomePagePersonalizedSection_AndRenderButtons().xcx111223-2"),alert("Calling renderHomePagePersonalizedSection_AndRenderButtons().xcx111223-2"),n.renderHomePagePersonalizedSection_AndRenderButtons(),window.scrollTo(0,0),$(".bwActiveMenu").bwActiveMenu("adjustLeftSideMenu"))},error:function(n,t,i){console.log("Error in my.js.selectHomePageWorkflowAppDropDown_change(): "+t+" "+i);displayAlertDialog("Error in my.js.selectHomePageWorkflowAppDropDown_change(): "+t+" "+i)}})}}catch(u){console.log("Exception in bwAuthentication.js.selectHomePageWorkflowAppDropDown_change(): "+u.message+", "+u.stack);displayAlertDialog("Exception in bwAuthentication.js.selectHomePageWorkflowAppDropDown_change(): "+u.message+", "+u.stack)}},selectHomePageWorkflowAppDropDown_change2:function(n){var t,u,e,o,r,l,s;try{console.log("In bwAuthentication.js.selectHomePageWorkflowAppDropDown_change2().");t=this;var h=this.options.participantId,a=this.options.workflowAppId,c=$(n).attr("value"),i=c.split("|")[0],v=c.split("|")[1],y=$(n).html();if(this.options.workflowAppId!=i)if(u=$(".budgetrequestform"),u&&u.length&&u.length>0){for(e=!1,o=$("#selectHomePageWorkflowAppDropDown option"),r=0;r<o.length;r++)if(l=$(o[r]).val(),l.indexOf(this.options.SelectedOrganization.OrganizationId)>-1){document.getElementById("selectHomePageWorkflowAppDropDown").selectedIndex=r;e=!0;break}e==!1&&(s="Error in bwAuthentication.js.selectHomePageWorkflowAppDropDown_change2(). Failed to set the select drop-down back to it's original value.",console.log(s),displayAlertDialog(s));displayAlertDialog("Please close displayed requests before you switch to another organization.")}else{this.options.SelectedOrganization={OrganizationId:i,OrganizationTitle:y,OrganizationRole:v};var p=this.getActiveStateIdentifier(),w={bwParticipantId_LoggedIn:h,bwActiveStateIdentifier:p,bwWorkflowAppId_LoggedIn:a,bwParticipantId:h,selectedWorkflowAppId:i},b=webserviceurl+"/bwparticipant/updateuserconfigurationselectedworkflowapp";$.ajax({url:b,type:"POST",data:w,headers:{Accept:"application/json; odata=verbose"},success:function(n){try{if(n.status!="SUCCESS"){var u="Error in bwAuthentication.js.selectHomePageWorkflowAppDropDown_change2(): "+n.status+", "+n.message;console.log(u);displayAlertDialog(u)}else console.log("In bwAuthentication.js.selectHomePageWorkflowAppDropDown_change2(). thiz.options.SelectedOrganization: "+JSON.stringify(t.options.SelectedOrganization)),t.options.workflowAppId=i,t.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow(i).then(function(n){if(n.status!="SUCCESS"){var i="Error in bwAuthentication.js.selectHomePageWorkflowAppDropDown_change2.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow.then(). "+n.status+": "+n.message;console.log(i);displayAlertDialog(i)}else t.getRemainingParticipantAndWorkflowAppDetails().then(function(n){if(n.status!="SUCCESS"){var t="Error in bwAuthentication.js.selectHomePageWorkflowAppDropDown_change2.getRemainingParticipantAndWorkflowAppDetails.then(). "+n.status+": "+n.message;console.log(t);displayAlertDialog(t)}else $("#divOrganizationPickerDropDown").dialog("close"),$(".bwActiveMenu").bwActiveMenu("RenderContentForButton",null,"HOME","xcx1234235-4")}).catch(function(n){var t="Exception in bwAuthentication.js.selectHomePageWorkflowAppDropDown_change2.getRemainingParticipantAndWorkflowAppDetails.catch(): "+JSON.stringify(n);console.log(t);displayAlertDialog(t)})}).catch(function(n){var t="Exception in bwAuthentication.js.selectHomePageWorkflowAppDropDown_change2.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow.catch(): "+JSON.stringify(n);console.log(t);displayAlertDialog(t)})}catch(r){console.log("Exception in bwAuthentication.js.selectHomePageWorkflowAppDropDown_change2():2: "+r.message+", "+r.stack);displayAlertDialog("Exception in bwAuthentication.js.selectHomePageWorkflowAppDropDown_change2():2: "+r.message+", "+r.stack)}},error:function(n,t,i){console.log("Error in my.js.selectHomePageWorkflowAppDropDown_change2(): "+t+" "+i);displayAlertDialog("Error in my.js.selectHomePageWorkflowAppDropDown_change2(): "+t+" "+i)}})}}catch(f){console.log("Exception in bwAuthentication.js.selectHomePageWorkflowAppDropDown_change2(): "+f.message+", "+f.stack);displayAlertDialog("Exception in bwAuthentication.js.selectHomePageWorkflowAppDropDown_change2(): "+f.message+", "+f.stack)}},logonWith_Facebook:function(){try{console.log("In logonWith_Facebook().");alert("In logonWith_Facebook().")}catch(n){var t="Exception in bwAuthentication.js.logonWith_Facebook(): "+n.message+", "+n.stack;console.log(t);displayAlertDialog(t)}},logonWith_BudgetWorkflow:function(n,t){var r,o,u,f,i;try{console.log("In bwAuthentication.logonWith_BudgetWorkflow().");r=this;o="";o=document.getElementById("spanCustomLogonDialogInvitationDescriptionText")?document.getElementById("spanCustomLogonDialogInvitationDescriptionText").innerHTML:document.getElementById("spanCustomSignUpDialogInvitationDescriptionText").innerHTML;u=document.getElementById("txtCustomLogonEmail").value;f=document.getElementById("txtCustomLogonPassword").value;u.trim()==""?this.displayAlertDialog("Please enter an Email Address before continuing the logon process."):f.trim()==""?this.displayAlertDialog("Please enter an Password before continuing the logon process."):(ShowActivitySpinner("Attempting login..."),data={userEmailAddress:u,userPassword:f},i=r.options.operationUriPrefix+"_bw/bwworkflow/usercustomlogon",$.ajax({url:i,type:"POST",data:data,timeout:15e3,headers:{Accept:"application/json; odata=verbose"},success:function(i){var o,s,h,l,c,a;try{if(HideActivitySpinner(),i.status!="THE_PASSWORD_IS_CORRECT")i.status=="USER_DOES_NOT_EXIST"?displayAlertDialog(i.message):i.message?displayAlertDialog(i.message):displayAlertDialog(i);else if(localStorage&&(localStorage.customlogonusername=u,localStorage.customlogonpassword=f),o=i.bwActiveStateIdentifier,i.TwoFactorAuthenticationWithSms&&i.TwoFactorAuthenticationWithSms=="NOT_ENABLED")if(s=r.getUrlParams("invitation"),s&&n!=!0)h={newUserFriendlyName:i.participantFriendlyName,newUserEmailAddress:i.participantEmail,newUserPassword:null,appweburl:appweburl,bwInvitationId:s},l=webserviceurl+"/registeranewuseroranewuserwithaninvitation",$.ajax({url:l,type:"POST",data:h,headers:{Accept:"application/json; odata=verbose"},success:function(n){try{n.message=="This email address is already in use"?displayAlertDialog("This email address is already registered with us. Please enter a different one, or login using the existing credentials.xcx1-1"):n.message&&n.message.indexOf("This participant already belongs to this organization")>-1?(console.log(""),console.log("In bwAuthentication.js.xx.registeranewuseroranewuserwithaninvitation(). This participant already belongs to this organization. This can happen if the user tried an invitation, but then chose to just add themselves as new and the invitation querystring was stillthere...??  data3: "+JSON.stringify(h)+", data2: "+JSON.stringify(n)),console.log(""),localStorage&&(localStorage.customlogonusername=u,localStorage.customlogonpassword=f),alert("Setting window.location. xcx213124-15."),window.location=appweburl):n.status=="SUCCESS"?(localStorage&&(localStorage.customlogonusername=u,localStorage.customlogonpassword=f),$(".bwAuthentication").bwAuthentication("displaySignInDialog",!0,'Your login was created successfully. You will receive an introductory email in the next few minutes. Click the "Sign In" button to begin using your budget request system. xcx232134-1.<br />',!0)):displayAlertDialog(n.message)}catch(t){console.log("Exception in bwAuthentication.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow(): "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow(): data2: "+JSON.stringify(n)+", "+t.message+", "+t.stack)}},error:function(n,t,i){console.log("Error in getParticipantDetailsAndAcceptInvitation_BudgetWorkflow().registeranewuser:1:xcx2-1: "+i);displayAlertDialog("Error in getParticipantDetailsAndAcceptInvitation_BudgetWorkflow().registeranewuser:1:xcx2-1: "+i)}});else if(t&&t==!0)console.log("In bwAuthentication.js.xx(). Re-authorized. ActiveStateIdentifier handoff to localStorage."),localStorage.setItem("bwActiveStateIdentifier",o),$(".bwCircleDialog:first").bwCircleDialog("hideCircleDialog");else if(localStorage.setItem("subsequentaction","VIEW_HOME"),window.history.pushState){console.log("In bwAuthentication.js.logonWith_BudgetWorkflow(). Changing the url by using window.history.pushState(). THIS IS NEW 6-15-2024.");const n=new URL(window.location.href);n.search="?ActiveStateIdentifier="+o;window.history.pushState({path:n.href},"",n.href);r.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow().then(function(n){if(n.status!="SUCCESS"){var t="Error in bwAuthentication.logonWith_BudgetWorkflow.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow.then(). "+n.status+": "+n.message;console.log(t);displayAlertDialog(t)}else r.getRemainingParticipantAndWorkflowAppDetails().then(function(n){if($(".bwCircleDialog:first").bwCircleDialog("hideCircleDialog"),n.status!="SUCCESS"){var t="Error in bwAuthentication.logonWith_BudgetWorkflow.getRemainingParticipantAndWorkflowAppDetails.then(). "+n.status+": "+n.message;console.log(t);displayAlertDialog(t)}else $(".bwActiveMenu").bwActiveMenu("RenderContentForButton",null,"HOME","xcx1234235-52")}).catch(function(n){var t="Exception in bwAuthentication.logonWith_BudgetWorkflow.getRemainingParticipantAndWorkflowAppDetails.catch(): "+JSON.stringify(n);console.log(t);displayAlertDialog(t)})}).catch(function(n){var t="Exception in bwAuthentication.logonWith_BudgetWorkflow.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow.catch(): "+JSON.stringify(n);console.log(t);displayAlertDialog(t)})}else c="Error in bwAuthentication.logonWith_BudgetWorkflow(). Cannot access window.history.pushState(). xcx2132455.",console.log(c),displayAlertDialog(c);else i.TwoFactorAuthenticationWithSms&&i.TwoFactorAuthenticationWithSms=="SUCCEEDED_SENDING_SMS"?$(".bwCircleDialog").bwCircleDialog("displaySignInWithSMSCodeDialog",!0,null,i.bwTwoFactorAuthenticationSmsNumber):i.TwoFactorAuthenticationWithSms&&i.TwoFactorAuthenticationWithSms=="FAILED_SENDING_SMS"?(alert("SMS/text messaging failed: "+i.SmsFailureMessage+'. Turning off "Two factor authentication using SMS/Text Messaging" until the issue is resolved. Please click the "Sign In" button again in order to login.'),a=i.bwParticipantId,r.configurationBehaviorTwoFactorAuthenticationWithSmsTextMessagingSlider_Onchange(!1,a)):alert("SMS/text messaging failed. Unexpected response: "+i.TwoFactorAuthenticationWithSms)}catch(e){HideActivitySpinner();console.log("Exception in logonWith_BudgetWorkflow():2: "+e.message+", "+e.stack);displayAlertDialog("Exception in logonWith_BudgetWorkflow():2: "+e.message+", "+e.stack)}},error:function(n,t,u){HideActivitySpinner();console.log("Error in bwAuthentication.logonWith_BudgetWorkflow() calling "+i+": "+t+", "+u+", "+JSON.stringify(n));n.statusText=="timeout"||n.statusText=="error"?(displayAlertDialog(r.options.ServiceUnavailableMessage),$(".bwCircleDialog").bwCircleDialog("hideCircleDialog")):displayAlertDialog("Error in bwAuthentication.logonWith_BudgetWorkflow() calling "+i+": "+t+", "+u+", "+JSON.stringify(n));t==="timeout"?(displayAlertDialog("Our back end server/database is not responding. Please try again in a few minutes."),WriteToErrorLog("LOGIN FAILURE1!!!!!!!!!!! Error in bwAuthentication.logonWith_BudgetWorkflow(): "+i+", "+t+", "+u+", "+JSON.stringify(n))):JSON.stringify(n).toUpperCase().indexOf("403")>-1?(displayAlertDialog('The back end database cannot be contacted (403). Please try again in a few minutes. <a target="_blank" href="http://status.budgetworkflow.com">http://status.budgetworkflow.com<\/a>'),WriteToErrorLog("LOGIN FAILURE1!!!!!!!!!!! Error in bwAuthentication.logonWith_BudgetWorkflow(): Web services cannot be contacted. Please try again in a few minutes. 403 error The request could not be satisfied.: "+i+", "+t+", "+u+", "+JSON.stringify(n))):JSON.stringify(n).toUpperCase().indexOf("503")>-1?(displayAlertDialog('Web services status is 503 Service Unavailable. Please try again in a few minutes. <a target="_blank" href="http://status.budgetworkflow.com">http://status.budgetworkflow.com<\/a>'),WriteToErrorLog("LOGIN FAILURE1!!!!!!!!!!! Error in bwAuthentication.logonWith_BudgetWorkflow(): Web services cannot be contacted. Please try again in a few minutes. 403 error The request could not be satisfied.: "+i+", "+t+", "+u+", "+JSON.stringify(n))):(displayAlertDialog("Error in bwAuthentication.logonWith_BudgetWorkflow() calling "+i+": "+t+", "+u+", "+JSON.stringify(n)),WriteToErrorLog("Error in bwAuthentication.logonWith_BudgetWorkflow() calling "+i+": "+t+", "+u+", "+JSON.stringify(n)))}}))}catch(e){console.log("Exception in logonWith_BudgetWorkflow(): "+e.message+", "+e.stack);displayAlertDialog("Exception in logonWith_BudgetWorkflow(): "+e.message+", "+e.stack)}},logonWith_BudgetWorkflow_autologon:function(n){var t=this;return new Promise(function(i,r){var u,f,e;try{console.log("In bwAuthentication.js.logonWith_BudgetWorkflow_autologon().");try{$("#divBwSwipeFromTopPanel").dialog("close")}catch(o){}if(localStorage){var s=localStorage.customlogonusername,h=localStorage.customlogonpassword,c=window.navigator.userAgent;ShowActivitySpinner("Attempting login...");data={userEmailAddress:s,userPassword:h,browserNavigatorUserAgentString:c};u=t.options.operationUriPrefix+"_bw/bwworkflow/usercustomlogon";$.ajax({url:u,type:"POST",data:data,timeout:15e3,headers:{Accept:"application/json; odata=verbose"},success:function(u){var s,h,e,f;try{if(HideActivitySpinner(),u.status!="THE_PASSWORD_IS_CORRECT")u.status=="USER_DOES_NOT_EXIST"?displayAlertDialog(u.message):u.message?displayAlertDialog(u.message):displayAlertDialog(u),f={status:"ERROR",message:"xcx55543222"},r(f);else{if(s=u.bwActiveStateIdentifier,u.TwoFactorAuthenticationWithSms&&u.TwoFactorAuthenticationWithSms=="NOT_ENABLED"){switch(n){case"VIEW_NOTIFICATIONS":localStorage.setItem("subsequentaction","VIEW_NOTIFICATIONS");break;case"VIEW_EMAIL_INBOX":localStorage.setItem("subsequentaction","VIEW_EMAIL_INBOX");break;case"VIEW_CALENDAR":console.log("xcx231233-1 VIEW_CALENDAR");localStorage.setItem("subsequentaction","VIEW_CALENDAR");break;case"VIEW_EMAIL_NEW":localStorage.setItem("subsequentaction","VIEW_EMAIL_NEW");break;case"VIEW_SMS_NEW":localStorage.setItem("subsequentaction","VIEW_SMS_NEW");break;case"VIEW_HOME":localStorage.setItem("subsequentaction","VIEW_HOME");break;case"VIEW_NEW_REQUEST":localStorage.setItem("subsequentaction","VIEW_NEW_REQUEST");break;default:localStorage.setItem("subsequentaction","")}if(window.history.pushState){console.log("In bwAuthentication.js.logonWith_BudgetWorkflow_autologon(). Changing the url by using window.history.pushState(). THIS IS NEW 6-15-2024.");const n=new URL(window.location.href);n.search="?ActiveStateIdentifier="+s;window.history.pushState({path:n.href},"",n.href);t.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow().then(function(n){if(n.status!="SUCCESS"){var i="Error in bwAuthentication.logonWith_BudgetWorkflow_autologon.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow.then(). "+n.status+": "+n.message;console.log(i);displayAlertDialog(i)}else t.getRemainingParticipantAndWorkflowAppDetails().then(function(n){if(n.status!="SUCCESS"){var t="Error in bwAuthentication.logonWith_BudgetWorkflow_autologon.getRemainingParticipantAndWorkflowAppDetails.then(). "+n.status+": "+n.message;console.log(t);displayAlertDialog(t)}}).catch(function(n){var t="Exception in bwAuthentication.logonWith_BudgetWorkflow_autologon.getRemainingParticipantAndWorkflowAppDetails.catch(): "+JSON.stringify(n);console.log(t);displayAlertDialog(t)})}).catch(function(n){var t="Exception in bwAuthentication.logonWith_BudgetWorkflow_autologon.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow.catch(): "+JSON.stringify(n);console.log(t);displayAlertDialog(t)})}else e="Error in bwAuthentication.logonWith_BudgetWorkflow_autologon(). Cannot access window.history.pushState(). xcx2132455.",console.log(e),displayAlertDialog(e)}else u.TwoFactorAuthenticationWithSms&&u.TwoFactorAuthenticationWithSms=="SUCCEEDED_SENDING_SMS"?$(".bwCircleDialog").bwCircleDialog("displaySignInWithSMSCodeDialog",!0,null,u.bwTwoFactorAuthenticationSmsNumber):u.TwoFactorAuthenticationWithSms&&u.TwoFactorAuthenticationWithSms=="FAILED_SENDING_SMS"?(alert("SMS/text messaging failed: "+u.SmsFailureMessage+'. Turning off "Two factor authentication using SMS/Text Messaging" until the issue is resolved. Please click the "Sign In" button again in order to login.'),h=u.bwParticipantId,t.configurationBehaviorTwoFactorAuthenticationWithSmsTextMessagingSlider_Onchange(!1,h)):alert("SMS/text messaging failed. Unexpected response: "+u.TwoFactorAuthenticationWithSms);f={status:"WHA??",message:"xcx321234556666"};i(f)}}catch(o){HideActivitySpinner();e="Exception in bwAuthentication.js.logonWith_BudgetWorkflow_autologon():2: "+o.message+", "+o.stack;displayAlertDialog("Exception in bwAuthentication.js.logonWith_BudgetWorkflow_autologon():2: "+o.message+", "+o.stack);f={status:"EXCEPTION",message:e};r(f)}},error:function(n,i,f){var e,o;HideActivitySpinner();console.log("Error in bwAuthentication.js.logonWith_BudgetWorkflow_autologon() calling "+u+": "+i+", "+f+", "+JSON.stringify(n));n.statusText=="timeout"||n.statusText=="error"?(displayAlertDialog(t.options.ServiceUnavailableMessage),$(".bwCircleDialog").bwCircleDialog("hideCircleDialog")):displayAlertDialog("Error in bwAuthentication.js.logonWith_BudgetWorkflow_autologon() calling "+u+": "+i+", "+f+", "+JSON.stringify(n));i==="timeout"?e="Our back end server/database is not responding. Please try again in a few minutes.":JSON.stringify(n).toUpperCase().indexOf("403")>-1?(e='The back end database cannot be contacted (403). Please try again in a few minutes. <a target="_blank" href="http://status.budgetworkflow.com">http://status.budgetworkflow.com<\/a>',WriteToErrorLog("LOGIN FAILURE1!!!!!!!!!!! Error in bwAuthentication.logonWith_BudgetWorkflow_autologon(): Web services cannot be contacted. Please try again in a few minutes. 403 error The request could not be satisfied.: "+u+", "+i+", "+f+", "+JSON.stringify(n))):JSON.stringify(n).toUpperCase().indexOf("503")>-1?(e='Web services status is 503 Service Unavailable. Please try again in a few minutes. <a target="_blank" href="http://status.budgetworkflow.com">http://status.budgetworkflow.com<\/a>',WriteToErrorLog("LOGIN FAILURE1!!!!!!!!!!! Error in bwAuthentication.logonWith_BudgetWorkflow_autologon(): Web services cannot be contacted. Please try again in a few minutes. 403 error The request could not be satisfied.: "+u+", "+i+", "+f+", "+JSON.stringify(n))):(e="Error in bwAuthentication.js.logonWith_BudgetWorkflow_autologon() calling "+u+": "+i+", "+f+", "+JSON.stringify(n),WriteToErrorLog("Error in bwAuthentication.js.logonWith_BudgetWorkflow_autologon() calling "+u+": "+i+", "+f+", "+JSON.stringify(n)));o={status:"ERROR",message:e};r(o)}})}else f="NO LOGON CREDENTIALS HAVE BEEN STORED.<br />PLEASE LOGIN FOR A FIRST TIME FROM THE HOME SCREEN.",e={status:"ERROR",message:f},r(e)}catch(o){f="Exception in bwAuthentication.js.logonWith_BudgetWorkflow_autologon(): "+o.message+", "+o.stack;console.log(f);displayAlertDialog(f);e={status:"EXCEPTION",message:f};r(e)}})},configurationBehaviorTwoFactorAuthenticationWithSmsTextMessagingSlider_Onchange:function(n,t){var t,i,r,u;try{console.log("In configurationBehaviorTwoFactorAuthenticationWithSmsTextMessagingSlider_Onchange().");t||(t=$(".bwAuthentication").bwAuthentication("option","participantId"));console.log("In configurationBehaviorTwoFactorAuthenticationWithSmsTextMessagingSlider_Onchange(). Someday come back here to validate the security mechanism. 12-25-2021");i=!1;n==!1||(n&&n==!0?i=!0:(r=document.getElementById("configurationBehaviorTwoFactorAuthenticationWithSmsTextMessagingSlider"),r&&r.checked&&(i=document.getElementById("configurationBehaviorTwoFactorAuthenticationWithSmsTextMessagingSlider").checked)));data={bwParticipantId:t,bwTwoFactorAuthenticationEnabled:i};u=webserviceurl+"/updateTwoFactorAuthenticationEnabledStatus";$.ajax({url:u,type:"POST",timeout:ajaxTimeout,data:data,headers:{Accept:"application/json; odata=verbose"},success:function(n){n!="SUCCESS"?displayAlertDialog(n):console.log("In configurationBehaviorTwoFactorAuthenticationWithSmsTextMessagingSlider_Onchange(). WHY ARE WE HERE NOW?????????????????? xcx342885")},error:function(n,t,i){displayAlertDialog("Error in my.js.updateTwoFactorAuthenticationEnabledStatus(): "+t+" "+i)}})}catch(f){console.log("Exception in configurationBehaviorTwoFactorAuthenticationWithSmsTextMessagingSlider_Onchange(): "+f.message+", "+f.stack)}},configurationBehaviorEnableThumbnailLoadingSlider_Onchange:function(){var n;try{console.log("In bwAuthentication.js.configurationBehaviorEnableThumbnailLoadingSlider_Onchange().");var t=$(".bwAuthentication").bwAuthentication("option","workflowAppId"),i=$(".bwAuthentication").bwAuthentication("option","participantId"),f=$(".bwAuthentication").bwAuthentication("getActiveStateIdentifier"),r=document.getElementById("configurationBehaviorEnableThumbnailLoadingSlider").checked,e={bwParticipantId_LoggedIn:i,bwActiveStateIdentifier:f,bwWorkflowAppId_LoggedIn:t,bwWorkflowAppId:t,bwParticipantId:i,bwThumbnailLoadingEnabled:r},o=webserviceurl+"/updateThumbnailLoadingEnabledStatus";$.ajax({url:o,type:"POST",data:e,headers:{Accept:"application/json; odata=verbose"},success:function(n){try{n.status!="SUCCESS"?displayAlertDialog("Error in bwAuthentication.js.configurationBehaviorEnableThumbnailLoadingSlider_Onchange(): "+n.status+" :: "+n.message):(thumbnailLoadingEnabled=r,console.log("In configurationBehaviorEnableThumbnailLoadingSlider_Onchange(). SUCCESS. message: "+n.message))}catch(t){var i="Exception in bwAuthentication.js.configurationBehaviorEnableThumbnailLoadingSlider_Onchange.updateThumbnailLoadingEnabledStatus.success(): "+t.message+", "+t.stack;console.log(i);displayAlertDialog(i)}},error:function(n,t,i){var r="Error in bwAuthentication.js.configurationBehaviorEnableThumbnailLoadingSlider_Onchange.updateThumbnailLoadingEnabledStatus(): "+t+" "+i;console.log(r);displayAlertDialog(r)}})}catch(u){n="Exception in bwAuthentication.js.configurationBehaviorEnableThumbnailLoadingSlider_Onchange(): "+u.message+", "+u.stack;console.log(n);displayAlertDialog(n)}},configurationBehaviorEnableMultiLogonSlider_Onchange:function(){var n;try{console.log("In bwAuthentication.js.configurationBehaviorEnableMultiLogonSlider_Onchange().");var t=$(".bwAuthentication").bwAuthentication("option","workflowAppId"),i=$(".bwAuthentication").bwAuthentication("option","participantId"),f=$(".bwAuthentication").bwAuthentication("getActiveStateIdentifier"),r=document.getElementById("configurationBehaviorEnableMultiLogonSlider").checked,e={bwParticipantId_LoggedIn:i,bwActiveStateIdentifier:f,bwWorkflowAppId_LoggedIn:t,bwWorkflowAppId:t,bwParticipantId:i,bwMultiLogonEnabled:r},o=webserviceurl+"/updateMultiLogonEnabledStatus";$.ajax({url:o,type:"POST",data:e,headers:{Accept:"application/json; odata=verbose"},success:function(n){try{n.status!="SUCCESS"?displayAlertDialog("Error in bwAuthentication.js.configurationBehaviorEnableMultiLogonSlider_Onchange(): "+n.status+" :: "+n.message):(multiLogonEnabled=r,console.log("In configurationBehaviorEnableMultiLogonSlider_Onchange(). SUCCESS. message: "+n.message))}catch(t){var i="Exception in bwAuthentication.js.configurationBehaviorEnableMultiLogonSlider_Onchange.updateMultiLogonEnabledStatus.success(): "+t.message+", "+t.stack;console.log(i);displayAlertDialog(i)}},error:function(n,t,i){var r="Error in bwAuthentication.js.configurationBehaviorEnableMultiLogonSlider_Onchange.updateMultiLogonEnabledStatus(): "+t+" "+i;console.log(r);displayAlertDialog(r)}})}catch(u){n="Exception in bwAuthentication.js.configurationBehaviorEnableMultiLogonSlider_Onchange(): "+u.message+", "+u.stack;console.log(n);displayAlertDialog(n)}},saveParticipantSmsNumber:function(){var t;try{console.log("In saveParticipantSmsNumber().");var r=$(".bwAuthentication").bwAuthentication("option","participantId"),u=$("#inputBwTwoFactorAuthenticationSmsNumber").val(),n=[];n={bwParticipantId:r,bwTwoFactorAuthenticationSmsNumber:u};t=webserviceurl+"/saveParticipantSmsNumber";$.ajax({url:t,type:"POST",timeout:ajaxTimeout,data:n,headers:{Accept:"application/json; odata=verbose"},success:function(n){n!="SUCCESS"?displayAlertDialog(n):displayAlertDialog("The number has been updated successfully.")},error:function(n,t,i){displayAlertDialog("Error in my.js.saveParticipantSmsNumber(): "+t+" "+i)}})}catch(i){console.log("Exception in saveParticipantSmsCode(): "+i.message+", "+i.stack)}},logonWith_BudgetWorkflow_usingSmsCode:function(){var i,f,t,r,u,n;try{console.log("In bwAuthentication.logonWith_BudgetWorkflow_usingSmsCode().");i=this;f="";f=document.getElementById("spanCustomLogonDialogInvitationDescriptionText")?document.getElementById("spanCustomLogonDialogInvitationDescriptionText").innerHTML:document.getElementById("spanCustomSignUpDialogInvitationDescriptionText").innerHTML;t=document.getElementById("txtCustomLogonSmsCode").value;t.trim()==""||t.length!=4?this.displayAlertDialog("Please enter your 4-digit code before continuing the logon process."):(r=localStorage.customlogonusername,u=[],u={userEmailAddress:r,userSmsCode:t},n=this.options.operationUriPrefix+"_bw/usercustomlogontwofactorwithsmscode",$.ajax({url:n,timeout:ajaxTimeout,type:"POST",data:u,headers:{Accept:"application/json; odata=verbose"},success:function(n){var u,t,f;if(n.message!="The SMS code is correct")n.message=="USER_DOES_NOT_EXIST"?displayAlertDialog(n.message):n.message?displayAlertDialog(n.message):displayAlertDialog(n);else if(u=n.bwActiveStateIdentifier,window.location.href.indexOf("ios8.html")>-1)t=appweburl+"/ios8.html?ActiveStateIdentifier="+u,alert("In bwAuthentication.js.xx(). setting window.location!! xcx343245342-3"),window.location=t;else if(i.options.backendAdministrationLogin==!0)r.toLowerCase()=="todd@budgetworkflow.com"?window.location.href.indexOf("livestatus.html")>-1?(alert("Setting window.location. xcx213124-19."),t=appweburl+"/livestatus.html?ActiveStateIdentifier="+u,window.location=t):window.location.href.indexOf("admin.html")>-1?(alert("Setting window.location. xcx213124-20."),t=appweburl+"/admin.html?ActiveStateIdentifier="+u,window.location=t):window.location.href.indexOf("admin2.html")>-1?(alert("Setting window.location. xcx213124-21."),t=appweburl+"/admin2.html?ActiveStateIdentifier="+u,window.location=t):alert("Unrecognized URL. Unable to complete authentication."):displayAlertDialog("You do not have permission to access this location.");else{alert("xcx88653-3 DEV:Check code.");try{console.log("UUUUUUUUUUUUUUUUUUUUUUUUUUUUU xcx123123-1");console.log("xcx234324324-4 getUrlParams [request]");console.log("UUUUUUUUUUUUUUUUUUUUUUUUUUUUU xcx123123-2");f=i.getUrlParams().request.toString().split("#")[0]}catch(e){}console.log("xcx3434235345324565645 ?ActiveStateIdentifier");t=appweburl+"?ActiveStateIdentifier="+u;f&&(t+="&request="+f);alert("In bwAuthentication.js.xx(). setting window.location!! xcx343245342-4");window.location=t}},error:function(t,i,r){i==="timeout"?(displayAlertDialog("Our back end server/database is not responding. Please try again in a few minutes."),WriteToErrorLog("LOGIN FAILURE1!!!!!!!!!!! Error in bwAuthentication.logonWith_BudgetWorkflow_usingSmsCode(): "+n+", "+i+", "+r+", "+JSON.stringify(t))):JSON.stringify(t).toUpperCase().indexOf("ERROR 503 SERVICE UNAVAILABLE")>-1?(displayAlertDialog("Our back end database is not responding. Please try again in a few minutes."),WriteToErrorLog("LOGIN FAILURE1!!!!!!!!!!! Error in bwAuthentication.logonWith_BudgetWorkflow_usingSmsCode(): "+n+", "+i+", "+r+", "+JSON.stringify(t))):(displayAlertDialog("Error in bwAuthentication.logonWith_BudgetWorkflow(). Incorrect .js file version:1-2: "+n+", "+i+", "+r+", "+JSON.stringify(t)),WriteToErrorLog("Error in bwAuthentication.logonWith_BudgetWorkflow_usingSmsCode(). Incorrect .js file version: "+n+", "+i+", "+r+", "+JSON.stringify(t)))}}))}catch(e){console.log("Exception in logonWith_BudgetWorkflow_usingSmsCode(): "+e.message+", "+e.stack)}},getParticipantDetailsAndAcceptInvitation_BudgetWorkflow:function(n){var t=this;return new Promise(function(i,r){var a,f,e,u,o;try{console.log("In bwAuthentication.js.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow().");console.log("In bwAuthentication.js.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow(). This is where we check for Invitation and Unsubscribe. xcx23547");var h=t.getUrlParams("invitation"),c=t.getUrlParams("ForestAdministratorLoginToTenant_ActiveStateIdentifier"),l=$(".bwAuthentication:first").bwAuthentication("getActiveStateIdentifier");if(h)f=[],f={newUserFriendlyName:t.options.participantFriendlyName,newUserEmailAddress:t.options.participantEmail,newUserPassword:null,appweburl:t.options.appweburl,bwInvitationId:h},e=webserviceurl+"/bwworkflow/registerandinviteanewusercustom",$.ajax({url:e,type:"POST",data:f,headers:{Accept:"application/json; odata=verbose"},success:function(n){var u,t;try{n.message=="This email address is already in use"?(displayAlertDialog("This email address is already registered with us. Please enter a different one, or login using the existing credentials.xcx1-3"),t={status:"ERROR",message:"xcx2131234123 :: "+n.message},r(t)):n.message=="SUCCESS"?(localStorage.customlogonusername=newUserEmailAddress,localStorage.customlogonpassword=newUserPassword,$(".bwCircleDialog").bwCircleDialog("displaySignInDialog",!0,'Your login was created successfully. You will receive an introductory email in the next few minutes. Click the "Sign In" button to begin using your budget request system. xcx232134-2.<br />',!0),t={status:"SUCCESS",message:"SUCCESS"},i(t)):(displayAlertDialog(n.message),t={status:"ERROR",message:"xcx2131234123 :: "+n.message},r(t))}catch(f){u="Exception in bwAuthentication.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow(): "+f.message+", "+f.stack;conole.log(u);displayAlertDialog(u);t={status:"EXCEPTION",message:u};r(t)}},error:function(n,t,i){var u="Error in bwAuthentication.js.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow(). registeranewuser:1:xcx2-2: "+i,f;conole.log(u);displayAlertDialog(u);f={status:"ERROR",message:u};r(f)}});else if(c)console.log("GETTING ready to authenticate using forestAdministratorLoginToTenant_ActiveStateIdentifier."),a={bwActiveStateIdentifier:c},e=t.options.operationUriPrefix+"_bw/ForestAdministratorLoginToTenant2",$.ajax({url:e,type:"POST",data:a,headers:{Accept:"application/json; odata=verbose"},success:function(n){if(n.message!="SUCCESS")displayAlertDialog("ERROR: FAILED TO AUTHENTICATE: "+n.message);else{console.log("");console.log("THE USER IS AUTHENTICATED - FOREST ADMIN USING ForestAdministratorLoginToTenant_ActiveStateIdentifier");console.log("");t.options.participantLogonType=n.participantLogonType;t.options.participantId=n.participantId;t.options.participantLogonTypeUserId=n.participantId;t.options.participantFriendlyName=n.participantFriendlyName;t.options.participantEmail=n.participantEmail;alert("xcx2312312 loading tenantId");t.options.tenantId=n.bwTenantId;t.options.workflowAppId=n.bwWorkflowAppId;alert("In bwAuthentication.js.xx(). xcx38556-4 Setting options.workflowAppId to: "+n.bwWorkflowAppId);try{console.log("In bwAuthentication.js.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow(). Calling bwRequest.reload() so it goes to the database and gets the active forms. xcx654-2.");$(".bwRequest").bwRequest("reload")}catch(r){}console.log("Perhaps this is the best place to instantiate bwNotificationSound. 3-18-2024. xcx2312253-2. COME BACK AND FIX bwNotificationSoundMuted.");$("#divBwNotificationSound").bwNotificationSound({bwNotificationSoundMuted:!1});alert("xcx123124-1. Calling getRemainingParticipantAndWorkflowAppDetails().");t.getRemainingParticipantAndWorkflowAppDetails()}i()},error:function(n,t,i){var u="Error in logInAsTenantOrganizationOwner(): "+i,f;conole.log(u);displayAlertDialog(u);f={status:"ERROR",message:u};r(f)}});else if(l)if(n){u="In bwAuthentication.js.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow(). bwWorkflowAppId_SELECTED: "+n+". WE GET HERE IF THE USER IS CHANGING THEIR SELECTION OF THE TOP RIGHT ORG DROPDOWN.";console.log(u);try{$("#divBwPriorityGroup").bwPriorityGroup({})}catch(s){console.log("Exception instantiating bwPriorityGroup.js. This is likely because the user is logging into the backend administration: "+s.message+", "+s.stack)}u='THE USER IS AUTHENTICATED >> "'+t.options.participantFriendlyName+'" - '+t.options.participantEmail+" (ip: "+t.options.activeStateIPAddress+"), single-factor authentication. workflowAppId: "+t.options.workflowAppId+". They are logging into a workflow app bwWorkflowAppId_SELECTED: "+n+". Starting timer for checkIfWeNeedToPlayANotificationSound().";console.log(u);$(".bwCircleDialog").bwCircleDialog("hideCircleDialog");o={status:"SUCCESS",message:u};i(o)}else f={bwActiveStateIdentifier:l},e=t.options.operationUriPrefix+"_bw/getparticipantdetailsusingactivestateidentifier",$.ajax({url:e,method:"POST",data:f,headers:{Accept:"application/json; odata=verbose"},success:function(n){var c,o,s,l,a,u,e;try{if(n.status=="ERROR")u="Error in bwAuthentication.js.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow(): Error: "+n.message,console.log(u),displayAlertDialog(u),e={status:"ERROR",message:u},r(e);else if(n.status!="SUCCESS")$(".bwActiveMenu")&&$(".bwActiveMenu").length&&$(".bwActiveMenu").bwActiveMenu("renderHomePageContent_Unauthenticated"),console.log("Your session has expired. Please Sign In again. In bwAuthentication.js.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow(). data: "+JSON.stringify(f)),console.log("11-9-2022 Changed to show the circle dialog here.... this is the beginning of the code which shows the circle dialog when we get an authorized from a web service call...."),t.displaySignInDialog(!0),e={status:"ERROR",message:"ERROR xcx23143124 :: "+n.message},r(e);else{console.log("In bwAuthentication.js.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow(). LOADING THE GLOBAL VARIABLES participantId, participantLogonType, participantFriendlyName, participantEmail, etc.");t.options.participantId=n.data[0].bwParticipantId;t.options.participantLogonType=n.data[0].bwParticipantLogonType;t.options.participantLogonTypeUserId=n.data[0].bwParticipantId;t.options.participantFriendlyName=n.data[0].bwParticipantFriendlyName;t.options.participantEmail=n.data[0].bwParticipantEmail;t.options.activeStateIPAddress=n.data[0].activeStateIPAddress;n.data[0].bwLastSelectedTenantId?t.options.tenantId=n.data[0].bwLastSelectedTenantId:n.data[0].bwTenantId?t.options.tenantId=n.data[0].bwTenantId:displayAlertDialog("Error: Could not determine tenantId: "+n.data[0].bwTenantId);c=n.data[0].bwWorkflowAppId;t.options.workflowAppId=c;console.log("");console.log('THE USER IS AUTHENTICATED >> "'+t.options.participantFriendlyName+'" - '+t.options.participantEmail+" (ip: "+t.options.activeStateIPAddress+"), single-factor authentication. workflowAppId: "+t.options.workflowAppId+". They are logging into their tenant workflow app as the owner. Starting timer for checkIfWeNeedToPlayANotificationSound().");console.log("");$(".bwCircleDialog").bwCircleDialog("hideCircleDialog");console.log("In bwAuthentication.js.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow(). WE ARE CALLING intervalTimedCheckForAlertsForIosBadgeUpdateUsingTitle() here.");t.options.intervalTimedCheckForAlertsForIosBadgeUpdateUsingTitle=window.setInterval(t.timedCheckForAlertsForIosBadgeUpdateUsingTitle,15e3);console.log("xcx21324234 Redirecting console.log to storage array console.logs. We will include this with the screenshot when a user wants to report an error. REPORT_AN_ERROR");console.log("");console.stdlog=console.log.bind(console);console.logs=[];console.log=function(){var t={timestamp:new Date,message:Array.from(arguments)};console.logs.push(t);try{console.stdlog.apply(console,arguments)}catch(n){console.log("Exception saving to the console.logs in bwAuthentication.js. This may only happen in Safari on the Mac, I am not certtain. It may also be related to xsl that we can get rid of.??:3-2-2024: "+n.message+", "+n.stack);displayAlertDialog("Exception saving to the console.logs in bwAuthentication.js. This may only happen in Safari on the Mac, I am not certain. It may also be related to xsl that we can get rid of.??:3-2-2024: "+n.message+", "+n.stack)}};o=t.getUrlParams("openrequest");s=t.getUrlParams("request");o&&s?(alert("xcx23124 THIS MUST BE A LINK FROM AN EMAIL.... TRYING TO OPEN A SINGLE REQUEST IN ITS OWN WINDOW."),console.log(""),console.log("/////////////////////////////////////"),console.log("In bwAuthentication.js.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow(). xcx23124 THIS MUST BE A LINK FROM AN EMAIL.... TRYING TO OPEN A SINGLE REQUEST IN ITS OWN WINDOW. openrequest: "+o+", request1: "+s),console.log("/////////////////////////////////////"),console.log("")):console.log("In bwAuthentication.js.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow(). openrequest: "+o+", request: "+s);t.options.bwLastSelectedExecutiveSummariesExpandedOrCollapsed=n.data[0].bwLastSelectedExecutiveSummariesExpandedOrCollapsed;l=n.data[0].bwNotificationSoundMuted;console.log("Perhaps this is the best place to instantiate bwNotificationSound. 3-18-2024. xcx2312253-1.");$("#divBwNotificationSound").bwNotificationSound({bwNotificationSoundMuted:l});try{$("#divBwPriorityGroup").bwPriorityGroup({})}catch(h){console.log("Exception instantiating bwPriorityGroup.js. This is likely because the user is logging into the backend administration: "+h.message+", "+h.stack)}f={bwTenantId:t.options.tenantId,bwWorkflowAppId:t.options.workflowAppId,bwParticipantId:t.options.participantId,bwParticipantFriendlyName:t.options.participantFriendlyName,bwParticipantEmail:t.options.participantEmail};a=webserviceurl+"/logonactivityvisitorcounter";$.ajax({url:a,type:"POST",data:f,headers:{Accept:"application/json; odata=verbose"},success:function(){var n='THE USER IS AUTHENTICATED >> "'+t.options.participantFriendlyName+'" - '+t.options.participantEmail+" (ip: "+t.options.activeStateIPAddress+"), single-factor authentication. workflowAppId: "+t.options.workflowAppId+". They are logging into their tenant workflow app as the owner. Starting timer for checkIfWeNeedToPlayANotificationSound().",r;console.log(n);$(".bwCircleDialog").bwCircleDialog("hideCircleDialog");r={status:"SUCCESS",message:n};i(r)},error:function(n,r,u){var f='THE USER IS AUTHENTICATED >> "'+t.options.participantFriendlyName+'" - '+t.options.participantEmail+" (ip: "+t.options.activeStateIPAddress+"), single-factor authentication. workflowAppId: "+t.options.workflowAppId+". They are logging into their tenant workflow app as the owner. Starting timer for checkIfWeNeedToPlayANotificationSound(). Error calling logonactivityvisitorcounter: "+r+", "+u,e;console.log(f);$(".bwCircleDialog").bwCircleDialog("hideCircleDialog");e={status:"ERROR",message:f};i(e)}})}}catch(h){u="Exception in bwAuthentication.js.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow(): xcx22327 "+h.message+", "+h.stack;console.log(u);displayAlertDialog(u);e={status:"EXCEPTION",message:u};r(e)}},error:function(n,i,u){var f="Error in my.js.initializeTheLogon():1: thiz.options.operationUriPrefix: "+t.options.operationUriPrefix+", "+i+", "+u+" data:"+JSON.stringify(n),e;conole.log(f);displayAlertDialog(f);e={status:"ERROR",message:f};r(e)}});else u="Error in bwAuthentication.js.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow(). Expected a value for 1 of the following. bwInvitationId: "+h+", activeStateIdentifier: "+l+", forestAdministratorLoginToTenant_ActiveStateIdentifier: "+c,conole.log(u),displayAlertDialog(u),o={status:"ERROR",message:u},r(o)}catch(s){u="Exception in bwAuthentication.js.getParticipantDetailsAndAcceptInvitation_BudgetWorkflow(): "+s.message+", "+s.stack;console.log(u);displayAlertDialog(u);o={status:"EXCEPTION",message:u};r(o)}})},newUserProvisioning_Custom:function(){var e,r,i;try{console.log("In newUserProvisioning_Custom().");var o=this,f=document.getElementById("txtCustomSignUpFriendlyName").value,t=document.getElementById("txtCustomSignUpEmail").value,n=document.getElementById("txtCustomSignUpPassword").value;f.trim()==""?(this.displayAlertDialog("Please enter a Name before continuing the registration process."),document.getElementById("txtCustomSignUpFriendlyName").focus()):t.trim()==""?(this.displayAlertDialog("Please enter an Email Address before continuing the registration process."),document.getElementById("txtCustomSignUpEmail").focus()):n.trim()==""?this.displayAlertDialog("Please enter an Password before continuing the registration process."):n.trim().length<4||n.trim().length>15?(this.displayAlertDialog("Please enter an Password that is 4-15 characters in length."),document.getElementById("txtCustomSignUpPassword").focus()):(e=this.getUrlParams("invitation"),e?(r={newUserFriendlyName:f,newUserEmailAddress:t,newUserPassword:n,appweburl:appweburl,bwInvitationId:e},i=webserviceurl+"/registeranewuseroranewuserwithaninvitation",$.ajax({url:i,type:"POST",data:r,headers:{Accept:"application/json; odata=verbose"},success:function(i){try{i.status!="SUCCESS"?i.status=="ERROR_EMAIL_ADDRESS_ALREADY_IN_USE"?displayAlertDialog("This email address is already registered with us. Please enter a different one, or login using the existing credentials.xcx23244323"):displayAlertDialog("There was a problem registering this email address. Please enter a different one, or login using the existing credentials.xcx2654765"):(localStorage.customlogonusername=t,localStorage.customlogonpassword=n,o.displaySignInDialog(!0,'Your login was created successfully. You will receive an introductory email in the next few minutes. Click the "Sign In" button to begin using your budget request system. xcx232134-3.<br />',!0))}catch(r){conole.log("Exception in bwAuthentication.newUserProvisioning_Custom(): "+r.message+", "+r.stack);displayAlertDialog("Exception in bwAuthentication.newUserProvisioning_Custom(): "+r.message+", "+r.stack)}},error:function(n,t,i){console.log("Error in newUserProvisioning_Custom().registeranewuser:1:xcx3: "+i);displayAlertDialog("Error in newUserProvisioning_Custom().registeranewuser:1:xcx3: "+i)}})):(r={bwParticipantLogonType:"custom",newUserFriendlyName:f,newUserEmailAddress:t,newUserPassword:n,appweburl:appweburl},i=webserviceurl+"/registeranewuseroranewuserwithaninvitation",$.ajax({url:i,type:"POST",data:r,headers:{Accept:"application/json; odata=verbose"},success:function(i){try{i.status!="SUCCESS"?i.status=="ERROR_EMAIL_ADDRESS_ALREADY_IN_USE"?displayAlertDialog("This email address is already registered with us. Please enter a different one, or reset your password for this email address."):displayAlertDialog("There was a problem registering this email address. Please enter a different one, or login using the existing credentials.xcx2654765"):(localStorage.customlogonusername=t,localStorage.customlogonpassword=n,o.displaySignInDialog(!0,'Your login was created successfully. You will receive an introductory email in the next few minutes. Click the "Sign In" button to begin using your new software. Your free email address: '+i.bwAutomaticallyIssuedFreeEmailAddress1+"<br />",!0))}catch(r){console.log("Exception in bwAuthentication.newUserProvisioning_Custom()2: "+r.message+", "+r.stack);displayAlertDialog("Exception in bwAuthentication.newUserProvisioning_Custom()2: "+r.message+", "+r.stack)}},error:function(n,t,i){console.log("Error in newUserProvisioning_Custom().registeranewuser:2: "+i);displayAlertDialog("Error in newUserProvisioning_Custom().registeranewuser:2: "+i)}})))}catch(u){console.log("Exception in newUserProvisioning_Custom(): "+u.message+", "+u.stack);displayAlertDialog("Exception in newUserProvisioning_Custom(): "+u.message+", "+u.stack)}},cmdSaveUserOptions:function(){var i,f,e;try{console.log("In bwAuthentication.cmdSaveUserOptions().");var r=this.options.participantId,u=this.options.participantEmail,o=this.options.participantFriendlyName,t=$("#txtUserOptionsFriendlyName").val();t?(f={bwParticipantId:r,bwParticipantFriendlyName:t,bwParticipantEmail:u,modifiedById:r,modifiedByFriendlyName:o,modifiedByEmail:u},e=webserviceurl+"/bwparticipant/updateuserdetails",$.ajax({url:e,type:"POST",data:f,headers:{Accept:"application/json; odata=verbose"},success:function(n){try{console.log("In bwAuthentication.cmdSaveUserOptions():2.");$(".bwCircleDialog").bwCircleDialog("hideAndDestroyCircleDialog");displayAlertDialog(n.message);alert("xcx12221321-1 CALLING renderWelcomeScreen().");renderWelcomeScreen()}catch(t){console.log("Exception in bwAuthentication.cmdSaveUserOptions():2: "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.cmdSaveUserOptions():2: "+t.message+", "+t.stack)}},error:function(n,t,i){displayAlertDialog("Error in bwAuthentication.cmdSaveUserOptions(): "+t+" "+i)}})):(i="Error: Unexpected value for bwParticipantFriendlyName: "+t,console.log(i),displayAlertDialog(i))}catch(n){console.log("Exception in bwAuthentication.cmdSaveUserOptions(): "+n.message+", "+n.stack);displayAlertDialog("Exception in bwAuthentication.cmdSaveUserOptions(): "+n.message+", "+n.stack)}},cmdSaveUserOptions_ADMIN:function(n){var u,f,e;try{console.log("In bwAuthentication.js.cmdSaveUserOptions_ADMIN().");var o=this.options.participantId,s=this.options.participantEmail,h=this.options.participantFriendlyName,i=$("#txtUserOptionsFriendlyName").val(),r=$("#txtUserOptionsEmail").val();i&&r?(f={bwParticipantId:n,bwParticipantFriendlyName:i,bwParticipantEmail:r,modifiedById:o,modifiedByFriendlyName:h,modifiedByEmail:s},e=webserviceurl+"/bwparticipant/updateuserdetails",$.ajax({url:e,type:"POST",timeout:ajaxTimeout,data:f,headers:{Accept:"application/json; odata=verbose"},success:function(n){try{console.log("In bwAuthentication.cmdSaveUserOptions_ADMIN():2.");$(".bwCircleDialog").bwCircleDialog("hideAndDestroyCircleDialog");displayAlertDialog(n.message)}catch(t){console.log("Exception in bwAuthentication.cmdSaveUserOptions_ADMIN():2: "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.cmdSaveUserOptions_ADMIN():2: "+t.message+", "+t.stack)}},error:function(n,t,i){console.log("Error in bwAuthentication.cmdSaveUserOptions_ADMIN(): "+t+" "+i);displayAlertDialog("Error in bwAuthentication.cmdSaveUserOptions_ADMIN(): "+t+" "+i)}})):(u="Error: Unexpected value(s) for bwParticipantFriendlyName: "+i+", bwParticipantEmail: "+r,console.log(u),displayAlertDialog(u))}catch(t){console.log("Exception in bwAuthentication.cmdSaveUserOptions_ADMIN(): "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.cmdSaveUserOptions_ADMIN(): "+t.message+", "+t.stack)}},getRemainingParticipantAndWorkflowAppDetails:function(){var n=this;return new Promise(function(t,i){var u,f,e,r,s;try{console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().");r="In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). This method needs to accommodate ORG SWITCHING. And looks like it could use a lot of cleanup as well. When switching ORGS, bwRequestTypes and ActiveForms need to get loaded just as they do when normally loading.";console.log(r);console.log("#############DO WE GET HERE##############In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). WHY DID WE PICK THIS. Should not we pick the owner web app?? >>>> thiz.options.workflowAppId: "+n.options.workflowAppId);n.options.workflowAppId&&n.options.participantId&&n.options.participantFriendlyName&&n.options.participantEmail&&n.options.participantLogonTypeUserId&&invitationAlreadyAccepted==!1?(n.options.participantLogonType||(n.options.participantLogonType="custom"),u=n.getActiveStateIdentifier(),f={bwParticipantId_LoggedIn:n.options.participantId,bwActiveStateIdentifier:u,bwWorkflowAppId_LoggedIn:n.options.workflowAppId,participantLogonType:n.options.participantLogonType,participantEmail:n.options.participantEmail,participantId:n.options.participantId,appweburl:appweburl},e=webserviceurl+"/getparticipantdetails",$.ajax({url:e,type:"POST",data:f,headers:{Accept:"application/json; odata=verbose"},success:function(r){var f,o,s,c,h,e,a;try{if(r.status!="SUCCESS")e="Error in bwAuthentication.getRemainingParticipantAndWorkflowAppDetails(). "+r.status+", "+r.message+", "+JSON.stringify(r),console.log(e),displayAlertDialog(e);else if(f=r.data,f.participant&&f.result!="USER_DOES_NOT_EXIST"){for(s=0;s<f.participant.participantWorkflowApps.length;s++)if(n.options.workflowAppId==f.participant.participantWorkflowApps[s].bwWorkflowAppId){o=s;break}f.participant.participantWorkflowApps[o].bwParticipantRole=="customer"?(e="In bwAuthentication.getRemainingParticipantAndWorkflowAppDetails(). THIS USER IS A CUSTOMER.",console.log(e),displayAlertDialog(e),n.options.backendAdministrationLogin==!0?(e="In bwAuthentication.getRemainingParticipantAndWorkflowAppDetails(). Getting ready to render the home screen. Calling renderWelcomeScreen_BackendAdministration().",console.log(e),displayAlertDialog(e),renderWelcomeScreen_BackendAdministration()):(console.log("The BwWorkflowApp no longer exists, it may have been deleted, or bwLastSelectedWorkflowAppId has not yet been set because this is a new user. THEREFORE USING: thiz.options.workflowAppId: "+n.options.workflowAppId),n.options.workflowAppId=f.participant.participantWorkflowApps[o].bwWorkflowAppId,alert("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). xcx38556-5 Setting options.workflowAppId to: "+f.participant.participantWorkflowApps[o].bwWorkflowAppId),n.options.participantRole=f.participant.participantWorkflowApps[o].bwParticipantRole,n.options.workflowAppTitle=f.participant.participantWorkflowApps[o].bwWorkflowAppTitle,n.options.workflowAppFiscalYear=f.participant.participantWorkflowApps[o].workflowAppFiscalYear,console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). Setting workflowAppTheme: "+f.participant.participantWorkflowApps[o].bwWorkflowAppTheme),alert("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). Setting workflowAppTheme: "+f.participant.participantWorkflowApps[o].bwWorkflowAppTheme),n.options.workflowAppTheme=f.participant.participantWorkflowApps[o].bwWorkflowAppTheme,n.options.externallyFacingUrlForAttachments=f.participant.participantWorkflowApps[o].bwExternallyFacingUrlForAttachments,n.options.externallyFacingUrlForAttachmentsSourceFolder=f.participant.participantWorkflowApps[o].bwExternallyFacingUrlForAttachmentsSourceFolder,console.log("xcx32453255-3-1: externallyFacingUrlForAttachmentsSourceFolder: "+JSON.stringify(f.participant.participantWorkflowApps[o])),h={bwParticipantId_LoggedIn:participantId,bwActiveStateIdentifier:u,bwWorkflowAppId_LoggedIn:workflowAppId,bwWorkflowAppId:workflowAppId},c=n.options.operationUriPrefix+"_bw/RequestTypes",$.ajax({url:c,type:"POST",data:h,headers:{Accept:"application/json; odata=verbose"},success:function(t){var r,i,o,s,h;try{if(t&&t.RequestTypes&&t.RequestTypes.length&&t.RequestTypes.length>0||(console.log("Error: No request types were returned. Please select a different organization from the drop-down at the top of the page. workflowAppId: "+n.options.workflowAppId+", tenantId: "+n.options.tenantId+", RequestTypesResult: "+JSON.stringify(t)),displayAlertDialog("Error: No request types were returned. Please select a different organization from the drop-down at the top of the page. workflowAppId: "+n.options.workflowAppId+", tenantId: "+n.options.tenantId+", RequestTypesResult: "+JSON.stringify(t)),t={bwRequestTypeId:"1234-5678-9101112-1314151617",bwWorkflowAppId:n.options.workflowAppId,Abbreviation:"BR",SingletonName:"Budget Request",PluralName:"Budget Requests",isActive:!0,closeoutsEnabled:!0}),t.status!="SUCCESS")console.log("ERROR: This process cannot continue. In my.js.renderWelcomeScreen.RequestTypesResult.message: "+t.message),displayAlertDialog("ERROR: This process cannot continue. In my.js.renderWelcomeScreen.RequestTypesResult.message: "+t.message);else{for(r="PluralName",t.RequestTypes=t.RequestTypes.sort(function(n,t){return n[r]>t[r]?1:n[r]<t[r]?-1:0}),alert("Setting options.bwEnabledRequestTypes xcx324234-1"),n.options.bwEnabledRequestTypes={EnabledItems:[]},i=0;i<t.RequestTypes.length;i++)t.RequestTypes[i].isActive==!0&&(o={bwRequestTypeId:t.RequestTypes[i].bwRequestTypeId,isActive:t.RequestTypes[i].isActive,hasWorkflow:t.RequestTypes[i].hasWorkflow,supplementalsEnabled:t.RequestTypes[i].supplementalsEnabled,closeoutsEnabled:t.RequestTypes[i].closeoutsEnabled,Abbreviation:t.RequestTypes[i].Abbreviation,SingletonName:t.RequestTypes[i].SingletonName,PluralName:t.RequestTypes[i].PluralName},n.options.bwEnabledRequestTypes.EnabledItems.push(o));n.options.selectedRequestType=n.options.bwEnabledRequestTypes.EnabledItems[0]}console.log("");console.log("********************************");console.log("xcx333 This is where the workflow app is set when the page loads, so we have to GET THE LICENSING HERE!");alert("xcx333 This is where the workflow app is set when the page loads, so we have to GET THE LICENSING HERE!");s={bwWorkflowAppId:n.options.workflowAppId};h=webserviceurl+"/bwworkflowapplicensesforworkflow";$.ajax({url:h,type:"POST",data:s,headers:{Accept:"application/json; odata=verbose"},success:function(t){var r,e,a,i,b,o,k,v,y,p,s;try{for(console.log("xcx1231242 In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails() loading "+t.length+" licenses for "+workflowAppId),console.log("********************************"),console.log(""),globalLicenses=[],r=0;r<t.length;r++){e=new Array(5);e[0]=t[r].LicensePackageCategory;e[1]=t[r].LicensePackageCategory;e[2]=t[r].bwWorkflowAppLicenseId;e[3]=t[r].LicenseClaimedTimestamp;e[4]=getLicenseExpiryFriendlyDate(t[r].LicenseClaimedTimestamp);globalLicenses.push(e);var c=["basic","bronze","silver","gold"],l=c.indexOf(t[r].LicensePackageCategory),w=c.indexOf(gWorkflowLicenseStatus);l>w&&(gWorkflowLicenseStatus=c[l])}for(console.log(""),console.log("****************************************"),console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails() Number of workflow apps this user belongs to: "+f.participant.participantWorkflowApps.length),console.log("****************************************"),console.log(""),a=!1,i=0;i<f.participant.participantWorkflowApps.length;i++)n.options.workflowAppId==f.participant.participantWorkflowApps[i].bwWorkflowAppId&&(n.options.workflowAppTitle=f.participant.participantWorkflowApps[i].bwWorkflowAppTitle,n.options.workflowAppFiscalYear=f.participant.participantWorkflowApps[i].bwFiscalYear,console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). Setting workflowAppTheme 2: "+f.participant.participantWorkflowApps[i].bwWorkflowAppTheme),alert("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). Setting workflowAppTheme 2: "+f.participant.participantWorkflowApps[i].bwWorkflowAppTheme),n.options.workflowAppTheme=f.participant.participantWorkflowApps[i].bwWorkflowAppTheme,n.options.LastSelected_ArchiveScreen_bwRequestTypeId=f.participant.participantWorkflowApps[i].LastSelected_ArchiveScreen_bwRequestTypeId,n.options.LastSelected_bwRequestTypeId=f.participant.participantWorkflowApps[i].LastSelected_bwRequestTypeId,f.participant.participantWorkflowApps[i].LastSelected_OpenAccordionDrawers&&(n.options.LastSelected_OpenAccordionDrawers=f.participant.participantWorkflowApps[i].LastSelected_OpenAccordionDrawers),n.options.UserData_PinnedRequestsArray=f.participant.participantWorkflowApps[i].PinnedRequests,selectedCurrencySymbol=f.participant.participantWorkflowApps[i].bwSelectedCurrencySymbol,newBudgetRequestManagerTitle=f.participant.participantWorkflowApps[i].bwNewBudgetRequestManagerTitle,requireStartEndDates=f.participant.participantWorkflowApps[i].bwRequireStartEndDates=="true"?!0:!1,requireRequestDetails=f.participant.participantWorkflowApps[i].bwRequireRequestDetails=="true"?!0:!1,enableNewRequestAttachments=f.participant.participantWorkflowApps[i].bwEnableNewRequestAttachments=="true"?!0:!1,enableNewRequestBarcodeAttachments=f.participant.participantWorkflowApps[i].bwEnableNewRequestBarcodeAttachments=="true"?!0:!1,capitalAndExpenseTrackingEnabled=f.participant.participantWorkflowApps[i].bwCapitalAndExpenseTrackingEnabled=="true"?!0:!1,closeoutsEnabled=f.participant.participantWorkflowApps[i].bwCloseoutsEnabled=="true"?!0:!1,supplementalsEnabled=f.participant.participantWorkflowApps[i].bwSupplementalsEnabled=="true"?!0:!1,emailEnabled=f.participant.participantWorkflowApps[i].bwEmailEnabled=="true"?!0:!1,thumbnailLoadingEnabled=f.participant.participantWorkflowApps[i].bwThumbnailLoadingEnabled,multiLogonEnabled=f.participant.participantWorkflowApps[i].bwMultiLogonEnabled,strictAuditingEnabled=f.participant.participantWorkflowApps[i].bwStrictAuditingEnabled=="true"?!0:!1,console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). xcx3254-1>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> bwTopLeftLogoEnabled: "+f.participant.participantWorkflowApps[i].bwTopLeftLogoEnabled),alert("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). xcx3254-1>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> bwTopLeftLogoEnabled: "+f.participant.participantWorkflowApps[i].bwTopLeftLogoEnabled),n.options.topLeftLogoEnabled=f.participant.participantWorkflowApps[i].bwTopLeftLogoEnabled=="true"?!0:!1,console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). xcx3254>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> bwDeveloperModeEnabled: "+f.participant.participantWorkflowApps[i].bwDeveloperModeEnabled),n.options.developerModeEnabled=f.participant.participantWorkflowApps[i].bwDeveloperModeEnabled=="true"?!0:!1,n.options.largeFileUploadEnabled=f.participant.participantWorkflowApps[i].bwLargeFileUploadEnabled=="true"?!0:!1,console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). Instantiating the widgets bwRequest, bwOrganizationEditor."),$("#divBwActiveMenu").bwActiveMenu("renderAuthenticatedHomePage"),b=$("#divBwRequest").bwRequest({}),alert("Instantiate the bwAttachmentDialog.js widget here. 2-16-2024. xcx2312312-2."),o=document.getElementById("divBwAttachmentDialog"),o||(o=document.createElement("div"),o.id="divBwAttachmentDialog",document.body.appendChild(o)),k=$("#divBwAttachmentDialog").bwAttachmentDialog({}),a=!0);n.options.bwSelectedNotificationSound=f.participant.bwSelectedNotificationSound;console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). Set bwSelectedNotificationSound: "+n.options.bwSelectedNotificationSound);tipsDisplayOn=f.participant.bwTipsDisplayOn=="true"?!0:!1;displayInvitationsOnHomePageDisplayOn=f.participant.bwInvitationsOnHomePageDisplayOn=="true"?!0:!1;displayTaskDetailsBeforeRequests=f.participant.bwDisplayTaskDetailsBeforeRequests=="true"?!0:!1;emailNotificationFrequency=f.participant.bwEmailNotificationFrequency;emailNotificationTypes=f.participant.bwEmailNotificationTypes;emailAggregatorTwiceDailyFirstTime=f.participant.bwEmailAggregatorTwiceDailyFirstTime;emailAggregatorTwiceDailySecondTime=f.participant.bwEmailAggregatorTwiceDailySecondTime;emailAggregatorTwiceDailyTimezoneDisplayName=f.participant.bwEmailAggregatorTwiceDailyTimezoneDisplayName;bwTwoFactorAuthenticationEnabled=f.participant.bwTwoFactorAuthenticationEnabled;bwTwoFactorAuthenticationSmsNumber=f.participant.bwTwoFactorAuthenticationSmsNumber;v=f.participant.bwUnsubscribedStatus;v=="true"?(y=confirm("You are not subscribed. If you wish to re-subscribe and resume using BudgetWorkflow.com, then click OK.\n\n\nClick the OK button to proceed..."),y&&(p={participantId:n.options.participantId},s=webserviceurl+"/subscribe",$.ajax({url:s,type:"POST",data:p,headers:{Accept:"application/json; odata=verbose"},success:function(t){try{displayAlertDialog(t);alert("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). setting window.location!! xcx343245342-5");window.location="index.html?logontype="+n.options.participantLogonType;alert("xcx12221321-2 CALLING renderWelcomeScreen().");renderWelcomeScreen()}catch(i){console.log("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().xcx34345456: "+i.message+", "+i.stack)}},error:function(n,t,i){displayAlertDialog("Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():subscribe:"+i+" "+JSON.stringify(n))}}))):(s=webserviceurl+"/bwtenants/"+n.options.tenantId,$.ajax({url:s,method:"GET",headers:{Accept:"application/json; odata=verbose"},success:function(){try{var i=webserviceurl+"/bwworkflowapps/"+n.options.tenantId;$.ajax({url:i,method:"GET",headers:{Accept:"application/json; odata=verbose"},success:function(){try{$.ajax({url:webserviceurl+"/getfunctionalareasbyappid/"+n.options.workflowAppId+"/RETURNALL",method:"GET",headers:{Accept:"application/json; odata=verbose"},success:function(t){try{alert("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). CALLING /listofworklflowappsthathavebeeninvitedto(). xcx123145-1.");var r={bwParticipantId_LoggedIn:participantId,bwActiveStateIdentifier:u,bwWorkflowAppId_LoggedIn:workflowAppId,bwParticipantId:n.options.participantId};$.ajax({url:webserviceurl+"/bwworkflowapps/listofworklflowappsthathavebeeninvitedto",type:"POST",contentType:"application/json",data:JSON.stringify(r),success:function(i){try{alert("xcx23123-1 setting iData: "+JSON.stringify(i));n.options.userIsATenantOwner="true";n.options.iData=i;n.options.faData=t;console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). Calling RenderContentForButton(HOME). xcx23123123-1.");$(".bwActiveMenu").bwActiveMenu("RenderContentForButton",null,"HOME","xcx1234235-6")}catch(r){console.log("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().xcx000344: "+r.message+", "+r.stack);displayAlertDialog("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().xcx000344: "+r.message+", "+r.stack)}},error:function(n,t,i){console.log("Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():2.1-1:"+t+", "+i+", "+JSON.stringify(n));displayAlertDialog("Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():2.1-1:"+t+", "+i+", "+JSON.stringify(n))}})}catch(i){console.log("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().xcx000343: "+i.message+", "+i.stack);displayAlertDialog("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().xcx000343: "+i.message+", "+i.stack)}},error:function(n,t,i){console.log("Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():2:"+t+", "+i+", "+JSON.stringify(n));displayAlertDialog("Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():2:"+t+", "+i+", "+JSON.stringify(n))}})}catch(t){console.log("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().xcx000342: "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().xcx000342: "+t.message+", "+t.stack)}},error:function(n,t,i){console.log("Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():3:",t+", "+i);displayAlertDialog("Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():3:",t+", "+i)}})}catch(t){console.log("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().xcx00034: "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().xcx00034: "+t.message+", "+t.stack)}},error:function(n,t,i){console.log("Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():4:",t+", "+i);displayAlertDialog("Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():4:",t+", "+i)}}));tipsDisplayOn==!0&&($("#spanAlertLink").show(),$("#spanAlertLinkNewRequest").show(),$("#spanAlertLinkMyStuff").show(),$("#spanAlertLinkSummary").show(),$("#spanAlertLinkConfiguration").show(),$("#spanAlertLinkHelp").show())}catch(h){console.log("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails() 3423423: "+h.message+", "+h.stack);displayAlertDialog("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails() 3423423: "+h.message+", "+h.stack)}},error:function(n,t,i){console.log("Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():GET bwworkflowapplicenses:"+i);displayAlertDialog("Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():GET bwworkflowapplicenses:"+i)}})}catch(e){console.log("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():6:.RequestTypes().xx.Get:1: "+e.message+", "+e.stack);displayAlertDialog("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():6:.RequestTypes().xx.Get:1: "+e.message+", "+e.stack)}},error:function(n){console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():6:.RequestTypes.fail(): "+JSON.stringify(n));var t;t=JSON.stringify(n).indexOf("The specified URL cannot be found.")>-1?"There has been an error contacting the server. A firewall or network appliance may be interrupting this traffic.":JSON.stringify(n);displayAlertDialog("Exception inbwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().RequestTypes():6: "+t);console.log("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().RequestTypes():6: "+JSON.stringify(n))}}))):n.options.backendAdministrationLogin==!0?(console.log("Getting ready to render the home screen. Calling renderWelcomeScreen_BackendAdministration()."),renderWelcomeScreen_BackendAdministration()):(f.participant.bwLastSelectedWorkflowAppId?f.participant.participantWorkflowApps||alert("FATAL ERROR xcx4564388. In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails() NO VALUE FOR userData.participant.participantWorkflowApps: "+f.participant.participantWorkflowApps):(console.log("The BwWorkflowApp no longer exists, it may have been deleted, or bwLastSelectedWorkflowAppId has not yet been set because this is a new user. THEREFORE USING: thiz.options.workflowAppId: "+n.options.workflowAppId),n.options.workflowAppId=f.participant.participantWorkflowApps[0].bwWorkflowAppId,console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). Loading participantRole. xcx21312414-2: "+f.participant.participantWorkflowApps[o].bwParticipantRole),n.options.participantRole=f.participant.participantWorkflowApps[0].bwParticipantRole,n.options.workflowAppTitle=f.participant.participantWorkflowApps[0].bwWorkflowAppTitle,n.options.workflowAppFiscalYear=f.participant.participantWorkflowApps[0].workflowAppFiscalYear,console.log("InbwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). Setting workflowAppTheme 3: "+f.participant.participantWorkflowApps[0].bwWorkflowAppTheme),n.options.workflowAppTheme=f.participant.participantWorkflowApps[0].bwWorkflowAppTheme,n.options.externallyFacingUrlForAttachments=f.participant.participantWorkflowApps[0].bwExternallyFacingUrlForAttachments,n.options.externallyFacingUrlForAttachmentsSourceFolder=f.participant.participantWorkflowApps[0].bwExternallyFacingUrlForAttachmentsSourceFolder,console.log("xcx32453255-3-2: In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails() externallyFacingUrlForAttachmentsSourceFolder: "+JSON.stringify(f.participant.participantWorkflowApps[0]))),h={bwParticipantId_LoggedIn:n.options.participantId,bwActiveStateIdentifier:u,bwWorkflowAppId_LoggedIn:n.options.workflowAppId,bwWorkflowAppId:n.options.workflowAppId,bwRequestTypeId:"ALL",isActive:!0},$.ajax({url:n.options.operationUriPrefix+"_bw/workflowconfiguration",type:"POST",data:h,headers:{Accept:"application/json; odata=verbose"},success:function(r){var o,h,e,l;try{n.options.Workflows=r.value;console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().(). Calling _bw/RequestTypes.");o={bwParticipantId_LoggedIn:n.options.participantId,bwActiveStateIdentifier:u,bwWorkflowAppId_LoggedIn:n.options.workflowAppId,bwWorkflowAppId:n.options.workflowAppId};h=n.options.operationUriPrefix+"_bw/requesttypes";$.ajax({url:h,type:"POST",data:o,headers:{Accept:"application/json; odata=verbose"},success:function(r){var e,u,h,c,l,o,v;try{if(r&&r.RequestTypes&&r.RequestTypes.length&&r.RequestTypes.length>0||(console.log("Error: No request types were returned. Please select a different organization from the drop-down at the top of the page. workflowAppId: "+n.options.workflowAppId+", tenantId: "+n.options.tenantId+", RequestTypesResult: "+JSON.stringify(r)),displayAlertDialog("Error: No request types were returned. Please select a different organization from the drop-down at the top of the page. workflowAppId: "+n.options.workflowAppId+", tenantId: "+n.options.tenantId+", RequestTypesResult: "+JSON.stringify(r)),r={bwRequestTypeId:"1234-5678-9101112-1314151617",bwWorkflowAppId:n.options.workflowAppId,Abbreviation:"BR",SingletonName:"Budget Request",PluralName:"Budget Requests",isActive:!0,closeoutsEnabled:!0}),r.status!="SUCCESS")console.log("ERROR: This process cannot continue. In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().RequestTypesResult.message: "+r.message),displayAlertDialog("ERROR: This process cannot continue. In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().RequestTypesResult.message: "+r.message);else{for(e="PluralName",r.RequestTypes=r.RequestTypes.sort(function(n,t){return n[e]>t[e]?1:n[e]<t[e]?-1:0}),console.log("Setting options.bwEnabledRequestTypes xcx324234-2"),n.options.bwEnabledRequestTypes={EnabledItems:[]},u=0;u<r.RequestTypes.length;u++)r.RequestTypes[u].isActive==!0&&(h={bwRequestTypeId:r.RequestTypes[u].bwRequestTypeId,isActive:r.RequestTypes[u].isActive,hasWorkflow:r.RequestTypes[u].hasWorkflow,supplementalsEnabled:r.RequestTypes[u].supplementalsEnabled,closeoutsEnabled:r.RequestTypes[u].closeoutsEnabled,Abbreviation:r.RequestTypes[u].Abbreviation,SingletonName:r.RequestTypes[u].SingletonName,PluralName:r.RequestTypes[u].PluralName},n.options.bwEnabledRequestTypes.EnabledItems.push(h));n.options.selectedRequestType=n.options.bwEnabledRequestTypes.EnabledItems[0]}console.log("");console.log("********************************");console.log("xcx333 In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails() This is where the workflow app is set when the page loads, so we have to GET THE LICENSING HERE!");c={bwWorkflowAppId:n.options.workflowAppId};l=webserviceurl+"/bwworkflowapplicensesforworkflow";$.ajax({url:l,type:"POST",data:c,headers:{Accept:"application/json; odata=verbose"},success:function(r){var h,c,w,u,y,it,o,b,rt,k,d,g,l,e,a;try{for(console.log("xcx1231242 In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails() loading "+r.length+" licenses for "+workflowAppId),console.log("********************************"),console.log(""),globalLicenses=[],h=0;h<r.length;h++){c=new Array(5);c[0]=r[h].LicensePackageCategory;c[1]=r[h].LicensePackageCategory;c[2]=r[h].bwWorkflowAppLicenseId;c[3]=r[h].LicenseClaimedTimestamp;c[4]=getLicenseExpiryFriendlyDate(r[h].LicenseClaimedTimestamp);globalLicenses.push(c);var v=["basic","bronze","silver","gold"],p=v.indexOf(r[h].LicensePackageCategory),tt=v.indexOf(gWorkflowLicenseStatus);p>tt&&(gWorkflowLicenseStatus=v[p])}for(console.log(""),console.log("****************************************"),console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails() Number of workflow apps this user belongs to: "+f.participant.participantWorkflowApps.length),console.log("****************************************"),console.log(""),w=!1,u=0;u<f.participant.participantWorkflowApps.length;u++)n.options.workflowAppId==f.participant.participantWorkflowApps[u].bwWorkflowAppId&&(n.options.participantRole=f.participant.participantWorkflowApps[s].bwParticipantRole,n.options.externallyFacingUrlForAttachments=f.participant.participantWorkflowApps[s].bwExternallyFacingUrlForAttachments,n.options.externallyFacingUrlForAttachmentsSourceFolder=f.participant.participantWorkflowApps[s].bwExternallyFacingUrlForAttachmentsSourceFolder,n.options.workflowAppTitle=f.participant.participantWorkflowApps[u].bwWorkflowAppTitle,n.options.workflowAppFiscalYear=f.participant.participantWorkflowApps[u].bwFiscalYear,console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). Setting thiz.options.workflowAppTheme 5: "+f.participant.participantWorkflowApps[u].bwWorkflowAppTheme),n.options.workflowAppTheme=f.participant.participantWorkflowApps[u].bwWorkflowAppTheme,n.options.LastSelected_ArchiveScreen_bwRequestTypeId=f.participant.participantWorkflowApps[u].LastSelected_ArchiveScreen_bwRequestTypeId,n.options.LastSelected_bwRequestTypeId=f.participant.participantWorkflowApps[u].LastSelected_bwRequestTypeId,console.log("@@@@@@@@@@@@@@@@@@@@@@@@ In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails() userData.participant.participantWorkflowApps[wa].LastSelected_OpenAccordionDrawers: "+f.participant.participantWorkflowApps[u].LastSelected_OpenAccordionDrawers),f.participant.participantWorkflowApps[u].LastSelected_OpenAccordionDrawers&&(n.options.LastSelected_OpenAccordionDrawers=f.participant.participantWorkflowApps[u].LastSelected_OpenAccordionDrawers),n.options.UserData_PinnedRequestsArray=f.participant.participantWorkflowApps[u].PinnedRequests,selectedCurrencySymbol=f.participant.participantWorkflowApps[u].bwSelectedCurrencySymbol,newBudgetRequestManagerTitle=f.participant.participantWorkflowApps[u].bwNewBudgetRequestManagerTitle,requireStartEndDates=f.participant.participantWorkflowApps[u].bwRequireStartEndDates=="true"?!0:!1,requireRequestDetails=f.participant.participantWorkflowApps[u].bwRequireRequestDetails=="true"?!0:!1,enableNewRequestAttachments=f.participant.participantWorkflowApps[u].bwEnableNewRequestAttachments=="true"?!0:!1,enableNewRequestBarcodeAttachments=f.participant.participantWorkflowApps[u].bwEnableNewRequestBarcodeAttachments=="true"?!0:!1,capitalAndExpenseTrackingEnabled=f.participant.participantWorkflowApps[u].bwCapitalAndExpenseTrackingEnabled=="true"?!0:!1,console.log("xcx2132588-2 In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails() GETTING VALUE FOR closeoutsEnabled."),closeoutsEnabled=f.participant.participantWorkflowApps[u].bwCloseoutsEnabled=="true"?!0:!1,console.log("xcx2132588 In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails() GETTING VALUE FOR supplementalsEnabled."),supplementalsEnabled=f.participant.participantWorkflowApps[u].bwSupplementalsEnabled=="true"?!0:!1,console.log("xcx2132588 In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails() GETTING VALUE FOR bwEmailEnabled."),emailEnabled=f.participant.participantWorkflowApps[u].bwEmailEnabled=="true"?!0:!1,thumbnailLoadingEnabled=f.participant.participantWorkflowApps[u].bwThumbnailLoadingEnabled,console.log("xcx2132588 In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails() GETTING VALUE FOR thumbnailLoadingEnabled. thumbnailLoadingEnabled: "+thumbnailLoadingEnabled),multiLogonEnabled=f.participant.participantWorkflowApps[u].bwMultiLogonEnabled,console.log("xcx2132588 In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails() GETTING VALUE FOR multiLogonEnabled. multiLogonEnabled: "+multiLogonEnabled),strictAuditingEnabled=f.participant.participantWorkflowApps[u].bwStrictAuditingEnabled=="true"?!0:!1,console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). xcx3254-2>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> bwTopLeftLogoEnabled: "+f.participant.participantWorkflowApps[u].bwTopLeftLogoEnabled),n.options.topLeftLogoEnabled=f.participant.participantWorkflowApps[u].bwTopLeftLogoEnabled==!0?!0:!1,console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). xcx3254>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> bwDeveloperModeEnabled: "+f.participant.participantWorkflowApps[u].bwDeveloperModeEnabled),n.options.developerModeEnabled=f.participant.participantWorkflowApps[u].bwDeveloperModeEnabled=="true"?!0:!1,n.options.largeFileUploadEnabled=f.participant.participantWorkflowApps[u].bwLargeFileUploadEnabled=="true"?!0:!1,console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). Instantiating the widgets bwRequest, bwOrganizationEditor."),$("#divBwActiveMenu").bwActiveMenu("renderAuthenticatedHomePage"),console.log("INSTANTIATING bwRequest here. IS IT RELOADING THE CORRECT ActiveForms?????????"),typeof $.bw.bwRequest!="undefined"?(y=document.getElementsByClassName("bwRequest"),y.length&&y.length>0?(console.log("The bwRequest.js widget was already instantiated. Loading active forms."),$(".bwRequest").bwRequest("loadActiveForms").then(function(n){if(n.status!="SUCCESS"){var t="Error in xx(). xcx213123123. "+n.status+", "+n.message;console.log(t);displayAlertDialog(t)}}).catch(function(n){var t="Exception in bwAuthentication.js.xx.bwRequest.loadActiveForms(): "+JSON.stringify(n);console.log(t);displayAlertDialog(t)})):$("#divBwRequest").bwRequest({})):(e="Error: The bwRequest.js widget has not been loaded. Inspect the index.html file to make sure it is specified to load. xcx23536.",console.log(e),displayAlertDialog(e)),o=document.getElementById("divBwAttachmentDialog"),o||(o=document.createElement("div"),o.id="divBwAttachmentDialog",document.body.appendChild(o)),it=$("#divBwAttachmentDialog").bwAttachmentDialog({}),console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). Instantiating bwOrganizationEditor."),o=document.getElementById("divBwOrganizationEditor"),o||(o=document.createElement("div"),o.id="divBwOrganizationEditor",document.body.appendChild(o)),console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). Instantiating bwOrganizationEditor()"),b={displayWorkflowPicker:!0,bwTenantId:tenantId,bwWorkflowAppId:workflowAppId,bwEnabledRequestTypes:bwEnabledRequestTypes},rt=$("#divBwOrganizationEditor").bwOrganizationEditor(b),w=!0);n.options.bwSelectedNotificationSound=f.participant.bwSelectedNotificationSound;console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). Set bwSelectedNotificationSound: "+n.options.bwSelectedNotificationSound);tipsDisplayOn=f.participant.bwTipsDisplayOn=="true"?!0:!1;displayInvitationsOnHomePageDisplayOn=f.participant.bwInvitationsOnHomePageDisplayOn=="true"?!0:!1;displayTaskDetailsBeforeRequests=f.participant.bwDisplayTaskDetailsBeforeRequests=="true"?!0:!1;emailNotificationFrequency=f.participant.bwEmailNotificationFrequency;emailNotificationTypes=f.participant.bwEmailNotificationTypes;emailAggregatorTwiceDailyFirstTime=f.participant.bwEmailAggregatorTwiceDailyFirstTime;emailAggregatorTwiceDailySecondTime=f.participant.bwEmailAggregatorTwiceDailySecondTime;emailAggregatorTwiceDailyTimezoneDisplayName=f.participant.bwEmailAggregatorTwiceDailyTimezoneDisplayName;bwTwoFactorAuthenticationEnabled=f.participant.bwTwoFactorAuthenticationEnabled;bwTwoFactorAuthenticationSmsNumber=f.participant.bwTwoFactorAuthenticationSmsNumber;k=f.participant.bwUnsubscribedStatus;k=="true"?(d=confirm("You are not subscribed. If you wish to re-subscribe and resume using BudgetWorkflow.com, then click OK.\n\n\nClick the OK button to proceed..."),d&&(g={participantId:n.options.participantId},l=webserviceurl+"/subscribe",$.ajax({url:l,type:"POST",data:g,headers:{Accept:"application/json; odata=verbose"},success:function(t){try{displayAlertDialog(t);alert("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails()). setting window.location!! xcx343245342-5");window.location="index.html?logontype="+n.options.participantLogonType;alert("xcx12221321-2 In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails() CALLING renderWelcomeScreen().");renderWelcomeScreen()}catch(i){console.log("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().xcx34345456: "+i.message+", "+i.stack)}},error:function(n,t,i){displayAlertDialog("Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():subscribe:"+i+" "+JSON.stringify(n))}}))):(l=webserviceurl+"/bwtenants/"+n.options.tenantId,$.ajax({url:l,method:"GET",headers:{Accept:"application/json; odata=verbose"},success:function(){try{var i=webserviceurl+"/bwworkflowapps/"+n.options.tenantId;$.ajax({url:i,method:"GET",headers:{Accept:"application/json; odata=verbose"},success:function(){try{$.ajax({url:webserviceurl+"/getfunctionalareasbyappid/"+n.options.workflowAppId+"/RETURNALL",method:"GET",headers:{Accept:"application/json; odata=verbose"},success:function(t){try{console.log("xcx123123412 In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails() >>>>>>>>>>>> thiz.options.participantId: "+n.options.participantId);var r={bwParticipantId_LoggedIn:n.options.participantId,bwActiveStateIdentifier:n.getActiveStateIdentifier(),bwWorkflowAppId_LoggedIn:n.options.workflowAppId,bwParticipantId:n.options.participantId};console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails()(). CALLING /listofworklflowappsthathavebeeninvitedto(). xcx123145-2.");$.ajax({url:webserviceurl+"/bwworkflowapps/listofworklflowappsthathavebeeninvitedto",type:"POST",contentType:"application/json",data:JSON.stringify(r),success:function(i){var u,r;try{if(i.status!="SUCCESS")r=i.status+": "+i.message,console.log(r),alert(r);else{console.log("xcx23123-2 setting results: "+JSON.stringify(i));n.options.userIsATenantOwner="true";n.options.iData=i.wufResult;n.options.faData=t;u=localStorage.getItem("subsequentaction");console.log("xcx213124423 subsequentAction: "+u);switch(u){case"VIEW_NOTIFICATIONS":$(".bwNotificationSound").bwNotificationSound("slideOutAndDisplayNotificationsPanel");break;case"VIEW_EMAIL_INBOX":$(".bwActiveMenu").bwActiveMenu("RenderContentForButton",null,"MESSAGING2","xcx1234235-7");break;case"VIEW_CALENDAR":console.log("xcx231233-2 VIEW_CALENDAR");$(".bwActiveMenu").bwActiveMenu("RenderContentForButton",null,"VIEW_CALENDAR","xcx1234235-10-2525");break;case"VIEW_EMAIL_NEW":alert("xcx12313 In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails() Calling RenderContentForButton(MESSAGING2).");$(".bwActiveMenu").bwActiveMenu("RenderContentForButton",null,"MESSAGING2","xcx1234235-8");$(".bwEmailClient_Haraka:first").bwEmailClient_Haraka("composeANewEmailMessage");break;case"VIEW_SMS_NEW":console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). Calling RenderContentForButton(HOME). xcx23123123-2.");$(".bwActiveMenu").bwActiveMenu("RenderContentForButton",null,"HOME","xcx1234235-9");break;case"VIEW_HOME":console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). Calling RenderContentForButton(HOME). xcx23123123-2.");$(".bwActiveMenu").bwActiveMenu("RenderContentForButton",null,"HOME","xcx1234235-10");break;case"VIEW_NEW_REQUEST":console.log("In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). Calling RenderContentForButton(HOME). xcx23123123-2-2.");$(".bwActiveMenu").bwActiveMenu("RenderContentForButton",null,"NEW_REQUEST","xcx1234235-11");break;default:u?(r="Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). Invalid value for subsequentAction: "+u,console.log(r),displayAlertDialog(r)):(r="In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). There is no value, so no action will be taken for variable [subsequentAction]: "+u,console.log(r))}localStorage.setItem("subsequentaction","")}}catch(f){console.log("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().xcx000344: "+f.message+", "+f.stack);displayAlertDialog("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().xcx000344: "+f.message+", "+f.stack)}},error:function(n,t,i){console.log("Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():2.1-2:"+t+", "+i+", "+JSON.stringify(n));displayAlertDialog("Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():2.1-2:"+t+", "+i+", "+JSON.stringify(n))}})}catch(i){console.log("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().xcx000343: "+i.message+", "+i.stack);displayAlertDialog("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().xcx000343: "+i.message+", "+i.stack)}},error:function(n,t,i){console.log("Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():2:"+t+", "+i+", "+JSON.stringify(n));displayAlertDialog("Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():2:"+t+", "+i+", "+JSON.stringify(n))}})}catch(t){console.log("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().xcx000342: "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().xcx000342: "+t.message+", "+t.stack)}},error:function(n,t,i){console.log("Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():3:",t+", "+i);displayAlertDialog("Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():3:",t+", "+i)}})}catch(t){console.log("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().xcx00034: "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails().xcx00034: "+t.message+", "+t.stack)}},error:function(n,t,i){console.log("Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():4:",t+", "+i);displayAlertDialog("Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():4:",t+", "+i)}}));tipsDisplayOn==!0&&($("#spanAlertLink").show(),$("#spanAlertLinkNewRequest").show(),$("#spanAlertLinkMyStuff").show(),$("#spanAlertLinkSummary").show(),$("#spanAlertLinkConfiguration").show(),$("#spanAlertLinkHelp").show());e="In bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(). RETURNING SUCCESS. THIS NEEDS A BIT MORE TESTING.";console.log(e);a={status:"SUCCESS",message:e};t(a)}catch(nt){e="Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():xcx567743: "+nt.message+", "+nt.stack;console.log(e);displayAlertDialog(e);a={status:"EXCEPTION",message:e};i(a)}},error:function(n,t,r){var u="Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():xcx23543465477721: "+t+", "+r,f;console.log(u);displayAlertDialog(u);f={status:"ERROR",message:u};i(f)}})}catch(a){o="Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():xcx23543465477733: "+a.message+", "+a.stack;console.log(o);displayAlertDialog(o);v={status:"EXCEPTION",message:o};i(v)}},error:function(n,t,r){var u="Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():xcx235434654777: "+t+", "+r,f;console.log(u);displayAlertDialog(u);f={status:"ERROR",message:u};i(f)}})}catch(c){e="Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():xcx2354-1: "+c.message+", "+c.stack;console.log(e);displayAlertDialog(e);l={status:"EXCEPTION",message:e};i(l)}},error:function(n){var t="Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():xcx2354-2: "+errorMessage+", "+JSON.stringify(n),r;console.log(t);displayAlertDialog(t);r={status:"ERROR",message:t};i(r)}}))}else e="In bwAuthentication.getRemainingParticipantAndWorkflowAppDetails.POST.getparticipantdetails(): userData.participant: "+f.participant+", userData.result: "+f.result+", userData.message: "+f.message+", userData: "+f,console.log(e),displayAlertDialog(e)}catch(l){e="Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():5: "+l.message+", "+l.stack;console.log(e);displayAlertDialog(e);a={status:"EXCEPTION",message:e};i(a)}},error:function(n,t,r){var u="Error in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails():xcx2354-211: "+r+", "+JSON.stringify(n),f;console.log(u);displayAlertDialog(u);f={status:"ERROR",message:u};i(f)}})):(r="Error in bwAuthentication.getRemainingParticipantAndWorkflowAppDetails(). Undefined value: workflowAppId: "+n.options.workflowAppId+", participantId: "+n.options.participantId+", participantFriendlyName: "+n.options.participantFriendlyName+", participantEmail: "+n.options.participantEmail+", participantLogonType: "+n.options.participantLogonType+", participantLogonTypeUserId: "+n.options.participantLogonTypeUserId+", invitationAlreadyAccepted: "+invitationAlreadyAccepted,console.log(r),displayAlertDialog(r));try{$("#spanAlertLink").qtip({content:{text:'<span style="font-size:18px;">Click here to display the tips!<\/span>'},position:{at:"left bottom"}})}catch(o){}}catch(o){r="Exception in bwAuthentication.js.getRemainingParticipantAndWorkflowAppDetails(): "+o.message+", "+o.stack;console.log(r);displayAlertDialog(r);s={status:"EXCEPTION",message:r};i(s)}})},cmdSaveWorkflowExternallyFacingUrlForAttachments:function(){try{console.log("In bwAuthentication.js.cmdSaveWorkflowExternallyFacingUrlForAttachments().");var o=this,t=$(".bwAuthentication").bwAuthentication("option","workflowAppId"),i=$(".bwAuthentication").bwAuthentication("option","participantId"),r=$(".bwAuthentication").bwAuthentication("option","participantEmail"),u=$(".bwAuthentication").bwAuthentication("option","participantFriendlyName"),f=$("#txtWorkflowAppExternallyFacingUrlForAttachments").val(),e={bwWorkflowAppId:t,bwParticipantId:i,bwParticipantFriendlyName:u,bwParticipantEmail:r,url:f};$.ajax({url:this.options.operationUriPrefix+"_files/SaveExternallyFacingUrl",type:"POST",contentType:"application/json",data:JSON.stringify(e),success:function(n){try{n.message=="SUCCESS"?displayAlertDialog("New publically shared attachments will use this URL."):displayAlertDialog(JSON.stringify(n))}catch(t){console.log("Exception in bwAuthentication.js.cmdSaveWorkflowExternallyFacingUrlForAttachments(): "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.js.cmdSaveWorkflowExternallyFacingUrlForAttachments(): "+t.message+", "+t.stack)}},error:function(n,t,i){console.log("Error in bwAuthentication.js.cmdSaveWorkflowExternallyFacingUrlForAttachments(): "+t+", "+i);displayAlertDialog("Error in bwAuthentication.js.cmdSaveWorkflowExternallyFacingUrlForAttachments(): "+t+", "+i)}})}catch(n){console.log("Exception in bwAuthentication.js.cmdSaveWorkflowExternallyFacingUrlForAttachments(): "+n.message+", "+n.stack);displayAlertDialog("Exception in bwAuthentication.js.cmdSaveWorkflowExternallyFacingUrlForAttachments(): "+n.message+", "+n.stack)}},cmdSaveWorkflowExternallyFacingUrlForAttachmentsSourceFolder:function(){var r;try{console.log("In bwAuthentication.js.cmdSaveWorkflowExternallyFacingUrlForAttachments().");var s=this,t=$(".bwAuthentication").bwAuthentication("option","workflowAppId"),i=$(".bwAuthentication").bwAuthentication("option","participantId"),u=$(".bwAuthentication").bwAuthentication("option","participantEmail"),f=$(".bwAuthentication").bwAuthentication("option","participantFriendlyName"),e=$(".bwAuthentication:first").bwAuthentication("getActiveStateIdentifier"),o=$("#txtWorkflowAppExternallyFacingUrlForAttachmentsSourceFolder").val();r={bwParticipantId_LoggedIn:i,bwActiveStateIdentifier:e,bwWorkflowAppId_LoggedIn:t,bwWorkflowAppId:t,bwParticipantId:i,bwParticipantFriendlyName:f,bwParticipantEmail:u,bwExternallyFacingUrlForAttachmentsSourceFolder:o};$.ajax({url:this.options.operationUriPrefix+"_files/SaveExternallyFacingUrlSourceFolder",type:"POST",contentType:"application/json",data:JSON.stringify(r),success:function(n){try{n.message=="PATH_EXISTS_WITH_READ_WRITE_PERMISSIONS_AND_BWWORKFLOWAPP_UPDATED"?displayAlertDialog("This path exists and has been updated.<br />New publically shared attachments will use this location."):displayAlertDialog(JSON.stringify(n))}catch(t){console.log("Exception in bwAuthentication.js.cmdSaveWorkflowExternallyFacingUrlForAttachmentsSourceFolder(): "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.js.cmdSaveWorkflowExternallyFacingUrlForAttachmentsSourceFolder(): "+t.message+", "+t.stack)}},error:function(n,t,i){console.log("Error in bwAuthentication.js.cmdSaveWorkflowExternallyFacingUrlForAttachmentsSourceFolder(): "+t+", "+i);displayAlertDialog("Error in bwAuthentication.js.cmdSaveWorkflowExternallyFacingUrlForAttachmentsSourceFolder(): "+t+", "+i)}})}catch(n){console.log("Exception in bwAuthentication.js.cmdSaveWorkflowExternallyFacingUrlForAttachmentsSourceFolder(): "+n.message+", "+n.stack);displayAlertDialog("Exception in bwAuthentication.js.cmdSaveWorkflowExternallyFacingUrlForAttachmentsSourceFolder(): "+n.message+", "+n.stack)}},renderHomePagePersonalizedSection_AndRenderButtons_AndDisplay_tableMainMenu1:function(){var i,s,t,h,n,r;try{console.log("In bwAuthentication.js.renderHomePagePersonalizedSection_AndRenderButtons_AndDisplay_tableMainMenu1().");console.log("In bwAuthentication.js.renderHomePagePersonalizedSection_AndRenderButtons_AndDisplay_tableMainMenu1(). THIS IS GETTING CALLED TWICE. DOES THIS MAKE THE TOP RIGHT ORG DROP DOWN?");var f=this.options.workflowAppId,l=this.options.developerModeEnabled,c="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,i=n=="x"?t:t&3|8;return i.toString(16)}),e,o=JSON.parse($(".bwAuthentication:first").bwAuthentication("getActiveStateIdentifier"));o.status!="SUCCESS"?e="[No image. Unauthorized. xcx213124-34556-34-234]":(f||alert("ERROR xcx55543"),e=this.options.operationUriPrefix+"_files/"+f+"/orgimages/root/orgimage.png?v="+c+"&ActiveStateIdentifier="+o.ActiveStateIdentifier);document.getElementById("orgImage_root_blueheaderbar")?(document.getElementById("orgImage_root_blueheaderbar").title=f,$("#orgImage_root_blueheaderbar").off("click").click(function(){try{if(console.log("In renderHomePagePersonalizedSection_AndRenderButtons_AndDisplay_tableMainMenu1.orgImage_root_blueheaderbar.click()."),!$(".bwSpeech").is(".bwSpeech")){var n=document.getElementById("divBwSpeech");n||(n=document.createElement("div"),n.id="divBwSpeech",document.body.appendChild(n));$("#divBwSpeech").bwSpeech()}setTimeout(function(){$(".bwSpeech").bwSpeech("AquireSpeech")},500)}catch(t){console.log("Exception in bwAuthentication.js.renderHomePagePersonalizedSection_AndRenderButtons_AndDisplay_tableMainMenu1.orgImage_root_blueheaderbar.click(): "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.js.renderHomePagePersonalizedSection_AndRenderButtons_AndDisplay_tableMainMenu1.orgImage_root_blueheaderbar.click(): "+t.message+", "+t.stack)}})):(console.log('ERROR: FAILED TO set orgImage_root_blueheaderbar attribute "title". xcx3386'),alert('ERROR: FAILED TO set orgImage_root_blueheaderbar attribute "title". xcx3386'));i=document.getElementById("orgImage_root_blueheaderbar");!i&&i.style.display&&i.style.display=="none"&&(s=function(n){return new Promise(function(t,i){$.get(n).done(function(){var t=new Image;t.src=n;t.onload=function(t){try{document.getElementById("orgImage_root_blueheaderbar").src=n}catch(t){console.log("Exception in renderLeftButtons().img.onload(): "+t.message+", "+t.stack);displayAlertDialog("Exception in renderLeftButtons().img.onload(): "+t.message+", "+t.stack);document.getElementById("orgImage_root_blueheaderbar").src=globalUrlPrefix+globalUrl+"/images/corporeal.png";i()}}}).fail(function(){alert("FAIL xcx2323435 imagePath: "+n);document.getElementById("orgImage_root_blueheaderbar").src=globalUrlPrefix+globalUrl+"/images/corporeal.png";t()})})},s(e));document.getElementById("tableMainMenu1")?(console.log("xcx123214 Setting tableMainMenu1.style.display: inline. <<<"),document.getElementById("tableMainMenu1").style.display="inline"):(console.log("ELEMENT tableMainMenu1 DOES NOT EXIST IN THE DOM xcx3245"),alert("ELEMENT tableMainMenu1 DOES NOT EXIST IN THE DOM xcx3245"));console.log("Calling bwActiveMenu_Admin.adjustLeftSideMenu(). No timer setTimeout(). xcx123423521-3.");$(".bwActiveMenu").bwActiveMenu("adjustLeftSideMenu");console.log("Getting selected organization xcx23543654");t=this.getSelectedOrganization();console.log("xcx231234. TURNED THIS OFF. IS THAT OK? selectedOrganization.OrganizationTitle: "+t.OrganizationTitle);console.log("xcx231234. TURNED THIS OFF. IS THAT OK? selectedOrganization.OrganizationTitle: "+t.OrganizationTitle);console.log("xcx231234. TURNED THIS OFF. IS THAT OK? selectedOrganization.OrganizationTitle: "+t.OrganizationTitle);t.OrganizationTitle&&(h=t.OrganizationTitle.toUpperCase(),$("#divTopBar_OrganizationName").html(h));console.log("In bwAuthentication.js.renderHomePagePersonalizedSection_AndRenderButtons_AndDisplay_tableMainMenu1(). Calling securityTrimTheLeftMenuButtons().");this.securityTrimTheLeftMenuButtons();n="";n+='<div id="divBwInvitation"><\/div>';n+='<div id="divBwExecutiveSummariesCarousel2">';n+='<div id="bwExecutiveSummariesCarousel2_divActivitySpinner_WorkingOnItDialog" style="display:inline;">';n+="   <div style=\"white-space:nowrap;color: rgb(38, 38, 38); font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif; font-size: 2.77em;\">";n+='       &nbsp;&nbsp;<img style="width:100px;height:100px;vertical-align:middle;white-space:nowrap;" src="/images/ajax-loader.gif" />&nbsp;&nbsp;<span id="divActivitySpinner_WorkingOnItDialog_spinnerText" style="font-size:25pt;white-space:nowrap;">Loading...<\/span>';n+="   <\/div>";n+="<\/div>";n+="<\/div>";n+="<br />";n+="<table>";n+="   <tr>";n+='       <td style="vertical-align:top;">';n+='           <div id="divHomePageAlert"><\/div>';n+="       <\/td>";n+='       <td style="vertical-align:top;">';n+='           <div id="tdExecutiveSummaries" class="tdExecutiveSummaries"  style="border:1px dotted red;vertical-align:top;display:none;">';n+="<\/div>";n+="       <\/td>";n+="   <\/tr>";n+="<\/table>";n+="<br /><br />";console.log("In bwAuthentication.js.renderHomePagePersonalizedSection_AndRenderButtons_AndDisplay_tableMainMenu1(). selectedOrganization.OrganizationRole: "+t.OrganizationRole);t.OrganizationRole=="owner"?(console.log("xcx4e277 Instantiating [owner] widgets."),n+="<hr />",n+='<span style="cursor:help;" title="There is only one owner.">You are the owner of this budget request system.<\/span>',n+="<br /><br />",$("#spanHomePagePersonalizedSection").html(n),$("#divBwInvitation").bwInvitation({}),displayInvitationsOnHomePageDisplayOn==!0?$("#divInvitationSectionOnHomePage").show():$("#divInvitationSectionOnHomePage").hide(),console.log("In bwAuthentication.js.renderHomePagePersonalizedSection_AndRenderButtons_AndDisplay_tableMainMenu1(). WE WERE CALLING renderAlerts2() BUT NOW INSTANTIATING an empty bwExecutiveSummariesCarousel2. This widget will take over the loading of the data in an optimized way. MAYBE BETTER TO CALL bwActiveMenu.js.RenderContentForButton(HOME) <<<<<<<<<<<<<< 10-26-2023."),$("#divBwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2({})):t.OrganizationRole=="customer"?(n+="<hr />",n+='<span style="cursor:help;" title="">You are a customer of this organization.<\/span>',n+="<br /><br />",$("#spanHomePagePersonalizedSection").html(n),$("#divBwExecutiveSummariesCarousel2").bwCustomerSummariesCarousel({})):t.OrganizationRole=="vendor"?(n+="<hr />",n+='<span style="cursor:help;" title="">You are a vendor to this organization.<\/span>',n+="<br /><br />",$("#spanHomePagePersonalizedSection").html(n),$("#divBwExecutiveSummariesCarousel2").bwCustomerSummariesCarousel({})):t.OrganizationRole=="participant"?(n+="<hr />",n+='<span style="cursor:help;" title="">You are a participant (participant) in this budget request system.<\/span>',n+="<br /><br />",$("#spanHomePagePersonalizedSection").html(n),$("#divBwInvitation").bwInvitation({}),displayInvitationsOnHomePageDisplayOn==!0?$("#divInvitationSectionOnHomePage").show():$("#divInvitationSectionOnHomePage").hide(),$("#divBwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2({})):t.OrganizationRole=="archiveviewer"?(n+="<hr />",n+='<span style="cursor:help;" title="">You are a participant (archiveviewer) in this budget request system.<\/span>',n+="<br /><br />",$("#spanHomePagePersonalizedSection").html(n),$("#divBwInvitation").bwInvitation({}),displayInvitationsOnHomePageDisplayOn==!0?$("#divInvitationSectionOnHomePage").show():$("#divInvitationSectionOnHomePage").hide(),$("#divBwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2({})):t.OrganizationRole=="reportviewer"?(console.log("xcx4e277 Instantiating [reportviewer] widgets."),n+="<hr />",n+='<span style="cursor:help;" title="">You are a participant (reportviewer) in this budget request system.<\/span>',n+="<br /><br />",$("#spanHomePagePersonalizedSection").html(n),$("#divBwInvitation").bwInvitation({}),displayInvitationsOnHomePageDisplayOn==!0?$("#divInvitationSectionOnHomePage").show():$("#divInvitationSectionOnHomePage").hide(),$("#divBwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2({})):t.OrganizationRole=="configurationmanager"?(console.log("xcx4e277 Instantiating [configurationmanager] widgets."),n+="<hr />",n+='<span style="cursor:help;" title="">You are a participant (configurationmanager) in this budget request system.<\/span>',n+="<br /><br />",$("#spanHomePagePersonalizedSection").html(n),$("#divBwInvitation").bwInvitation({}),displayInvitationsOnHomePageDisplayOn==!0?$("#divInvitationSectionOnHomePage").show():$("#divInvitationSectionOnHomePage").hide(),$("#divBwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2({})):(n+="<br />",n+="<br /><br />ERROR",n+="<table>",n+="   <tr>",n+='       <td style="vertical-align:top;">',n+='           <div id="divHomePageAlert"><\/div>',n+="       <\/td>",n+='       <td style="vertical-align:top;">',n+='           <div id="tdExecutiveSummaries" class="tdExecutiveSummaries"  style="border:1px dotted red;vertical-align:top;display:none;"><\/div>',n+="       <\/td>",n+="   <\/tr>",n+="<\/table>",n+="<br />",n+="<br /><br /><hr />",n+="You are neither an owner or participant (no role xcx05013) in this budget request system.<br /><br />",$("#spanHomePagePersonalizedSection").html(n),$("#divBwInvitation").html("<br /><br /><br /><br /><br /><br /><br /><br />"),alert("Calling renderAlerts2() xcx21341235-2."),this.renderAlerts2());r=this.getUrlParams("request");r&&(console.log("UUUUUUUUUUUUUUUUUUUUUUUUUUUUU xcx123199-1"),console.log("xcx234324324-5 getUrlParams [request]. In bwAuthentication.js.renderHomePagePersonalizedSection_AndRenderButtons_AndDisplay_tableMainMenu1(). getUrlParams()['request']: "+r+", calling displayArInDialog()."),console.log("UUUUUUUUUUUUUUUUUUUUUUUUUUUUU xcx123199-1"),$(".bwRequest").bwRequest("displayArInDialog","https://budgetworkflow.com",r,"","","",""))}catch(u){console.log("Exception in bwAuthentication.js.renderHomePagePersonalizedSection_AndRenderButtons_AndDisplay_tableMainMenu1(): "+u.message+", "+u.stack);displayAlertDialog("Exception in bwAuthentication.js.renderHomePagePersonalizedSection_AndRenderButtons_AndDisplay_tableMainMenu1(): "+u.message+", "+u.stack)}},renderAlerts2:function(n){var h,e,r,i,u;try{console.log("In renderAlerts2(). invocationLocation: "+n);alert("In bwAuthenitcation.js.renderAlerts2(). DO WE EVEN GET HERE?? WE SHOULD NEVER GET HERE, THIS METHOD HAS BEEN DEPRECATED. invocationLocation: "+n);n=="thisistheone_maybe"?alert("In renderAlerts2(). invocationLocation: "+n+". THIS SHOULD LOAD EMPTY BECAUSE DATA SHOULD NOT HAVE BEEN CALLED FOR YET. THIS is our new optimized loading/minimal traffic process. On-demand, with pre-load/lazy-load."):alert("In renderAlerts2(). invocationLocation: "+n);var t=this,c=this.options.tenantId,o=this.options.workflowAppId,s=this.options.participantId,l=this.options.participantEmail,a=$(".bwAuthentication").bwAuthentication("getSelectedOrganization");if(a.OrganizationRole=="customer")alert("Calling bwActiveMenu_Admin.adjustLeftSideMenu(). xcx123423521-4."),$(".bwActiveMenu").bwActiveMenu("adjustLeftSideMenu"),i={bwTenantId:c,bwWorkflowAppId:o,bwParticipantId:s,bwParticipantEmail:l},r="bwExecutiveSummariesCarousel2",alert("Calling generateCustomerHomePageNotificationScreen(). xcx1231231231."),u=t.generateCustomerHomePageNotificationScreen(r,i),u.then(function(n){try{alert("CALLING WRONG CAROUSEL..????????");$("#divBwExecutiveSummariesCarousel2").bwCustomerSummariesCarousel({myBrData:n.myBrData})}catch(t){console.log("Exception in bwAuthentication.js.renderAlerts2():1334-2: "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.js.renderAlerts2():1334-2: "+t.message+", "+t.stack)}});else{h=this.options.developerModeEnabled;e=!1;try{$("#ArDialog").dialog("isOpen")&&(e=!0)}catch(f){}e!=!0&&$("#divHomePageAlert").is(":visible")!=!1&&$("#divHomePageAlert").is(":visible")==!0&&($("#invitationLink2").empty(),r="bwExecutiveSummariesCarousel2",i={bwWorkflowAppId:o,bwParticipantId:s},console.log("Calling getDataForHomePageNotificationScreen_FASTFIRSTPASS(). xcx2134566666."),u=t.getDataForHomePageNotificationScreen_FASTFIRSTPASS(r,i),u.then(function(n){var f,e,o,s;try{h==!0&&(f="",f+=n.html.html,$("#divHomePageAlert").html(f));console.log("In bwAuthentication.js.renderAlerts2(). Instantiating bwExecutiveSummariesCarousel2, passing in data. xcx231233.<<<<<<<<<<<<<<<<<<<<<<<<<<<");$("#divBwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2({invitationData:n.invitationData,taskData:n.taskData,tenantData:n.tenantData,participantsData:n.participantsData,brData:n.brData,myBrData:n.myBrData});alert("In bwAuthentication.js.renderAlerts2(). xcx34325. Setting workflowAppTheme: "+t.options.workflowAppTheme);e=t.options.workflowAppTheme;o=e+"_SelectedButton";$("#divWelcomeButton").addClass(o).removeClass(e);s=t.getDataForHomePageNotificationScreen_FASTSECONDPASS(r,i);s.then(function(n){var r,t;try{if($("#divBwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2("option","taskData",n.taskData),$("#divBwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2("option","brData",n.brData),$("#divBwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2("option","myBrData",n.myBrData),r=[],n.myBrData.MyRequests&&n.myBrData.MyRequests.length)for(t=0;t<n.myBrData.MyRequests.length;t++)n.myBrData.MyRequests[t].BudgetWorkflowStatus=="NOT_SUBMITTED"&&r.push(n.myBrData.MyRequests[t]);$("#divBwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2("option","myUnsubmittedRequests",r);$("#divBwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2("renderExecutiveSummaries_PINNED_REQUESTS");alert("xcx2131234 calling renderExecutiveSummaries_AllActiveRequests().");$("#divBwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2("renderExecutiveSummaries_AllActiveRequests");$("#divBwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2("renderExecutiveSummaries_MySubmittedRequests");$("#divBwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2("renderExecutiveSummaries_MyUnsubmittedRequests");$("#divBwExecutiveSummariesCarousel2").bwExecutiveSummariesCarousel2("renderExecutiveSummaries_MyPendingTasks_FASTSECONDPASS")}catch(i){console.log("Exception in bwAuthentication.js.renderAlerts2():1334-1-1: "+i.message+", "+i.stack);displayAlertDialog("Exception in bwAuthentication.js.renderAlerts2():1334-1-1: "+i.message+", "+i.stack)}})}catch(u){console.log("Exception in bwAuthentication.js.renderAlerts2():1334-1-2: "+u.message+", "+u.stack);displayAlertDialog("Exception in bwAuthentication.js.renderAlerts2():1334-1-2: "+u.message+", "+u.stack)}}))}}catch(f){console.log("Exception in bwAuthentication.js.renderAlerts2(): "+f.message+", "+f.stack);displayAlertDialog("Exception in bwAuthentication.js.renderAlerts2(): "+f.message+", "+f.stack)}},displayDetailedList_OnThisDevice:function(){var p,c,s,t,a,b,l,r,e,f,o;try{console.log("In displayDetailedList_OnThisDevice().");document.getElementById("buttonDisplayRequestsAsTiles").classList.remove("divCarouselButton_Selected");document.getElementById("buttonDisplayRequestsAsTiles").classList.add("divCarouselButton");document.getElementById("buttonDisplayRequestsAsDetailedList").classList.remove("divCarouselButton");document.getElementById("buttonDisplayRequestsAsDetailedList").classList.add("divCarouselButton_Selected");var n="",h=$(".bwAuthentication").bwAuthentication("option","workflowAppId"),k=$("#selectRequestTypeDropDown option:selected").val();for(n+="<style>",n+='.dataGridTable { border: 1px solid gainsboro; font-size:14px; font-family: "Helvetica Neue","Segoe UI",Helvetica,Verdana,sans-serif; }',n+=".dataGridTable td { border-left: 0px; border-right: 1px solid gainsboro; }",n+=".headerRow { background-color:white; color:gray;border-bottom:1px solid gainsboro; }",n+=".headerRow td { border-bottom:1px solid gainsboro; padding-top:3px;padding-bottom:5px;padding-right:10px;padding-left:10px; }",n+=".filterRow td { border-bottom:1px solid whitesmoke; padding-top:3px;padding-bottom:5px;padding-right:10px;padding-left:10px; }",n+=".alternatingRowLight { background-color:white; }",n+=".alternatingRowLight:hover { background-color:lightgoldenrodyellow; }",n+=".alternatingRowDark { background-color:whitesmoke; }",n+=".alternatingRowDark:hover { background-color:lightgoldenrodyellow; }",n+="<\/style>",n+="<div id=\"divDataGridTable\" style=\"overflow-y: scroll;\" onscroll=\"$('.bwDataGrid').bwDataGrid('dataGrid_OnScroll', this, '"+k+"');\">",n+='<table id="dataGridTable" class="dataGridTable" bwworkflowappid="'+h+'" >',n+='  <tr class="headerRow">',n+="    <td><\/td>",n+='   <td style="white-space:nowrap;">',n+='       <div style="vertical-align:middle;display:inline-block;">Location&nbsp;<\/div>',n+="       <span style=\"cursor:pointer;font-size:20pt;\" title=\"Order descending...\" onclick=\"$('.bwDataGrid').bwDataGrid('sortDataGrid', 'OrgName', 'descending', this);\">",n+='           <img src="images/descending.png" style="width:25px;vertical-align:middle;" />',n+="       <\/span>",n+="       <span style=\"cursor:pointer;font-size:20pt;\" title=\"Order ascending...\" onclick=\"$('.bwDataGrid').bwDataGrid('sortDataGrid', 'OrgName', 'ascending', this);\">",n+='           <img src="images/ascending.png" style="width:25px;vertical-align:middle;" />',n+="       <\/span>",n+="   <\/td>",n+='    <td style="white-space:nowrap;">',n+='       <div style="vertical-align:middle;display:inline-block;">Title&nbsp;<\/div>',n+="       <span style=\"cursor:pointer;font-size:20pt;\" title=\"Order descending...\" onclick=\"$('.bwDataGrid').bwDataGrid('sortDataGrid', 'Title', 'descending', this);\">",n+='           <img src="images/descending.png" style="width:25px;vertical-align:middle;" />',n+="       <\/span>",n+="       <span style=\"cursor:pointer;font-size:20pt;\" title=\"Order ascending...\" onclick=\"$('.bwDataGrid').bwDataGrid('sortDataGrid', 'Title', 'ascending', this);\">",n+='           <img src="images/ascending.png" style="width:25px;vertical-align:middle;" />',n+="       <\/span>",n+="   <\/td>",n+='    <td style="white-space:nowrap;">',n+='       <div style="vertical-align:middle;display:inline-block;">Description&nbsp;<\/div>',n+="       <span style=\"cursor:pointer;font-size:20pt;\" title=\"Order descending...\" onclick=\"$('.bwDataGrid').bwDataGrid('sortDataGrid', 'ProjectTitle', 'descending', this);\">",n+='           <img src="images/descending.png" style="width:25px;vertical-align:middle;" />',n+="       <\/span>",n+="       <span style=\"cursor:pointer;font-size:20pt;\" title=\"Order ascending...\" onclick=\"$('.bwDataGrid').bwDataGrid('sortDataGrid', 'ProjectTitle', 'ascending', this);\">",n+='           <img src="images/ascending.png" style="width:25px;vertical-align:middle;" />',n+="       <\/span>",n+="   <\/td>",n+='    <td style="white-space:nowrap;">',n+='       <div style="vertical-align:middle;display:inline-block;">Fiscal year&nbsp;<\/div>',n+="       <span style=\"cursor:pointer;font-size:20pt;\" title=\"Order descending...\" onclick=\"$('.bwDataGrid').bwDataGrid('sortDataGrid', 'bwFiscalYear', 'descending', this);\">",n+='           <img src="images/descending.png" style="width:25px;vertical-align:middle;" />',n+="       <\/span>",n+="       <span style=\"cursor:pointer;font-size:20pt;\" title=\"Order ascending...\" onclick=\"$('.bwDataGrid').bwDataGrid('sortDataGrid', 'bwFiscalYear', 'ascending', this);\">",n+='           <img src="images/ascending.png" style="width:25px;vertical-align:middle;" />',n+="       <\/span>",n+="   <\/td>",n+="    <td>Request Type Id<\/td>",n+='    <td style="white-space:nowrap;">',n+='       <div style="vertical-align:middle;display:inline-block;">Created Date&nbsp;<\/div>',n+="       <span style=\"cursor:pointer;font-size:20pt;\" title=\"Order descending...\" onclick=\"$('.bwDataGrid').bwDataGrid('sortDataGrid', 'Created', 'descending', this);\">",n+='           <img src="images/descending.png" style="width:25px;vertical-align:middle;" />',n+="       <\/span>",n+="       <span style=\"cursor:pointer;font-size:20pt;\" title=\"Order ascending...\" onclick=\"$('.bwDataGrid').bwDataGrid('sortDataGrid', 'Created', 'ascending', this);\">",n+='           <img src="images/ascending.png" style="width:25px;vertical-align:middle;" />',n+="       <\/span>",n+="   <\/td>",n+='    <td style="white-space:nowrap;">Financial Area<\/td>',n+="    <td>OrgId<\/td>",n+='    <td style="white-space:nowrap;">',n+='       <div style="vertical-align:middle;display:inline-block;">Status&nbsp;<\/div>',n+="       <span style=\"cursor:pointer;font-size:20pt;\" title=\"Order descending...\" onclick=\"$('.bwDataGrid').bwDataGrid('sortDataGrid', 'BudgetWorkflowStatus', 'descending', this);\">",n+='           <img src="images/descending.png" style="width:25px;vertical-align:middle;" />',n+="       <\/span>",n+="       <span style=\"cursor:pointer;font-size:20pt;\" title=\"Order ascending...\" onclick=\"$('.bwDataGrid').bwDataGrid('sortDataGrid', 'BudgetWorkflowStatus', 'ascending', this);\">",n+='           <img src="images/ascending.png" style="width:25px;vertical-align:middle;" />',n+="       <\/span>",n+="   <\/td>",n+='    <td style="white-space:nowrap;">',n+='       <div style="vertical-align:middle;display:inline-block;">Status&nbsp;<\/div>',n+="       <span style=\"cursor:pointer;font-size:20pt;\" title=\"Order descending...\" onclick=\"$('.bwDataGrid').bwDataGrid('sortDataGrid', 'ARStatus', 'descending', this);\">",n+='           <img src="images/descending.png" style="width:25px;vertical-align:middle;" />',n+="       <\/span>",n+="       <span style=\"cursor:pointer;font-size:20pt;\" title=\"Order ascending...\" onclick=\"$('.bwDataGrid').bwDataGrid('sortDataGrid', 'ARStatus', 'ascending', this);\">",n+='           <img src="images/ascending.png" style="width:25px;vertical-align:middle;" />',n+="       <\/span>",n+="   <\/td>",n+='    <td style="white-space:nowrap;">',n+='       <div style="vertical-align:middle;display:inline-block;">Current Owner(s)&nbsp;<\/div>',n+="       <span style=\"cursor:pointer;font-size:20pt;\" title=\"Order descending...\" onclick=\"$('.bwDataGrid').bwDataGrid('sortDataGrid', 'CurrentOwner', 'descending', this);\">",n+='           <img src="images/descending.png" style="width:25px;vertical-align:middle;" />',n+="       <\/span>",n+="       <span style=\"cursor:pointer;font-size:20pt;\" title=\"Order ascending...\" onclick=\"$('.bwDataGrid').bwDataGrid('sortDataGrid', 'CurrentOwner', 'ascending', this);\">",n+='           <img src="images/ascending.png" style="width:25px;vertical-align:middle;" />',n+="       <\/span>",n+="   <\/td>",n+='    <td style="white-space:nowrap;">',n+='       <div style="vertical-align:middle;display:inline-block;">Capital Cost&nbsp;<\/div>',n+="       <span style=\"cursor:pointer;font-size:20pt;\" title=\"Order descending...\" onclick=\"$('.bwDataGrid').bwDataGrid('sortDataGrid', 'RequestedCapital', 'descending', this);\">",n+='           <img src="images/descending.png" style="width:25px;vertical-align:middle;" />',n+="       <\/span>",n+="       <span style=\"cursor:pointer;font-size:20pt;\" title=\"Order ascending...\" onclick=\"$('.bwDataGrid').bwDataGrid('sortDataGrid', 'RequestedCapital', 'ascending', this);\">",n+='           <img src="images/ascending.png" style="width:25px;vertical-align:middle;" />',n+="       <\/span>",n+="   <\/td>",n+='    <td style="white-space:nowrap;">',n+='       <div style="vertical-align:middle;display:inline-block;">Expense&nbsp;<\/div>',n+="       <span style=\"cursor:pointer;font-size:20pt;\" title=\"Order descending...\" onclick=\"$('.bwDataGrid').bwDataGrid('sortDataGrid', 'RequestedExpense', 'descending', this);\">",n+='           <img src="images/descending.png" style="width:25px;vertical-align:middle;" />',n+="       <\/span>",n+="       <span style=\"cursor:pointer;font-size:20pt;\" title=\"Order ascending...\" onclick=\"$('.bwDataGrid').bwDataGrid('sortDataGrid', 'RequestedExpense', 'ascending', this);\">",n+='           <img src="images/ascending.png" style="width:25px;vertical-align:middle;" />',n+="       <\/span>",n+="   <\/td>",n+="    <td>Lease<\/td>",n+="    <td>Total<\/td>",n+="    <td>Simple Payback<\/td>",n+='    <td style="white-space:nowrap;">',n+='       <div style="vertical-align:middle;display:inline-block;">Modified Date&nbsp;<\/div>',n+="       <span style=\"cursor:pointer;font-size:20pt;\" title=\"Order descending...\" onclick=\"$('.bwDataGrid').bwDataGrid('sortDataGrid', 'Modified', 'descending', this);\">",n+='           <img src="images/descending.png" style="width:25px;vertical-align:middle;" />',n+="       <\/span>",n+="       <span style=\"cursor:pointer;font-size:20pt;\" title=\"Order ascending...\" onclick=\"$('.bwDataGrid').bwDataGrid('sortDataGrid', 'Modified', 'ascending', this);\">",n+='           <img src="images/ascending.png" style="width:25px;vertical-align:middle;" />',n+="       <\/span>",n+="   <\/td>",n+="    <td><\/td>",n+="  <\/tr>",n+='  <tr class="filterRow">',n+="    <td><\/td>",n+="    <td><\/td>",n+='    <td style="white-space:nowrap;">',n+="   <\/td>",n+='   <td style="white-space:nowrap;">',n+='       <input type="text" id="txtArchivePageDescriptionFilter" class="archivePageFilterBox" title="Type here to limit search results, using * as a wildcard character."/>',n+="   <\/td>",n+='   <td style="white-space:nowrap;">',n+='       <input type="text" id="txtArchivePageDescriptionFilter" class="archivePageFilterBox" title="Type here to limit search results, using * as a wildcard character."/>',n+="   <\/td>",n+="    <td><\/td>",n+="    <td><\/td>",n+='    <td style="white-space:nowrap;">',n+='      <select id="ddlArchivePageFinancialAreaDropDownFilter" class="archivePageFilterDropDown" title="Select here to limit the search results.">',r=0;r<BWMData[0].length;r++)if(BWMData[0][r][0]==h)for(n+='<option value="" class="archivePageFilterOptionDropDown">Show all...<\/option>',f=0;f<BWMData[0][r][4].length;f++)p=BWMData[0][r][4][f][0],o=BWMData[0][r][4][f][1],n+='<option value="'+p+'" class="archivePageFilterOptionDropDown">',n+=o,n+="<\/option>";for(n+="      <\/select>",n+="    <\/td>",n+="    <td><\/td>",n+='    <td style="white-space:nowrap;">',n+='<select id="selectArchivePageFilterDropDown" class="archivePageFilterDropDown" title="Select here to limit the search results.">',n+='<option value="" class="archivePageFilterOptionDropDown">Show all...<\/option>',c=["firststatus","secondstatus","thirdstatus"],s=0;s<c.length;s++)n+='<option value="'+c[s]+'" class="archivePageFilterOptionDropDown">'+c[s]+"<\/option>";n+='<\/select>&nbsp;<img src="images/icon-down.png" title="Sort order" style="cursor:pointer;" />';n+="    <\/td>";n+="    <td><\/td>";n+="    <td><\/td>";n+="    <td><\/td>";n+="    <td><\/td>";n+="    <td><\/td>";n+='    <td style="white-space:nowrap;"><input type="text" id="txtArchivePageBudgetAmountFilter" class="archivePageFilterBox" title="Enter a number. Shows all equal to or greater than."/>&nbsp;<img src="images/icon-down.png" title="Sort order" style="cursor:pointer;" /><\/td>';n+="    <td>[simplepaybackfilter]<\/td>";n+="    <td><\/td>";n+="    <td><\/td>";n+="  <\/tr>";var d=[],i=[],y="light";for(t=0;t<i.length;t++){var u=String(i[t].ProjectTitle).replace(/["]/g,"&quot;").replace(/[']/g,"&#39;"),g=i[t].bwWorkflowAppId,nt=i[t].bwBudgetRequestId,w;for(w=i[t].bwRequestJson?JSON.parse(i[t].bwRequestJson).BriefDescriptionOfProject:"ERROR: Invalid bwRequestJson.",y=="light"?(n+='<tr class="alternatingRowLight" style="cursor:pointer;" ',n+=">",y="dark"):(n+='<tr class="alternatingRowDark" style="cursor:pointer;" ',n+=">",y="light"),n+='   <td style="padding:5px;" ',n+=" onmouseenter=\"$('.bwCoreComponent').bwCoreComponent('showRowHoverDetails', '"+i[t].Title+"', '"+u+"', '"+w+"', '"+g+"', '"+nt+"', '"+i[t].OrgId+"', '"+i[t].OrgName+"');this.style.backgroundColor='lightgoldenrodyellow';\" ",n+=" onmouseleave=\"$('.bwCoreComponent').bwCoreComponent('hideRowHoverDetails');this.style.backgroundColor='white';\"",n+='   ><img class="gridMagnifyingGlass" style="vertical-align:middle;width:25px;height:25px;" src="/images/zoom.jpg"><\/td>',n+='   <td style="padding:5px;" ',n+="       onclick=\"$('.bwRequest').bwRequest('displayArInDialog', '"+thiz.options.operationUriPrefix+"', '"+i[t].bwBudgetRequestId+"', '"+i[t].Title+"', '"+u+"', '"+i[t].Title+"');\"",n+="   >",n+='       <img id="orgImage_'+t+'" style="width:40px;height:40px;" src="'+thiz.options.operationUriPrefix+'images/corporeal.png" />',n+=i[t].OrgName,n+="   <\/td>",n+='   <td style="padding:5px;" ',n+="       onclick=\"$('.bwRequest').bwRequest('displayArInDialog', '"+thiz.options.operationUriPrefix+"', '"+i[t].bwBudgetRequestId+"', '"+i[t].Title+"', '"+u+"', '"+i[t].Title+"');\"",n+='   ><span style="white-space:nowrap;">'+i[t].Title+"<\/span><\/td>",n+='   <td style="padding:5px;" ',n+="       onclick=\"$('.bwRequest').bwRequest('displayArInDialog', '"+thiz.options.operationUriPrefix+"', '"+i[t].bwBudgetRequestId+"', '"+i[t].Title+"', '"+u+"', '"+i[t].Title+"');\"",n+="   >"+u+"<\/td>",n+='   <td style="padding:5px;" ',n+="       onclick=\"$('.bwRequest').bwRequest('displayArInDialog', '"+thiz.options.operationUriPrefix+"', '"+i[t].bwBudgetRequestId+"', '"+i[t].Title+"', '"+u+"', '"+i[t].Title+"');\"",n+="   >"+i[t].bwFiscalYear+"<\/td>",n+='   <td style="padding:5px;" ',n+="       onclick=\"$('.bwRequest').bwRequest('displayArInDialog', '"+thiz.options.operationUriPrefix+"', '"+i[t].bwBudgetRequestId+"', '"+i[t].Title+"', '"+u+"', '"+i[t].Title+"');\"",n+="   >"+i[t].bwRequestTypeId+"<\/td>",l=bwCommonScripts.getBudgetWorkflowStandardizedDate(i[t].Created),n+='   <td style="padding:5px;" ',n+="       onclick=\"$('.bwRequest').bwRequest('displayArInDialog', '"+thiz.options.operationUriPrefix+"', '"+i[t].bwBudgetRequestId+"', '"+i[t].Title+"', '"+u+"', '"+i[t].Title+"');\"",n+="   >"+l+"<\/td>",a=!1,r=0;r<BWMData[0].length;r++)if(BWMData[0][r][0]==h)for(f=0;f<BWMData[0][r][4].length;f++)a==!1&&BWMData[0][r][4][f][0]==i[t].FunctionalAreaId&&(o=BWMData[0][r][4][f][1],n+='   <td style="padding:5px;" ',n+="       onclick=\"$('.bwRequest').bwRequest('displayArInDialog', '"+thiz.options.operationUriPrefix+"', '"+i[t].bwBudgetRequestId+"', '"+i[t].Title+"', '"+u+"', '"+i[t].Title+"');\"",n+="   >"+o+"<\/td>",a=!0);for(a==!1&&(n+='   <td style="padding:5px;" ',n+="       onclick=\"$('.bwRequest').bwRequest('displayArInDialog', '"+thiz.options.operationUriPrefix+"', '"+i[t].bwBudgetRequestId+"', '"+i[t].Title+"', '"+u+"', '"+i[t].Title+"');\"",n+="   ><\/td>"),n+='   <td style="padding:5px;" ',n+="       onclick=\"$('.bwRequest').bwRequest('displayArInDialog', '"+thiz.options.operationUriPrefix+"', '"+i[t].bwBudgetRequestId+"', '"+i[t].Title+"', '"+u+"', '"+i[t].Title+"');\"",n+="   >",n+=i[t].OrgId,n+="   <\/td>",b={imageId:"orgImage_"+t,bwOrgId:i[t].OrgId},d.push(b),n+='   <td style="padding:5px;" ',n+="       onclick=\"$('.bwRequest').bwRequest('displayArInDialog', '"+thiz.options.operationUriPrefix+"', '"+i[t].bwBudgetRequestId+"', '"+i[t].Title+"', '"+u+"', '"+i[t].Title+"');\"",n+="   >"+i[t].BudgetWorkflowStatus+"<\/td>",n+='   <td style="padding:5px;" ',n+="       onclick=\"$('.bwRequest').bwRequest('displayArInDialog', '"+thiz.options.operationUriPrefix+"', '"+i[t].bwBudgetRequestId+"', '"+i[t].Title+"', '"+u+"', '"+i[t].Title+"');\"",n+="   >"+i[t].ARStatus+"<\/td>",n+='   <td style="padding:5px;" ',n+="       onclick=\"$('.bwRequest').bwRequest('displayArInDialog', '"+thiz.options.operationUriPrefix+"', '"+i[t].bwBudgetRequestId+"', '"+i[t].Title+"', '"+u+"', '"+i[t].Title+"');\"",n+='   ><span style="color:purple;font-weight:bold;">'+i[t].CurrentOwner+"<\/span><\/td>",n+='    <td style="text-align:right;">',n+=formatCurrency(i[t].RequestedCapital),n+="   <\/td>",n+='    <td style="text-align:right;">',n+=formatCurrency(i[t].RequestedExpense),n+="<\/td>",n+="    <td>na<\/td>",i[t].ARStatus=="Rejected"?(n+='   <td style="text-align:right;padding:5px;" ',n+="       onclick=\"$('.bwRequest').bwRequest('displayArInDialog', '"+thiz.options.operationUriPrefix+"', '"+i[t].bwBudgetRequestId+"', '"+i[t].Title+"', '"+u+"', '"+i[t].Title+"');\"",n+="   ><strike>"+formatCurrency(i[t].BudgetAmount)+"<\/strike><\/td>"):(n+='   <td style="text-align:right;padding:5px;" ',n+="       onclick=\"$('.bwRequest').bwRequest('displayArInDialog', '"+thiz.options.operationUriPrefix+"', '"+i[t].bwBudgetRequestId+"', '"+i[t].Title+"', '"+u+"', '"+i[t].Title+"');\"",n+="   >"+formatCurrency(i[t].BudgetAmount)+"<\/td>"),n+='    <td style="text-align:center;">Nox<\/td>',l=bwCommonScripts.getBudgetWorkflowStandardizedDate(i[t].Modified),n+='    <td style="text-align:center;">'+l+"<\/td>",n+="<td style=\"padding:5px;\" onclick=\"$('.bwDataGrid').bwDataGrid('cmdDisplayDeleteBudgetRequestDialog', '"+i[t].bwBudgetRequestId+"', '"+i[t].Title+"');\">",n+='  <img src="images/trash-can.png" title="Delete" style="cursor:pointer;" />',n+="<\/td>",n+="  <\/tr>",r=0;r<supplementals[t].length;r++){for(n+='  <tr style="font-style:italic;font-size:small;">',n+="      <td><a onclick=\"$('.bwRequest').bwRequest('displayRequestFormDialog', '"+supplementals[t][r].bwBudgetRequestId+"', '"+participantId+"', '"+supplementals[t][r].Title+"');\">"+supplementals[t][r].ProjectTitle+"<\/a><\/td>",e=0;e<BWMData[0].length;e++)if(BWMData[0][e][0]==h)for(f=0;f<BWMData[0][e][4].length;f++)BWMData[0][e][4][f][0]==supplementals[t][r].FunctionalAreaId&&(o=BWMData[0][e][4][f][1],n+="<td>",n+=o,n+="<\/td>");n+='    <td style="text-align:right;">'+supplementals[t][r].BudgetAmount+"<\/td>";n+="    <td>"+supplementals[t][r].BudgetWorkflowStatus+"<\/td>";n+="    <td><\/td>";n+="    <td>"+supplementals[t][r].CurrentOwner+"<\/td>";n+="  <\/tr>"}}n+='<tr><td colspan="12"><\/td><\/tr>';n+="<\/table>";n+="<\/div>";n+=this.generateHomePageNotificationScreenHtml_new();$("#divBwExecutiveSummariesCarousel222").html(n)}catch(v){console.log("Exception in displayDetailedList(): "+v.message+", "+v.stack);displayAlertDialog("Exception in displayDetailedList(): "+v.message+", "+v.stack)}},generateHomePageNotificationScreenHtml_new:function(){var t,i,k,h,r,e,d,g;try{console.log("In generateHomePageNotificationScreenHtml_new().");alert("In generateHomePageNotificationScreenHtml_new().");var n=this.options.taskData,vt=this.options.brData,yt=this.options.myBrData,pt=this.options.deferredIndex,v=$(".bwAuthentication").bwAuthentication("option","workflowAppId");if(n&&n.length){for(html+="       <table><tbody>",t=0;t<n.length;t++){var nt=n[t].bwWorkflowTaskItemId,wt=n[t].bwTaskTitle,tt=appweburl,f=n[t].bwRelatedItemId,it=n[t].Title,o=n[t].ProjectTitle,s=n[t].Title,y=n[t].BudgetAmount,rt=n[t].RequestedCapital,ut=n[t].RequestedExpense,p=n[t].TaskType,w=n[t].bwAssignedToRaciRoleAbbreviation,ft=n[t].bwAssignedToRaciRoleName,et=n[t].OrgId,ot=n[t].OrgName,b=0;if(b=y=="null"?Number(rt)+Number(ut):y,i=0,n[t].Created){var c=n[t].Created,st=c.split("-")[0],ht=c.split("-")[1],ct=c.split("-")[2].split("T")[0],l=new Date(Number(st),Number(ht)-1,Number(ct)-1),a=new Date,lt=Date.UTC(l.getFullYear(),l.getMonth(),l.getDate()),at=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate());i=Math.floor((at-lt)/864e5)}else i='<span title="This is likely an old task, created before the Create date format was changed." alt="This is likely an old task, created before the Create date format was changed.">[error xcx232135-1-3-1]<\/span>';html+="       <tr>";html+='           <td style="width:10px;"><\/td>';html+='           <td style="width:10px;"><\/td>';k=n[t].FinancialAreaId;h="";try{if(BWMData[0])for(r=0;r<BWMData[0].length;r++)if(BWMData[0][r][0]=v)for(e=0;e<BWMData[0][r][4].length;e++)k==BWMData[0][r][4][e][0]&&(h=BWMData[0][r][4][e][1])}catch(u){}p=="RECURRING_EXPENSE_NOTIFICATION_TASK"?(html+='       <td style="background-color:#d8d8d8;padding:10px 10px 10px 10px;" colspan="5">',html+='           <div style="display:inline-block;">',html+='               <a style="cursor:pointer;" onclick="displayRecurringExpenseOnTheHomePage(\''+f+"', '"+participantId+"', '"+s+'\');" target="_blank" title="Click to view the recurring expense...">'+i.toString()+" days overduexcx1: Recurring expense <em>("+o+" - "+h+") is due to be submitted<\/em><\/a>",html+="           <\/div>",html+="       <\/td>"):p=="BUDGET_REQUEST_WORKFLOW_TASK"?(html+='       <td style="width:45px;"><\/td>',html+='       <td style="background-color:white;" ',html+="           onmouseenter=\"$('.bwCoreComponent').bwCoreComponent('showRowHoverDetails', '"+s+"', '"+o+"', '', '"+v+"', '"+f+"', '"+et+"', '"+ot+"', this);\" ",html+="           onmouseleave=\"$('.bwCoreComponent').bwCoreComponent('hideRowHoverDetails');\" ",html+=">",html+='           <img class="gridMagnifyingGlass" style="vertical-align:middle;width:25px;height:25px;" src="'+imageRootPath+'/images/zoom.jpg" />',html+="       <\/td>",html+='       <td colspan="3" style="background-color:#d8d8d8;padding:10px 10px 10px 10px;cursor:pointer;" ',html+="           onmouseenter=\"this.style.backgroundColor='lightgoldenrodyellow';bwCommonScripts.highlightExecutiveSummaryForRequest('"+f+"');\" ",html+="           onmouseleave=\"this.style.backgroundColor='#d8d8d8';bwCommonScripts.unHighlightExecutiveSummaryForRequest('"+f+"');\"  ",d=o.replace(/["]/g,"&quot;").replace(/[']/g,"&#39;"),html+="           onclick=\"$('.bwRequest').bwRequest('displayArInDialog','"+tt+"', '"+f+"', '"+it+"', '"+d+"', '"+s+"', '"+w+"', '"+nt+"');\" ",html+=">",html+='           <div style="display:inline-block;" bwtrace="xcx778451">',html+=i==1?"           &nbsp;&nbsp;"+i.toString()+" day overduexcx1: ":"           &nbsp;&nbsp;"+i.toString()+" days overduexcx2: ",html+="               <em>",html+=s+" - "+o+" - "+formatCurrency(b)+" - "+h+" [("+w+") "+ft+"]",html+="               <\/em>",html+="           <\/div>",html+="       <\/td>"):html+='       <td style="background-color:#d8d8d8;padding:10px 10px 10px 10px;" colspan="5">UNKNOWN TASK TYPE<\/td>';html+="       <\/tr>"}return html+="       <\/tbody><\/table>"}console.log("In generateHomePageNotificationScreenHtml_new(). Unexpected error: no taskData.");displayAlertDialog("In generateHomePageNotificationScreenHtml_new(). Unexpected error: no taskData.")}catch(u){return console.log("Exception in generateHomePageNotificationScreenHtml_new():1335-1: "+u.message+", "+u.stack),displayAlertDialog("Exception in generateHomePageNotificationScreenHtml_new():1335-1: "+u.message+", "+u.stack),g={html:"Exception in generateHomePageNotificationScreenHtml_new():1335-1: "+u.message+", "+u.stack}}},getTheLatestRequestsAndRender_OnThisDevice:function(){try{console.log("In bwAuthentication.getTheLatestRequestsAndRender_OnThisDevice().");var t=this;alert("In getTheLatestRequestsAndRender_OnThisDevice(). This functionality is incomplete. Coming soon!")}catch(n){console.log("Exception in bwAuthentication.getTheLatestRequestsAndRender_OnThisDevice(): "+n.message+", "+n.stack);displayAlertDialog("Exception in bwAuthentication.getTheLatestRequestsAndRender_OnThisDevice(): "+n.message+", "+n.stack)}},generateHomePageNotificationScreenHtml:function(){var n,pt,ui,fi,t,p,ut,v,f,l,g,vt;try{console.log("In bwAuthentication.js.generateHomePageNotificationScreenHtml().");alert("In bwAuthentication.js.generateHomePageNotificationScreenHtml().");var r=this.options.taskData,c=this.options.brData,i=this.options.myBrData,yt=!1,s=this.options.deferredIndex,w=$(".bwAuthentication").bwAuthentication("option","workflowAppId"),a=null;document.title=r.length>0?i&&i.MyRequests&&i.MyRequests.length&i.MyRequests.length>0?i.MyRequests[0].OrgName+" ("+r.length+")":r.length+" budget items":"No pending tasks";n="";n+="<style>";n+=".bwExecutiveSummariesCarousel2_SelectorButton {";n+="   border:2px solid gray;";n+="   padding:3px 3px 3px 3px;";n+="   border-radius:20px 20px 20px 20px;";n+="   width:25px;height:25px;";n+="   display:inline-block;";n+="   cursor:pointer;";n+="}";n+=".bwExecutiveSummariesCarousel2_SelectorButton:hover {";n+="   border:2px solid goldenrod;";n+="}";n+="<\/style>";r.length==0&&c.PendingBudgetRequests.length==0&&c.PendingPOBudgetRequests.length==0&&(n+="You have no pending tasks, and there are no pending requests.");n+=yt&&yt==!0?'<table id="tblHomePageAlertSectionForWorkflow'+s.toString()+'" xcx="xcx3345-1" style="cursor:default;opacity:0.5;" >':'<table id="tblHomePageAlertSectionForWorkflow'+s.toString()+'" xcx="xcx3345-2" style="cursor:default;" >';var e="functionalAreaRow_"+s.toString()+"_1",u="alertSectionImage_"+s.toString()+"_1",o="alertSectionRow_"+s.toString()+"_1";if(n+='<tr id="'+e+'" class="bwFunctionalAreaRow bwNoUserSelect" >',r.length>0?r.length==1?(n+="<td style=\"width:11px;vertical-align:top;\" class=\"bwNoUserSelect\" onclick=\"$('.bwExecutiveSummariesCarousel2').bwExecutiveSummariesCarousel2('expandOrCollapseAlertsSection', '"+e+"', '"+u+"', '"+o+'\');" ><img src="'+imageRootPath+'/images/red-dot.png" width="11" height="11" alt="" style="cursor:pointer;vertical-align:top;float:right;" /><\/td>',n+="<td style=\"padding-left:11px;\" class=\"bwHPNDrillDownLinkCell2 bwNoUserSelect\" onclick=\"$('.bwExecutiveSummariesCarousel2').bwExecutiveSummariesCarousel2('expandOrCollapseAlertsSection', '"+e+"', '"+u+"', '"+o+"');\" >",n+='   <img title="expand" id="'+u+'" style="cursor:pointer;width:45px;height:45px;vertical-align:middle;" src="'+imageRootPath+'/images/drawer-open.png">'):(n+="<td style=\"width:11px;vertical-align:top;\" class=\"bwNoUserSelect\" onclick=\"$('.bwExecutiveSummariesCarousel2').bwExecutiveSummariesCarousel2('expandOrCollapseAlertsSection', '"+e+"', '"+u+"', '"+o+'\');" ><img src="'+imageRootPath+'/images/red-dot.png" width="11" height="11" alt="" style="cursor:pointer;vertical-align:top;float:right;" /><\/td>',n+="<td style=\"padding-left:11px;\" class=\"bwHPNDrillDownLinkCell2 bwNoUserSelect\" onclick=\"$('.bwExecutiveSummariesCarousel2').bwExecutiveSummariesCarousel2('expandOrCollapseAlertsSection', '"+e+"', '"+u+"', '"+o+"');\" >",n+='   <img title="expand" id="'+u+'" style="cursor:pointer;width:45px;height:45px;vertical-align:middle;float:none;" src="'+imageRootPath+'/images/drawer-open.png">'):(n+="   <td style=\"width:11px;\" class=\"bwNoUserSelect\" onclick=\"$('.bwExecutiveSummariesCarousel2').bwExecutiveSummariesCarousel2('expandOrCollapseAlertsSection', '"+e+"', '"+u+"', '"+o+"');\" ><\/td>",n+="   <td style=\"padding-left:60px;height:45px;\" class=\"bwHPNDrillDownLinkCell2 bwNoUserSelect\" onclick=\"$('.bwExecutiveSummariesCarousel2').bwExecutiveSummariesCarousel2('expandOrCollapseAlertsSection', '"+e+"', '"+u+"', '"+o+"');\"  >"),n+='           <span class="bwNoUserSelect"  >',n+=r.length==1?"You have "+r.length+" pending task.":"You have "+r.length+" pending tasks.",n+="           <\/span>",n+="       <\/td>",n+='       <td style="width:2%;" class="bwHPNDrillDownLinkCell2">',n+="       <\/td>",n+="<\/tr>",n+='<tr id="'+o+'" style="display:none;">',n+='   <td style="vertical-align:top;">',n+="   <\/td>",n+='   <td colspan="2">',n+='<table><tr><td style="vertical-align:top;width:60px;">',n+='       <div class="bwExecutiveSummariesCarousel2_SelectorButton" onclick="$(\'.bwExecutiveSummariesCarousel2\').bwExecutiveSummariesCarousel2(\'displayExecutiveSummaries\');" title="Display executive summaries..." >',n+='           <img src="/images/tiles.png" style="width:50px;height:50px;" />',n+="       <\/div>",n+="       &nbsp;",n+='       <div class="bwExecutiveSummariesCarousel2_SelectorButton" onclick="$(\'.bwExecutiveSummariesCarousel2\').bwExecutiveSummariesCarousel2(\'displayDetailedList\');" title="Display detailed list..." >',n+='           <img src="/images/detailedlist.png" style="width:50px;height:50px;" />',n+="       <\/div>",n+="<\/td><td>",pt="carousel",pt=="displaytext"){for(n+="       <table><tbody>",t=0;t<r.length;t++){var et=r[t].bwWorkflowTaskItemId,ei=r[t].bwTaskTitle,ot=appweburl,y=r[t].bwRelatedItemId,wt=r[t].Title,b=r[t].ProjectTitle,h=r[t].Title,nt=r[t].BudgetAmount,lt=r[t].RequestedCapital,at=r[t].RequestedExpense,bt=r[t].TaskType,st=r[t].bwAssignedToRaciRoleAbbreviation,kt=r[t].bwAssignedToRaciRoleName,ht=r[t].OrgId,ct=r[t].OrgName,k=0;if(k=nt=="null"?Number(lt)+Number(at):nt,p=0,r[t].Created){var tt=r[t].Created,dt=tt.split("-")[0],gt=tt.split("-")[1],ni=tt.split("-")[2].split("T")[0],it=new Date(Number(dt),Number(gt)-1,Number(ni)-1),rt=new Date,ti=Date.UTC(it.getFullYear(),it.getMonth(),it.getDate()),ii=Date.UTC(rt.getFullYear(),rt.getMonth(),rt.getDate()),ri=864e5;p=Math.floor((ii-ti)/ri)}else p="[error xcx232135-1-2]";n+="       <tr>";n+='           <td style="width:10px;"><\/td>';n+='           <td style="width:10px;"><\/td>';ut=r[t].FinancialAreaId;v="";try{if(BWMData[0])for(f=0;f<BWMData[0].length;f++)if(BWMData[0][f][0]=w)for(l=0;l<BWMData[0][f][4].length;l++)ut==BWMData[0][f][4][l][0]&&(v=BWMData[0][f][4][l][1])}catch(ft){}bt=="RECURRING_EXPENSE_NOTIFICATION_TASK"?(n+='       <td style="background-color:#d8d8d8;padding:10px 10px 10px 10px;" colspan="5">',n+='           <div style="display:inline-block;">',n+='               <a style="cursor:pointer;" onclick="displayRecurringExpenseOnTheHomePage(\''+y+"', '"+participantId+"', '"+h+'\');" target="_blank" title="Click to view the recurring expense...">'+p.toString()+" days overduexcx1: Recurring expense <em>("+b+" - "+v+") is due to be submitted<\/em><\/a>",n+="           <\/div>",n+="       <\/td>"):bt=="BUDGET_REQUEST_WORKFLOW_TASK"?(n+='       <td style="width:45px;"><\/td>',n+='       <td style="background-color:white;" ',n+="           onmouseenter=\"$('.bwCoreComponent').bwCoreComponent('showRowHoverDetails', '"+h+"', '"+b+"', '', '"+w+"', '"+y+"', '"+ht+"', '"+ct+"', this);\" ",n+="           onmouseleave=\"$('.bwCoreComponent').bwCoreComponent('hideRowHoverDetails');\" ",n+=">",n+='           <img class="gridMagnifyingGlass" style="vertical-align:middle;width:25px;height:25px;" src="'+imageRootPath+'/images/zoom.jpg" />',n+="       <\/td>",n+='       <td colspan="3" style="background-color:#d8d8d8;padding:10px 10px 10px 10px;cursor:pointer;" ',n+="           onmouseenter=\"this.style.backgroundColor='lightgoldenrodyellow';bwCommonScripts.highlightExecutiveSummaryForRequest('"+y+"');\" ",n+="           onmouseleave=\"this.style.backgroundColor='#d8d8d8';bwCommonScripts.unHighlightExecutiveSummaryForRequest('"+y+"');\"  ",n+="           onclick=\"$('.bwRequest').bwRequest('displayArInDialog','"+ot+"', '"+y+"', '"+wt+"', '"+encodeHtmlAttribute(b)+"', '"+h+"', '"+st+"', '"+et+"');\" ",n+=">",n+='           <div style="display:inline-block;" bwtrace="xcx778451">',n+=p==1?"           &nbsp;&nbsp;"+p.toString()+" day overduexcx1: ":"           &nbsp;&nbsp;"+p.toString()+" days overduexcx2: ",n+="               <em>",n+=h+" - "+b+" - "+formatCurrency(k)+" - "+v+" [("+st+") "+kt+"]",n+="               <\/em>",n+="           <\/div>",n+="       <\/td>"):n+='       <td style="background-color:#d8d8d8;padding:10px 10px 10px 10px;" colspan="5">UNKNOWN TASK TYPE<\/td>';n+="       <\/tr>"}n+="       <\/tbody><\/table>"}else n+='<div id="divBwExecutiveSummariesCarousel222"><\/div>';n+="<\/td><\/tr><\/table>";n+="   <\/td>";n+="<\/tr>";var e="functionalAreaRow_"+s.toString()+"_2",u="alertSectionImage_"+s.toString()+"_2",o="alertSectionRow_"+s.toString()+"_2";for(n+='<tr style="white-space:nowrap;" id="'+e+"\" class=\"bwFunctionalAreaRow bwNoUserSelect\" onclick=\"$('.bwExecutiveSummariesCarousel2').bwExecutiveSummariesCarousel2('expandOrCollapseAlertsSection', '"+e+"', '"+u+"', '"+o+"');\" >",c.PendingBudgetRequests.length>0?c.PendingBudgetRequests.length==1?(n+="<td style=\"width:11px;vertical-align:top;\" class=\"bwNoUserSelect\" onclick=\"$('.bwExecutiveSummariesCarousel2').bwExecutiveSummariesCarousel2('expandOrCollapseAlertsSection', '"+e+"', '"+u+"', '"+o+"');\"><\/td>",n+="<td style=\"padding-left:11px;white-space:nowrap;\" class=\"bwHPNDrillDownLinkCell2 bwNoUserSelect\" onclick=\"$('.bwExecutiveSummariesCarousel2').bwExecutiveSummariesCarousel2('expandOrCollapseAlertsSection', '"+e+"', '"+u+"', '"+o+"');\">",n+='<img title="expand" id="'+u+'" style="cursor:pointer;width:45px;height:45px;vertical-align:middle;" src="'+imageRootPath+'/images/drawer-open.png">'):(n+="<td style=\"width:11px;vertical-align:top;white-space:nowrap;\" class=\"bwNoUserSelect\" onclick=\"$('.bwExecutiveSummariesCarousel2').bwExecutiveSummariesCarousel2('expandOrCollapseAlertsSection', '"+e+"', '"+u+"', '"+o+"');\"><\/td><td style=\"padding-left:11px;\" class=\"bwHPNDrillDownLinkCell2 bwNoUserSelect\" onclick=\"$('.bwExecutiveSummariesCarousel2').bwExecutiveSummariesCarousel2('expandOrCollapseAlertsSection', '"+e+"', '"+u+"', '"+o+"');\">",n+='<img title="expand" id="'+u+'" style="cursor:pointer;width:45px;height:45px;vertical-align:middle;" src="'+imageRootPath+'/images/drawer-open.png">'):(n+="<td style=\"width:11px;\" class=\"bwNoUserSelect\" onclick=\"$('.bwExecutiveSummariesCarousel2').bwExecutiveSummariesCarousel2('expandOrCollapseAlertsSection', '"+e+"', '"+u+"', '"+o+"');\"><\/td>",n+="<td style=\"padding-left:60px;height:45px;white-space:nowrap;\" class=\"bwHPNDrillDownLinkCell2 bwNoUserSelect\" onclick=\"$('.bwExecutiveSummariesCarousel2').bwExecutiveSummariesCarousel2('expandOrCollapseAlertsSection', '"+e+"', '"+u+"', '"+o+"');\">"),n+="       <span class=\"bwNoUserSelect\" onclick=\"$('.bwExecutiveSummariesCarousel2').bwExecutiveSummariesCarousel2('expandOrCollapseAlertsSection', '"+e+"', '"+u+"', '"+o+"');\">",n+=c.PendingBudgetRequests.length==1?"There is "+c.PendingBudgetRequests.length+" budget request going through the approval process.":"There are "+c.PendingBudgetRequests.length+" budget requests going through the approval process.",n+="       <\/span>",n+="   <\/td>",n+='<td class="bwHPNDrillDownLinkCell2"><\/td>',n+="<\/tr>",n+='<tr id="'+o+'" style="display:none;">',n+="<td><\/td>",n+='<td colspan="2"><table><tbody>',t=0;t<c.PendingBudgetRequests.length;t++){var ot=appweburl,y=c.PendingBudgetRequests[t].bwBudgetRequestId,d=c.PendingBudgetRequests[t].ProjectTitle,h=c.PendingBudgetRequests[t].Title,nt=c.PendingBudgetRequests[t].BudgetAmount,lt=c.PendingBudgetRequests[t].RequestedCapital,at=c.PendingBudgetRequests[t].RequestedExpense,k=0;k=nt=="null"?Number(lt)+Number(at):nt;n+="   <tr>";n+='       <td style="width:10px;"><\/td>';n+='       <td style="width:10px;"><\/td>';ut=c.PendingBudgetRequests[t].FinancialAreaId;v="";try{if(BWMData[0])for(f=0;f<BWMData[0].length;f++)if(BWMData[0][f][0]=w)for(l=0;l<BWMData[0][f][4].length;l++)ut==BWMData[0][f][4][l][0]&&(v=BWMData[0][f][4][l][1])}catch(ft){}k==0?(n+='<td style="width:45px;"><\/td>',n+='    <td style="background-color:white;" ',n+="onmouseenter=\"$('.bwCoreComponent').bwCoreComponent('showRowHoverDetails', '"+h+"', '"+d+"', '', '"+w+"', '"+y+"', '"+ht+"', '"+ct+"', this);\" ",n+="onmouseleave=\"$('.bwCoreComponent').bwCoreComponent('hideRowHoverDetails');\" ",n+=">",n+='       <img class="gridMagnifyingGlass" style="vertical-align:middle;width:25px;height:25px;" src="'+imageRootPath+'/images/zoom.jpg" />',n+="    <\/td>",n+='            <td style="background-color:#d8d8d8;padding:10px 10px 10px 10px;cursor:pointer;" colspan="4" xcx="xcx33999945-1" ',n+="onclick=\"$('.bwRequest').bwRequest('displayArInDialog', '"+ot+"', '"+y+"', '"+h+"', '"+encodeHtmlAttribute(d)+"', '"+h+"', '', '"+et+'\');" target="_blank" >',n+=""+h+": <em>"+d+" - no budget assigned - "+v+"<\/em>",n+="<\/td>"):(n+='<td style="width:45px;"><\/td>',n+='    <td style="background-color:white;" ',n+="onmouseenter=\"$('.bwCoreComponent').bwCoreComponent('showRowHoverDetails', '"+h+"', '"+d+"', '', '"+w+"', '"+y+"', '"+ht+"', '"+ct+"', this);\" ",n+="onmouseleave=\"$('.bwCoreComponent').bwCoreComponent('hideRowHoverDetails');\" ",n+=">",n+='       <img class="gridMagnifyingGlass" style="vertical-align:middle;width:25px;height:25px;" src="'+imageRootPath+'/images/zoom.jpg" />',n+="    <\/td>",n+='            <td style="background-color:#d8d8d8;padding:10px 10px 10px 10px;cursor:pointer;" colspan="4" xcx="xcx33999945-2" ',n+=" onclick=\"$('.bwRequest').bwRequest('displayArInDialog', '"+ot+"', '"+y+"', '"+h+"', '"+encodeHtmlAttribute(d)+"', '"+h+"', '', '"+et+'\');" target="_blank" >'+h+": <em>"+d+" - "+formatCurrency(k)+" - "+v+" - waiting for "+participantFriendlyName+"(participantEmailAddress xcx342) to complete their task.<\/em><\/td>",n+='            <td style="background-color:#d8d8d8;padding:10px 10px 10px 10px;cursor:pointer;" colspan="4" xcx="xcx33999945-3" >',n+=""+h+": <em>"+d+" - no budget assigned - "+v+"<\/em>",n+="<\/td>");n+="<\/tr>"}if(n+="<\/table><\/td>",n+="<\/tr>",a&&a.length&&a.length!=0){var e="functionalAreaRow_"+s.toString()+"_3",u="alertSectionImage_"+s.toString()+"_3",o="alertSectionRow_"+s.toString()+"_3";for(n+='<tr id="'+e+"\" class=\"bwFunctionalAreaRow\" onclick=\"$('.bwExecutiveSummariesCarousel2').bwExecutiveSummariesCarousel2('expandOrCollapseAlertsSection', '"+e+"', '"+u+"', '"+o+"');\" >",a.length>0?a.length==1?(n+='<td style="width:11px;vertical-align:top;"><\/td>',n+='<td style="padding-left:11px;" class="bwHPNDrillDownLinkCell2">',n+='<img title="expand" id="'+u+'" style="cursor:pointer;width:45px;height:45px;vertical-align:middle;" src="'+imageRootPath+'/images/drawer-open.png">'):(n+='<td style="width:11px;vertical-align:top;"><\/td><td style="padding-left:11px;" class="bwHPNDrillDownLinkCell2">',n+='<img title="expand" id="'+u+'" style="cursor:pointer;width:45px;height:45px;vertical-align:middle;" src="'+imageRootPath+'/images/drawer-open.png">'):(n+='<td style="width:11px;"><\/td>',n+='<td style="padding-left:60px;height:45px;" class="bwHPNDrillDownLinkCell2">'),n+="       <span>",n+=a.length==1?"There is "+a.length+" unclaimed invitation.":a.length>0?"There are "+a.length+" unclaimed invitations.":"There are "+a.length+" unclaimed invitations. Dont display this...",n+="       <\/span>",n+="   <\/td>",n+='<td class="bwHPNDrillDownLinkCell2"><\/td>',n+="<\/tr>",n+='<tr id="'+o+'" style="display:none;">',n+="<td><\/td>",n+='<td colspan="2"><table><tbody>',t=0;t<a.length;t++)n+="   <tr>",n+='       <td style="width:10px;"><\/td>',n+='       <td style="width:10px;"><\/td>',n+='            <td style="width:90px;"><\/td>',n+="            <td>&nbsp;&nbsp;<\/td>",ui=(globalUrlPrefix+globalUrl+"?invitation="+a[t].bwInvitationId).indexOf("=")+1,fi=(globalUrlPrefix+globalUrl+"?invitation="+a[t].bwInvitationId).substring(ui),n+='            <td colspan="5" class="tdHomePageSubNotificationIos8"><div id="tdUnclaimedInvitationLinkSwipeEnabled'+t+'"><a style="cursor:pointer;" onclick="cmdViewInvitation(\''+fi+'\');" target="_blank" title="Send this link in an email to invite someone to participate in this workflow. You will be notified when they have confirmed their participation.">'+globalUrlPrefix+globalUrl+"?invitation="+a[t].bwInvitationId+"<\/a><\/div><\/td>",n+="        <\/tr>";n+="<\/tbody><\/table><\/td>";n+="<\/tr>"}var e="functionalAreaRow_"+s.toString()+"_4",u="alertSectionImage_"+s.toString()+"_4",o="alertSectionRow_"+s.toString()+"_4";if(n+='<tr id="'+e+"\" class=\"bwFunctionalAreaRow\" onclick=\"$('.bwExecutiveSummariesCarousel2').bwExecutiveSummariesCarousel2('expandOrCollapseAlertsSection', '"+e+"', '"+u+"', '"+o+"');\" >",i&&i.MyRequests&&i.MyRequests.length&&i.MyRequests.length>0?i.MyRequests.length==1?(n+='<td style="width:11px;vertical-align:top;"><\/td>',n+='<td style="padding-left:11px;" class="bwHPNDrillDownLinkCell2">',n+='<img title="collapse" id="'+u+'" style="cursor:pointer;width:45px;height:45px;vertical-align:middle;" src="'+imageRootPath+'/images/drawer-open.png">'):(n+='<td style="width:11px;vertical-align:top;"><\/td>',n+='<td style="padding-left:11px;" class="bwHPNDrillDownLinkCell2">',n+='<img title="collapse" id="'+u+'" style="cursor:pointer;width:45px;height:45px;vertical-align:middle;" src="'+imageRootPath+'/images/drawer-open.png">'):(n+='<td style="width:11px;"><\/td>',n+='<td style="padding-left:60px;height:45px;" class="bwHPNDrillDownLinkCell2">'),n+="       <span>",n+=i&&i.MyRequests&&i.MyRequests.length&&i.MyRequests.length==1?"You have submitted "+i.MyRequests.length+" request.":"You have submitted "+i.MyRequests.length+" requests.",n+="       <\/span>",n+="   <\/td>",n+='<td class="bwHPNDrillDownLinkCell2"><\/td>',n+="<\/tr>",n+='<tr id="'+o+'" style="display:none;">',n+="   <td><\/td>",n+='   <td colspan="2"><table><tbody>',i&&i.MyRequests&&i.MyRequests.length&&i.MyRequests.length>0)for(t=0;t<i.MyRequests.length;t++){var ei=i.MyRequests[t].bwTaskTitle,ot=appweburl,y=i.MyRequests[t].bwBudgetRequestId,wt=i.MyRequests[t].Title,b=i.MyRequests[t].ProjectTitle,h=i.MyRequests[t].Title,nt=i.MyRequests[t].BudgetAmount,lt=i.MyRequests[t].RequestedCapital,at=i.MyRequests[t].RequestedExpense,bt=i.MyRequests[t].TaskType,st=i.MyRequests[t].bwAssignedToRaciRoleAbbreviation,kt=i.MyRequests[t].bwAssignedToRaciRoleName,ht=i.MyRequests[t].OrgId,ct=i.MyRequests[t].OrgName,k=0;k=nt=="null"?Number(lt)+Number(at):nt;p=0;try{var tt=i.MyRequests[t].bwDueDate,dt=tt.split("-")[0],gt=tt.split("-")[1],ni=tt.split("-")[2].split("T")[0],it=new Date(Number(dt),Number(gt)-1,Number(ni)-1),rt=new Date,ti=Date.UTC(it.getFullYear(),it.getMonth(),it.getDate()),ii=Date.UTC(rt.getFullYear(),rt.getMonth(),rt.getDate()),ri=864e5;p=Math.floor((ii-ti)/ri)}catch(ft){}n+="   <tr>";n+='       <td style="width:10px;"><\/td>';n+='       <td style="width:10px;"><\/td>';ut=i.MyRequests[t].FinancialAreaId;v="";try{if(BWMData[0])for(f=0;f<BWMData[0].length;f++)if(BWMData[0][f][0]=w)for(l=0;l<BWMData[0][f][4].length;l++)ut==BWMData[0][f][4][l][0]&&(v=BWMData[0][f][4][l][1])}catch(ft){}n+='<td style="width:45px;"><\/td>';n+='    <td style="background-color:white;" ';n+="       onmouseenter=\"$('.bwCoreComponent').bwCoreComponent('showRowHoverDetails', '"+h+"', '"+b+"', '', '"+w+"', '"+y+"', '"+ht+"', '"+ct+"', this);\" ";n+="       onmouseleave=\"$('.bwCoreComponent').bwCoreComponent('hideRowHoverDetails');\"  ";n+=">";n+='       <img class="gridMagnifyingGlass" style="vertical-align:middle;width:25px;height:25px;" src="'+imageRootPath+'/images/zoom.jpg" />';n+="    <\/td>";n+='            <td style="background-color:#d8d8d8;padding:10px 10px 10px 10px;cursor:pointer;" colspan="3" ';n+="onclick=\"$('.bwRequest').bwRequest('displayArInDialog','"+ot+"', '"+y+"', '"+wt+"', '"+encodeHtmlAttribute(b)+"', '"+h+"', '"+st+"', '"+et+"');\" >";n+='    <div style="display:inline-block;" bwtrace="xcx778451">';n+=p.toString()+" days overduexcx3: ";n+="        <em>";n+=h+" - "+b+" - "+formatCurrency(k)+" - "+v+" [("+st+") "+kt+"]";n+="        <\/em>";n+="    <\/div>";n+="<\/td>";n+="<\/tr>"}return n+="<\/tbody><\/table>",n+="<\/td>",n+="<\/tr>",g="",g+='<div id="BWFunctionalAreaDiv'+s.toString()+'" style="cursor:pointer;" >',g+='<table id="BWFunctionalArea'+s.toString()+'" style="vertical-align:top;width:100%;">',g+=n,g+="<\/tbody><\/table>",g+="<\/div>",vt={html:g}}catch(ft){return console.log("Exception in generateHomePageNotificationScreenHtml():1335-1: "+ft.message+", "+ft.stack),displayAlertDialog("Exception in generateHomePageNotificationScreenHtml():1335-1: "+ft.message+", "+ft.stack),vt={html:"Exception in generateHomePageNotificationScreenHtml():1335-1: "+ft.message+", "+ft.stack}}},getDataForHomePageNotificationScreen_FASTFIRSTPASS:function(n,t){return new Promise(function(n,i){try{console.log("In getDataForHomePageNotificationScreen_FASTFIRSTPASS(). We need to add our new authorization code here 11-16-2022...");alert("In bwAuthentication.js.getDataForHomePageNotificationScreen_FASTFIRSTPASS(). DO WE EVEN GET HERE??? We need to add our new authorization code here 11-16-2022...");var e=this,u=t.bwWorkflowAppId,f=$(".bwAuthentication:first").bwAuthentication("getActiveStateIdentifier");t.bwActiveStateIdentifier=f;console.log("Making 4 web service calls in bwAuthentication.js.getDataForHomePageNotificationScreen_FASTFIRSTPASS().");$.ajax({url:webserviceurl+"/bwtasksoutstanding_FASTFIRSTPASS",type:"Post",contentType:"application/json",data:JSON.stringify(t),success:function(t){var r,e,s;try{var f=t.taskResult,o=t.brResult,c=[];if(f){for(r=f.length-1;r>-1;r--)if(f[r].TaskType=="BUDGET_REQUEST_WORKFLOW_TASK"){for(e=0;e<o.length;e++)if(o[e].bwBudgetRequestId==f[r].bwRelatedItemId){s={bwWorkflowTaskItemId:f[r].bwWorkflowTaskItemId,bwTaskTitle:f[r].bwTaskTitle,TaskType:f[r].TaskType,WorkflowStepId:f[r].WorkflowStepId,WorkflowStepName:f[r].WorkflowStepName,RoleCategory:f[r].RoleCategory,bwStatus:f[r].bwStatus,bwTaskOutcome:f[r].bwTaskOutcome,bwPercentComplete:f[r].bwPercentComplete,bwRelatedItemId:f[r].bwRelatedItemId,Title:o[e].Title,ProjectTitle:o[e].ProjectTitle,OrgId:o[e].OrgId,OrgName:o[e].OrgName,BudgetAmount:o[e].BudgetAmount,RequestedCapital:o[e].RequestedCapital,RequestedExpense:o[e].RequestedExpense,FinancialAreaId:o[e].FunctionalAreaId,CreatedBy:o[e].CreatedBy,bwRequestJson:o[e].bwRequestJson,Created:f[r].Created,bwDueDate:f[r].bwDueDate,bwHasBeenProcessedByTheWorkflowEngine:f[r].bwHasBeenProcessedByTheWorkflowEngine,bwAssignedTo:f[r].bwAssignedTo,bwAssignedToId:f[r].bwAssignedToId,bwWorkflowAppId:f[r].bwWorkflowAppId,TaskType:f[r].TaskType,DailyOverdueTaskNotificationDate:f[r].DailyOverdueTaskNotificationDate,bwAssignedToRaciRoleAbbreviation:f[r].bwAssignedToRaciRoleAbbreviation,bwAssignedToRaciRoleName:f[r].bwAssignedToRaciRoleName};c.push(s);break}}else if(f[r].TaskType=="RECURRING_EXPENSE_NOTIFICATION_TASK"&&!0)for(console.log("bwRecurringExpensesEnabled == true, refResult.length: "+refResult.length),e=0;e<refResult.length;e++)if(console.log("refResult[j].bwRecurringExpenseId: "+refResult[e].bwRecurringExpenseId+", taskResult[i].bwRelatedItemId: "+f[r].bwRelatedItemId),refResult[e].bwRecurringExpenseId==f[r].bwRelatedItemId){s={bwTaskTitle:f[r].bwTaskTitle,bwRelatedItemId:f[r].bwRelatedItemId,bwStatus:f[r].bwStatus,bwPercentComplete:f[r].bwPercentComplete,ProjectTitle:refResult[e].ProjectTitle,OrgId:refResult[e].OrgId,OrgName:refResult[e].OrgName,FinancialAreaId:refResult[e].FunctionalAreaId,Created:f[r].Created,bwDueDate:f[r].bwDueDate,bwHasBeenProcessedByTheWorkflowEngine:f[r].bwHasBeenProcessedByTheWorkflowEngine,bwAssignedTo:f[r].bwAssignedTo,bwAssignedToId:f[r].bwAssignedToId,bwWorkflowAppId:f[r].bwWorkflowAppId,TaskType:f[r].TaskType,DailyOverdueTaskNotificationDate:f[r].DailyOverdueTaskNotificationDate,bwAssignedToRaciRoleAbbreviation:f[r].bwAssignedToRaciRoleAbbreviation,bwAssignedToRaciRoleName:f[r].bwAssignedToRaciRoleName};c.push(s);break}}else alert("xcx123412312 There are no tasks.");var l={workflowAppId:u,taskData:c,participantsData:[],brData:[],myBrData:[]};n(l)}catch(h){console.log("Exception in getDataForHomePageNotificationScreen_FASTFIRSTPASS():44: "+h.message+", "+h.stack);displayAlertDialog("Exception in getDataForHomePageNotificationScreen_FASTFIRSTPASS():44: "+h.message+", "+h.stack);i()}},error:function(n,t,r){displayAlertDialog("Error in my.js.renderAlerts2():4-1:"+t+", "+r+", "+JSON.stringify(n));i()}})}catch(r){console.log("Exception in getDataForHomePageNotificationScreen_FASTFIRSTPASS(). "+r.message+", "+r.stack);displayAlertDialog("Exception in getDataForHomePageNotificationScreen_FASTFIRSTPASS(). "+r.message+", "+r.stack);i()}})},getDataForHomePageNotificationScreen_FASTSECONDPASS:function(n,t){return new Promise(function(n,i){var e,u,f;try{console.log("In getDataForHomePageNotificationScreen_FASTSECONDPASS(). We need to add our new authorization code here 11-16-2022...");console.log("In getDataForHomePageNotificationScreen_FASTSECONDPASS(). DO WE EVER GET HERE?? We need to add our new authorization code here 11-16-2022...");e=this;console.log("In getDataForHomePageNotificationScreen_FASTSECONDPASS(). We need to add our new authorization code here 11-16-2022...");u=t.bwWorkflowAppId;f=$(".bwAuthentication:first").bwAuthentication("getActiveStateIdentifier");t.bwActiveStateIdentifier=f;console.log("In getDataForHomePageNotificationScreen_FASTSECONDPASS(). Making 4 web service calls in bwAuthentication.js.getDataForHomePageNotificationScreen_FASTSECONDPASS().");$.ajax({url:webserviceurl+"/getDataForHomePageNotificationScreen_FASTSECONDPASS",type:"POST",contentType:"application/json",data:JSON.stringify(t),success:function(t){var f,e,s,c,h;try{var r=t.taskResult,o=t.brResult,l=[];if(r&&r.length)for(f=r.length-1;f>-1;f--)if(r[f].TaskType=="BUDGET_REQUEST_WORKFLOW_TASK"){for(e=0;e<o.length;e++)if(o[e].bwBudgetRequestId==r[f].bwRelatedItemId){s={bwWorkflowTaskItemId:r[f].bwWorkflowTaskItemId,bwTaskTitle:r[f].bwTaskTitle,TaskType:r[f].TaskType,WorkflowStepId:r[f].WorkflowStepId,WorkflowStepName:r[f].WorkflowStepName,RoleCategory:r[f].RoleCategory,bwStatus:r[f].bwStatus,bwTaskOutcome:r[f].bwTaskOutcome,bwPercentComplete:r[f].bwPercentComplete,bwRelatedItemId:r[f].bwRelatedItemId,Title:o[e].Title,ProjectTitle:o[e].ProjectTitle,OrgId:o[e].OrgId,OrgName:o[e].OrgName,BudgetAmount:o[e].BudgetAmount,RequestedCapital:o[e].RequestedCapital,RequestedExpense:o[e].RequestedExpense,FinancialAreaId:o[e].FunctionalAreaId,CreatedBy:o[e].CreatedBy,bwRequestJson:o[e].bwRequestJson,Created:r[f].Created,bwDueDate:r[f].bwDueDate,bwHasBeenProcessedByTheWorkflowEngine:r[f].bwHasBeenProcessedByTheWorkflowEngine,bwAssignedTo:r[f].bwAssignedTo,bwAssignedToId:r[f].bwAssignedToId,bwWorkflowAppId:r[f].bwWorkflowAppId,TaskType:r[f].TaskType,DailyOverdueTaskNotificationDate:r[f].DailyOverdueTaskNotificationDate,bwAssignedToRaciRoleAbbreviation:r[f].bwAssignedToRaciRoleAbbreviation,bwAssignedToRaciRoleName:r[f].bwAssignedToRaciRoleName};l.push(s);break}}else if(r[f].TaskType=="RECURRING_EXPENSE_NOTIFICATION_TASK"){if(1)for(console.log("bwRecurringExpensesEnabled == true, refResult.length: "+refResult.length),e=0;e<refResult.length;e++)if(console.log("refResult[j].bwRecurringExpenseId: "+refResult[e].bwRecurringExpenseId+", taskResult[i].bwRelatedItemId: "+r[f].bwRelatedItemId),refResult[e].bwRecurringExpenseId==r[f].bwRelatedItemId){s={bwWorkflowTaskItemId:r[f].bwWorkflowTaskItemId,bwTaskTitle:r[f].bwTaskTitle,TaskType:r[f].TaskType,WorkflowStepId:r[f].WorkflowStepId,WorkflowStepName:r[f].WorkflowStepName,RoleCategory:r[f].RoleCategory,bwStatus:r[f].bwStatus,bwTaskOutcome:r[f].bwTaskOutcome,bwPercentComplete:r[f].bwPercentComplete,bwRelatedItemId:r[f].bwRelatedItemId,Title:o[e].Title,ProjectTitle:o[e].ProjectTitle,OrgId:o[e].OrgId,OrgName:o[e].OrgName,BudgetAmount:o[e].BudgetAmount,RequestedCapital:o[e].RequestedCapital,RequestedExpense:o[e].RequestedExpense,FinancialAreaId:o[e].FunctionalAreaId,CreatedBy:o[e].CreatedBy,bwRequestJson:o[e].bwRequestJson,Created:r[f].Created,bwDueDate:r[f].bwDueDate,bwHasBeenProcessedByTheWorkflowEngine:r[f].bwHasBeenProcessedByTheWorkflowEngine,bwAssignedTo:r[f].bwAssignedTo,bwAssignedToId:r[f].bwAssignedToId,bwWorkflowAppId:r[f].bwWorkflowAppId,TaskType:r[f].TaskType,DailyOverdueTaskNotificationDate:r[f].DailyOverdueTaskNotificationDate,bwAssignedToRaciRoleAbbreviation:r[f].bwAssignedToRaciRoleAbbreviation,bwAssignedToRaciRoleName:r[f].bwAssignedToRaciRoleName};l.push(s);break}}else alert("Error in bwAuthentication.js.getDataForHomePageNotificationScreen_FASTSECONDPASS(). Invalid value for taskResult[i].TaskType: "+r[f].TaskType);else alert("NO TASKS xcx23123245.");h={workflowAppId:u,taskData:l,brData:{brResult:t.brResult,PendingBudgetRequests:t.PendingBudgetRequests},myBrData:{MyRequests:t.MyRequests}};n(h)}catch(a){c="Exception in getDataForHomePageNotificationScreen_FASTSECONDPASS().xc3312312: "+a.message+", "+a.stack;console.log(c);displayAlertDialog(c);h={status:"EXCEPTION",message:c};i(h)}},error:function(n,t,r){console.log("Error in my.js.renderAlerts2():4-2:"+t+", "+r+", "+JSON.stringify(n));displayAlertDialog("Error in my.js.renderAlerts2():4-2:"+t+", "+r+", "+JSON.stringify(n));i()}})}catch(r){console.log("Exception in getDataForHomePageNotificationScreen_FASTSECONDPASS(). "+r.message+", "+r.stack);displayAlertDialog("Exception in getDataForHomePageNotificationScreen_FASTSECONDPASS(). "+r.message+", "+r.stack);i()}})},getPagedDataFor_PINNED_REQUESTS:function(n,t){var i=this;return new Promise(function(r,u){var f,c;try{console.log("");console.log("******************************");console.log("In getPagedDataFor_PINNED_REQUESTS(). We need to add our new authorization code here 11-16-2022...");console.log("******************************");console.log("");var e=$(".bwAuthentication").bwAuthentication("option","workflowAppId"),o=$(".bwAuthentication").bwAuthentication("option","participantId"),l=$(".bwAuthentication").bwAuthentication("getActiveStateIdentifier"),s=$(".bwAuthentication").bwAuthentication("option","UserData_PinnedRequestsArray"),a={bwParticipantId_LoggedIn:o,bwActiveStateIdentifier:l,bwWorkflowAppId_LoggedIn:e,bwWorkflowAppId:e,bwParticipantId:o,pageNumber:n,pageSize:t,bwBudgetRequestId_Array:s},v=webserviceurl+"/getPagedDataFor_PINNED_REQUESTS";$.ajax({url:v,type:"POST",contentType:"application/json",data:JSON.stringify(a),success:function(n){var e,t,f,o;try{n.status!="SUCCESS"?(f="Error in bwAuthentication.js.getPagedDataFor_PINNED_REQUESTS(): "+JSON.stringify(n),console.log(f),displayAlertDialog(f),o={status:n.status,message:f},u(o)):n.results.length!=s.length?(console.log("The pinned requests quantity does not match. FORCE REMEDIATION."),e=document.getElementById("divRemediate_PINNED_REQUESTS"),e||(console.log("In bwAuthentication.js.getPagedDataFor_PINNED_REQUESTS(). adding element to the dom: divRemediate_PINNED_REQUESTS"),e=document.createElement("div"),e.id="divRemediate_PINNED_REQUESTS",e.style.display="none",document.body.appendChild(e),t="",t+='        <table style="width:100%;">',t+="            <tr>",t+='                <td style="width:90%;">',t+='                    <span id="spanDeleteAnAttachmentOfflineDialogTitlexxx" style="color: #3f3f3f;font-size: 60pt;font-weight:bold;">Remediate Pinned Request List<\/span>',t+="                <\/td>",t+='                <td style="width:9%;"><\/td>',t+='                <td style="width:1%;cursor:pointer;vertical-align:top;">',t+="                    <span class=\"dialogXButton\" style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;font-size: 120pt;font-weight:bold;\" onclick=\"$('#divRemediate_PINNED_REQUESTS').dialog('close');\">X<\/span>",t+="                <\/td>",t+="            <\/tr>",t+="        <\/table>",t+="        <br /><br />",t+="        <!--<span id=\"spanDeleteAnAttachmentOfflineDialogTitle\" style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #3f3f3f;font-size: 40pt;font-weight:bold;\">Delete Slide<\/span>",t+="        <br /><br />-->",t+="        <span id=\"spanDeleteAnAttachmentOfflineDialogDependencyDetails\" style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #3f3f3f;font-size: 30pt;\">",t+="Some of your pinned requests may have been deleted. The amount of pinned requests has changed. Click Ok to automatically update your list.<br /><br />(In the future we will add functionality for missing pinned requests)",t+="       <\/span>",t+="        <br /><br />",t+='        <span id="spanDeleteAnAttachmentOfflineDialogTopMessage"><\/span>',t+="        <br />",t+='        <div id="divDeleteAnAttachmentOfflineDialogDeleteRequestButtonxxxx" class="divDialogButton" onclick="$(\'#divRemediate_PINNED_REQUESTS\').dialog(\'close\');">',t+="            Ok",t+="        <\/div>",t+="        <br /><br />",t+="        <br /><br />",e.innerHTML=t),$("#divRemediate_PINNED_REQUESTS").dialog({modal:!0,resizable:!1,closeText:"Cancel",closeOnEscape:!0,width:"1000",dialogClass:"no-close",hide:!1,open:function(){$(".ui-widget-overlay").bind("click",function(){$("#divRemediate_PINNED_REQUESTS").dialog("close")})}}),$("#divRemediate_PINNED_REQUESTS").dialog().parents(".ui-dialog").find(".ui-dialog-titlebar").remove(),i.options.PINNED_REQUESTS=n.results,r(n)):(i.options.PINNED_REQUESTS=n.results,r(n))}catch(h){f="Exception in bwAuthentication.js.getPagedDataFor_PINNED_REQUESTS():2: "+h.message+", "+h.stack;console.log(f);displayAlertDialog(f);o={status:"EXCEPTION",message:f};u(o)}},error:function(n,t,i){var r,f;try{r="Error in bwAuthentication.js.getPagedDataFor_PINNED_REQUESTS(): errorCode: "+t+", errorMessage: "+i+", data: "+JSON.stringify(n);console.log(r);i!="Unauthorized"&&displayAlertDialog(r);f={status:"ERROR",message:r};u(f)}catch(e){r="Exception in bwAuthentication.js.getPagedDataFor_PINNED_REQUESTS():1-2: "+e.message+", "+e.stack;console.log(r);displayAlertDialog(r);f={status:"EXCEPTION",message:r};u(f)}}})}catch(h){f="Exception in bwAuthentication.js.getPagedDataFor_PINNED_REQUESTS():1: "+h.message+", "+h.stack;console.log(f);displayAlertDialog(f);c={status:"EXCEPTION",message:f};u(c)}})},getPagedDataFor_MY_UNSUBMITTED_REQUESTS:function(n,t){var i=this;return new Promise(function(r,u){var f,h;try{console.log("");console.log("******************************");console.log("In getPagedDataFor_MY_UNSUBMITTED_REQUESTS(). We need to add our new authorization code here 11-16-2022...");console.log("******************************");console.log("");var e=$(".bwAuthentication").bwAuthentication("option","workflowAppId"),o=$(".bwAuthentication").bwAuthentication("option","participantId"),c=$(".bwAuthentication").bwAuthentication("getActiveStateIdentifier"),l={bwParticipantId_LoggedIn:o,bwActiveStateIdentifier:c,bwWorkflowAppId_LoggedIn:e,bwWorkflowAppId:e,bwParticipantId:o,pageNumber:n,pageSize:t},a=webserviceurl+"/getPagedDataFor_MY_UNSUBMITTED_REQUESTS";$.ajax({url:a,type:"POST",contentType:"application/json",data:JSON.stringify(l),success:function(n){var t,f;try{n.status!="SUCCESS"?(t="Error in bwAuthentication.js.getPagedDataFor_MY_UNSUBMITTED_REQUESTS(): "+JSON.stringify(n),console.log(t),displayAlertDialog(t),f={status:n.status,message:t},u(f)):(i.options.MY_UNSUBMITTED_REQUESTS=n.results,r(n))}catch(e){t="Exception in bwAuthentication.js.getPagedDataFor_MY_UNSUBMITTED_REQUESTS():2: "+e.message+", "+e.stack;console.log(t);displayAlertDialog(t);f={status:"EXCEPTION",message:t};u(f)}},error:function(n,t,i){var r="Error in bwAuthentication.js.getPagedDataFor_MY_UNSUBMITTED_REQUESTS(): errorCode: "+t+", errorMessage: "+i+", data: "+JSON.stringify(n),f;console.log(r);displayAlertDialog(r);f={status:"ERROR",message:r};u(f)}})}catch(s){f="Exception in bwAuthentication.js.getPagedDataFor_MY_UNSUBMITTED_REQUESTS():1: "+s.message+", "+s.stack;console.log(f);displayAlertDialog(f);h={status:"EXCEPTION",message:f};u(h)}})},getPagedDataFor_MY_SUBMITTED_REQUESTS:function(n,t){var i=this;return new Promise(function(r,u){var f,h;try{console.log("");console.log("******************************");console.log("In getPagedDataFor_MY_SUBMITTED_REQUESTS(). We need to add our new authorization code here 11-16-2022...");console.log("******************************");console.log("");var e=$(".bwAuthentication").bwAuthentication("option","workflowAppId"),o=$(".bwAuthentication").bwAuthentication("option","participantId"),c=$(".bwAuthentication").bwAuthentication("getActiveStateIdentifier"),l={bwParticipantId_LoggedIn:o,bwActiveStateIdentifier:c,bwWorkflowAppId_LoggedIn:e,bwWorkflowAppId:e,bwParticipantId:o,pageNumber:n,pageSize:t},a=webserviceurl+"/getPagedDataFor_MY_SUBMITTED_REQUESTS";$.ajax({url:a,type:"POST",contentType:"application/json",data:JSON.stringify(l),success:function(n){var t,f;try{n.status!="SUCCESS"?(t="Error in bwAuthentication.js.getPagedDataFor_MY_SUBMITTED_REQUESTS(): "+JSON.stringify(n),console.log(t),displayAlertDialog(t),f={status:n.status,message:t},u(f)):(i.options.MY_SUBMITTED_REQUESTS=n.results,r(n))}catch(e){t="Exception in bwAuthentication.js.getPagedDataFor_MY_SUBMITTED_REQUESTS():2: "+e.message+", "+e.stack;console.log(t);displayAlertDialog(t);f={status:"EXCEPTION",message:t};u(f)}},error:function(n,t,i){var r="Error in bwAuthentication.js.getPagedDataFor_MY_SUBMITTED_REQUESTS(): errorCode: "+t+", errorMessage: "+i+", data: "+JSON.stringify(n),f;console.log(r);displayAlertDialog(r);f={status:"ERROR",message:r};u(f)}})}catch(s){f="Exception in bwAuthentication.js.getPagedDataFor_MY_SUBMITTED_REQUESTS():1: "+s.message+", "+s.stack;console.log(f);displayAlertDialog(f);h={status:"EXCEPTION",message:f};u(h)}})},getPagedDataFor_BudgetRequests:function(n,t,i,r,u,f,e,o,s,h){var c=this;return new Promise(function(l,a){var v,w;try{console.log("In bwAuthentication.js.getPagedDataFor_BudgetRequests(). offset: "+n+", limit: "+t+", sortDataElement: "+i+", sortOrder: "+r);var y=$(".bwAuthentication").bwAuthentication("option","workflowAppId"),b=$(".bwAuthentication").bwAuthentication("option","participantId"),k=$(".bwAuthentication").bwAuthentication("getActiveStateIdentifier"),d={bwParticipantId_LoggedIn:b,bwActiveStateIdentifier:k,bwWorkflowAppId_LoggedIn:y,TrashBin:u,bwWorkflowAppId:y,bwRequestTypeId:f,bwOrgId:e,StartDate:o,EndDate:s,DisplaySupplementals:h,offset:n,limit:t},g=webserviceurl+"/getPagedDataFor_BudgetRequests";$.ajax({url:g,type:"POST",contentType:"application/json",data:JSON.stringify(d),success:function(n){var t,i;try{n.status!="SUCCESS"?(t="Error in bwAuthentication.js.getPagedDataFor_BudgetRequests(): "+JSON.stringify(n),console.log(t),displayAlertDialog(t),i={status:n.status,message:t},a(i)):(c.options.BudgetRequests=n.results,t="Successfully loaded bwAuthentication.js widget options.BudgetRequests with "+n.results.docs.length+" records.",i={status:"SUCCESS",message:t},l(i))}catch(r){t="Exception in bwAuthentication.js.getPagedDataFor_BudgetRequests():2: "+r.message+", "+r.stack;console.log(t);displayAlertDialog(t);i={status:"EXCEPTION",message:t};a(i)}},error:function(n,t,i){var r="Error in bwAuthentication.js.getPagedDataFor_BudgetRequests(): errorCode: "+t+", errorMessage: "+i+", data: "+JSON.stringify(n),u;console.log(r);displayAlertDialog(r);u={status:"ERROR",message:r};a(u)}})}catch(p){v="Exception in bwAuthentication.js.getPagedDataFor_BudgetRequests():1: "+p.message+", "+p.stack;console.log(v);displayAlertDialog(v);w={status:"EXCEPTION",message:v};a(w)}})},getPagedDataFor_ACTIVE_REQUESTS:function(n,t,i,r,u){var f=this;return new Promise(function(e,o){var s,c;try{console.log("In bwAuthentication.js.getPagedDataFor_ACTIVE_REQUESTS(). bwRequestTypeId: "+n+", offset: "+t+", limit: "+i+", sortDataElement: "+r+", sortOrder: "+u);var l=$(".bwAuthentication").bwAuthentication("option","workflowAppId"),a=$(".bwAuthentication").bwAuthentication("option","participantId"),v=$(".bwAuthentication").bwAuthentication("getActiveStateIdentifier"),y={bwParticipantId_LoggedIn:a,bwActiveStateIdentifier:v,bwWorkflowAppId_LoggedIn:l,DisplaySupplementals:f.options.DisplaySupplementals,bwRequestTypeId:n,offset:t,limit:i,sortDataElement:r,sortOrder:u},p=webserviceurl+"/getPagedDataFor_ACTIVE_REQUESTS2";$.ajax({url:p,type:"POST",contentType:"application/json",data:JSON.stringify(y),success:function(n){var t,i;try{n.status!="SUCCESS"?(t="Error in bwAuthentication.js.getPagedDataFor_ACTIVE_REQUESTS(): "+JSON.stringify(n),console.log(t),displayAlertDialog(t),i={status:n.status,message:t},o(i)):(f.options.ACTIVE_REQUESTS=n.results,t="Successfully loaded bwAuthentication.js widget options.ACTIVE_REQUESTS with "+n.results.docs.length+" records.",i={status:"SUCCESS",message:t},e(i))}catch(r){t="Exception in bwAuthentication.js.getPagedDataFor_ACTIVE_REQUESTS():2: "+r.message+", "+r.stack;console.log(t);displayAlertDialog(t);i={status:"EXCEPTION",message:t};o(i)}},error:function(n,t,i){var r="Error in bwAuthentication.js.getPagedDataFor_ACTIVE_REQUESTS(): errorCode: "+t+", errorMessage: "+i+", data: "+JSON.stringify(n),u;console.log(r);displayAlertDialog(r);u={status:"ERROR",message:r};o(u)}})}catch(h){s="Exception in bwAuthentication.js.getPagedDataFor_ACTIVE_REQUESTS():1: "+h.message+", "+h.stack;console.log(s);displayAlertDialog(s);c={status:"EXCEPTION",message:s};o(c)}})},getPagedDataFor_MY_PENDING_TASKS:function(n,t){var i=this;return new Promise(function(r,u){var f,h;try{console.log("");console.log("******************************");console.log("In getPagedDataFor_MY_PENDING_TASKS(). We need to add our new authorization code here 11-16-2022...");console.log("******************************");console.log("");var e=$(".bwAuthentication").bwAuthentication("option","workflowAppId"),o=$(".bwAuthentication").bwAuthentication("option","participantId"),c=$(".bwAuthentication").bwAuthentication("getActiveStateIdentifier"),l={bwParticipantId_LoggedIn:o,bwActiveStateIdentifier:c,bwWorkflowAppId_LoggedIn:e,bwWorkflowAppId:e,bwParticipantId:o,pageNumber:n,pageSize:t},a=webserviceurl+"/getPagedDataFor_MY_PENDING_TASKS";$.ajax({url:a,type:"POST",contentType:"application/json",data:JSON.stringify(l),success:function(n){var t,f,e,o;try{if(n.status!="SUCCESS")e="Error in bwAuthentication.js.getPagedDataFor_MY_PENDING_TASKS(): "+n.message,console.log(e),displayAlertDialog(e),o={status:n.status,message:e},u(o);else{for(t=0;t<n.taskResult.length;t++)n.taskResult[t].bwRequestJson="(no value found xcx342346)";for(t=n.taskResult.length-1;t>-1;t--)for(f=0;f<n.brResult.length;f++)if(n.brResult[f].bwBudgetRequestId==n.taskResult[t].bwRelatedItemId){n.taskResult[t].bwBudgetRequestId=n.brResult[f].bwBudgetRequestId;n.taskResult[t].Title=n.brResult[f].Title;n.taskResult[t].ProjectTitle=n.brResult[f].ProjectTitle;n.taskResult[t].OrgId=n.brResult[f].OrgId;n.taskResult[t].OrgName=n.brResult[f].OrgName;n.taskResult[t].Created=n.brResult[f].Created;n.taskResult[t].CreatedBy=n.brResult[f].CreatedBy;n.taskResult[t].bwRequestTypeId=n.brResult[f].bwRequestTypeId;n.taskResult[t].bwRequestJson=n.brResult[f].bwRequestJson;break}i.options.MY_PENDING_TASKS=n.taskResult;e="Successfully merged bwRequestJson with bwWOrkflowTask(s).";o={status:"SUCCESS",message:e,results:n.taskResult};r(o)}}catch(s){e="Exception in bwAuthentication.js.getPagedDataFor_MY_PENDING_TASKS():2: "+s.message+", "+s.stack;console.log(e);displayAlertDialog(e);o={status:"EXCEPTION",message:e};u(o)}},error:function(n,t,i){var r="Error in bwAuthentication.js.getPagedDataFor_MY_PENDING_TASKS(): errorCode: "+t+", errorMessage: "+i+", data: "+JSON.stringify(n),f;console.log(r);i!="Unauthorized"&&displayAlertDialog(r);f={status:"ERROR",message:r};u(f)}})}catch(s){f="Exception in bwAuthentication.js.getPagedDataFor_MY_PENDING_TASKS():1: "+s.message+", "+s.stack;console.log(f);displayAlertDialog(f);h={status:"EXCEPTION",message:f};u(h)}})},getPagedDataFor_SOCIAL_NETWORK:function(n,t){var i=this;return new Promise(function(r,u){var f,h;try{console.log("");console.log("******************************");console.log("In getPagedDataFor_SOCIAL_NETWORK(). We need to add our new authorization code here 11-16-2022...");console.log("******************************");console.log("");var e=$(".bwAuthentication").bwAuthentication("option","workflowAppId"),o=$(".bwAuthentication").bwAuthentication("option","participantId"),c=$(".bwAuthentication").bwAuthentication("getActiveStateIdentifier"),l={bwParticipantId_LoggedIn:o,bwActiveStateIdentifier:c,bwWorkflowAppId_LoggedIn:e,bwWorkflowAppId:e,bwParticipantId:o,pageNumber:n,pageSize:t},a=webserviceurl+"/getPagedDataFor_SOCIAL_NETWORK";$.ajax({url:a,type:"POST",contentType:"application/json",data:JSON.stringify(l),success:function(n){var t,f;try{n.status!="SUCCESS"?(t="Error in bwAuthentication.js.getPagedDataFor_SOCIAL_NETWORK(): "+JSON.stringify(n),console.log(t),displayAlertDialog(t),f={status:n.status,message:t},u(f)):(i.options.SOCIAL_NETWORK=n.results,r(n))}catch(e){t="Exception in bwAuthentication.js.getPagedDataFor_SOCIAL_NETWORK():2: "+e.message+", "+e.stack;console.log(t);displayAlertDialog(t);f={status:"EXCEPTION",message:t};u(f)}},error:function(n,t,i){var r="Error in bwAuthentication.js.getPagedDataFor_SOCIAL_NETWORK(): errorCode: "+t+", errorMessage: "+i+", data: "+JSON.stringify(n),f;console.log(r);displayAlertDialog(r);f={status:"ERROR",message:r};u(f)}})}catch(s){f="Exception in bwAuthentication.js.getPagedDataFor_SOCIAL_NETWORK():1: "+s.message+", "+s.stack;console.log(f);displayAlertDialog(f);h={status:"EXCEPTION",message:f};u(h)}})},generateHomePageNotificationScreen:function(n,t){return new Promise(function(i,r){try{console.log("");console.log("******************************");console.log("In generateHomePageNotificationScreen(). We need to add our new authorization code here 11-16-2022...");console.log("******************************");console.log("");var h=this,e=$(".bwAuthentication").bwAuthentication("option","workflowAppId"),o=$(".bwAuthentication").bwAuthentication("option","participantId"),s=$(".bwAuthentication:first").bwAuthentication("getActiveStateIdentifier"),u={bwParticipantId_LoggedIn:o,bwActiveStateIdentifier:s,bwWorkflowAppId_LoggedIn:e,bwWorkflowAppId:t.bwWorkflowAppId,bwParticipantId:t.bwParticipantId,bwParticipantEmail:t.bwParticipantEmail};console.log("In generateHomePageNotificationScreen(). Calling bwtasksoutstanding. Making 4 web service calls in bwAuthentication.js.generateHomePageNotificationScreen(). queryData: "+JSON.stringify(t));$.ajax({url:webserviceurl+"/bwtasksoutstanding",type:"Post",contentType:"application/json",data:JSON.stringify(u),success:function(t){$.ajax({url:webserviceurl+"/bwparticipants",type:"POST",contentType:"application/json",data:JSON.stringify(u),success:function(f){$.ajax({url:webserviceurl+"/bwbudgetrequestspending",type:"DELETE",contentType:"application/json",data:JSON.stringify(u),success:function(o){$.ajax({url:webserviceurl+"/mybudgetrequests",type:"DELETE",contentType:"application/json",data:JSON.stringify(u),success:function(u){try{console.log("xcx2131231232-2 calling generateHomePageNotificationScreenHtml().");var h=bwCommonScripts.generateHomePageNotificationScreenHtml(n,appweburl,e,null,t,null,f,o,u,!1),c={html:h,workflowAppId:e,taskData:t,participantsData:f,brData:o,myBrData:u};i(c)}catch(s){displayAlertDialog("Exception in generateHomePageNotificationScreen(): "+s.message+", "+s.stack);r()}},error:function(n,t,i){displayAlertDialog("Error in my.js.renderAlerts()2:144:"+t+", "+i+" I believe this happens when wifi goes down. SERVICE UNAVAILABLE ");r()}})},error:function(n,t,i){displayAlertDialog("Error in my.js.renderAlerts2():1:"+t+", "+i+" I believe this happens when wifi goes down. SERVICE UNAVAILABLE ");r()}})},error:function(n,t,i){displayAlertDialog("Note: Validate that WriteToErrorLog() works here. Error in my.js.renderAlerts2():2: "+t+", "+i);WriteToErrorLog("xcx2131425",i);r()}})},error:function(n,t,i){displayAlertDialog("Error in my.js.renderAlerts2():4-3:"+t+", "+i+", "+JSON.stringify(n));r()}})}catch(f){console.log("Exception in generateHomePageNotificationScreen(). "+f.message+", "+f.stack);displayAlertDialog("Exception in generateHomePageNotificationScreen(). "+f.message+", "+f.stack);r()}})},generateCustomerHomePageNotificationScreen:function(n,t){return new Promise(function(i,r){try{console.log("In generateCustomerHomePageNotificationScreen().");alert("In generateCustomerHomePageNotificationScreen(). DOES THE CODE EVER GET HERE?");var e=this,f=t.bwWorkflowAppId;$.ajax({url:webserviceurl+"/mybudgetrequests",type:"DELETE",contentType:"application/json",data:JSON.stringify(t),success:function(t){try{var r=bwCommonScripts.generateCustomerHomePageNotificationScreenHtml(n,appweburl,f,t,!1),u={html:r,workflowAppId:f,myBrData:t};i(u)}catch(e){}},error:function(n,t,i){displayAlertDialog("Error in my.js.renderAlerts()2:144:"+t+", "+i+" I believe this happens when wifi goes down. SERVICE UNAVAILABLE ");r()}})}catch(u){console.log("Exception in generateCustomerHomePageNotificationScreen(). "+u.message+", "+u.stack);displayAlertDialog("Exception in generateCustomerHomePageNotificationScreen(). "+u.message+", "+u.stack);r()}})},logInAsTenantOrganizationOwner:function(n){try{console.log("In bwAuthentication.js.logInAsTenantOrganizationOwner(). elementId: "+n);alert("In bwAuthentication.js.logInAsTenantOrganizationOwner(). elementId: "+n);var f=this,i=$("#"+n+" option:selected").val(),r=i.split("|")[0],u=i.split("|")[1];console.log("In bwAuthentication.js.logInAsTenantOrganizationOwner(). elementId: "+n+", selectedValue: "+i+", bwTenantId: "+r+", rootOrganization: "+u);console.log("Calling ForestAdministratorLoginToTenant");var e=$(".bwAuthentication").bwAuthentication("option","workflowAppId"),o=$(".bwAuthentication").bwAuthentication("option","participantId"),s=$(".bwAuthentication:first").bwAuthentication("getActiveStateIdentifier"),h={bwParticipantId_LoggedIn:o,bwActiveStateIdentifier:s,bwWorkflowAppId_LoggedIn:e,bwTenantId:r,bwWorkflowAppId:u},c=this.options.operationUriPrefix+"_bw/ForestAdministratorLoginToTenant";$.ajax({url:c,type:"POST",data:h,headers:{Accept:"application/json; odata=verbose"},success:function(n){var t,i;console.log("In bwAuthentication.js.logInAsTenantOrganizationOwner().success(). results: "+JSON.stringify(n));n.message!="SUCCESS"?(console.log("In bwAuthentication.js.logInAsTenantOrganizationOwner().success(). ERROR: FAILED TO AUTHENTICATE: "+JSON.stringify(n)),alert("ERROR: FAILED TO AUTHENTICATE: "+n.message)):(t=f.options.operationUriPrefix+"?ForestAdministratorLoginToTenant_ActiveStateIdentifier="+n.bwActiveStateIdentifier,console.log("Calling window.open(). operationUri: "+t),i=window.open(t),(!i||i.closed||typeof i.closed=="undefined")&&(location.href=t))},error:function(n,t,i){console.log("Error in bwAuthentication.js.logInAsTenantOrganizationOwner().error(). Error in logInAsTenantOrganizationOwner(): "+i);alert("Error in bwAuthentication.js.logInAsTenantOrganizationOwner(): "+i)}})}catch(t){console.log("Exception in bwAuthentication.js.logInAsTenantOrganizationOwner(): "+t.message+", "+t.stack);alert("Exception in bwAuthentication.js.logInAsTenantOrganizationOwner(): "+t.message+", "+t.stack)}},changeRememberMeCheckboxSetting_OnClick:function(){try{console.log("In bwAuthentication.js.changeRememberMeCheckboxSetting_OnClick().");var n;n=localStorage.customlogonrememberme;n=n=="selected"?"notselected":"selected";localStorage.customlogonrememberme=n;$(".bwActiveMenu:first").bwActiveMenu("renderHomePageContent_Unauthenticated")}catch(t){console.log("Exception in bwAuthentication.js.changeRememberMeCheckboxSetting_OnClick(): "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.js.changeRememberMeCheckboxSetting_OnClick(): "+t.message+", "+t.stack)}},renderDialogDivs:function(){console.log("In bwAuthentication.js.renderDialogDivs().");var n=this;return new Promise(function(t,i){var r,u;try{console.log("In renderDialogDivs().");r="";r+='<div id="divBwCoreComponent"><\/div>';r+='<div id="divBwNotificationSound"><\/div>';r+='<div id="divBwPriorityGroup"><\/div>';r+='<div id="divBwPersonalErrorAdministration"><\/div>';r+='<div id="divBwCircleDialog"><\/div>';r+='<div id="divBwCircleDialog2"><\/div>';r+='<div id="divBwRequest"><\/div>';r+="";r+='        <div style="display:none;" id="divCustomLogonResetPasswordDialog">';r+='            <table style="width:100%;">';r+="                <tr>";r+='                    <td style="width:90%;">';r+="                        <span style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #3f3f3f;font-size: 30pt;font-weight:bold;\">Reset Password<\/span>";r+="                    <\/td>";r+='                    <td style="width:9%;"><\/td>';r+='                    <td style="width:1%;cursor:pointer;vertical-align:top;">';r+="                        <span class=\"dialogXButton\" style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;font-size: 30pt;font-weight:bold;\" onclick=\"$('#divCustomLogonResetPasswordDialog').dialog('close');\">X<\/span>";r+="                    <\/td>";r+="                <\/tr>";r+="            <\/table>";r+="            <br /><br />";r+='            <input type="text" autofocus="true" style="display:none;" /> <!-- This is here to prevent the first visible field from getting the cursor and showing the keyboard. -->';r+='            <span style="font-family: calibri;font-style:italic;">You will receive an email with instructions. For your security, use the same device to complete this password reset. It will expire in 5 minutes!<\/span><br /><br />';r+='            <span style="font-family: calibri;">Email Address<\/span><br />';r+="            <input type=\"text\" id=\"txtCustomLogonResetPasswordEmail\" style=\"WIDTH: 95%;font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;\" /><br />";r+="            <br />";r+='            <!--<input type="checkbox" />Remember me on this device.&nbsp;<a href="">?<\/a><br />-->';r+='            <div id="xxxx" class="divSignInButton" style="width:90%;text-align:center;line-height:1.1em;font-weight:bold;" onclick="$(\'.bwAuthentication\').bwAuthentication(\'cmdSendResetPasswordEmail\');">';r+="                Email Me";r+="            <\/div>";r+="            <br />";r+="            <span style=\"font-family: calibri;font-style:italic;\">Don't need to do this? <a href=\"javascript:$('.bwAuthentication').bwAuthentication('displaySignInDialog', true);\">Go back and Sign In.<\/a><\/span><br /><br />";r+='            <!--<span style="font-family: calibri;font-style:italic;"><a href="https://budgetworkflow.com">Go back to the home page.<\/a><\/span><br /><br />-->';r+="        <\/div>";r+="";r+='        <div style="display:none;" id="divCustomLogonResetPasswordConfirmationDialog">';r+='            <table style="width:100%;">';r+="                <tr>";r+='                    <td style="width:90%;">';r+="                        <span style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #3f3f3f;font-size: 30pt;font-weight:bold;\">Reset Password<\/span>";r+="                    <\/td>";r+='                    <td style="width:9%;"><\/td>';r+='                    <td style="width:1%;cursor:pointer;vertical-align:top;">';r+="                        <span class=\"dialogXButton\" style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;font-size: 30pt;font-weight:bold;\" onclick=\"$('#divCustomLogonResetPasswordConfirmationDialog').dialog('close');\">X<\/span>";r+="                    <\/td>";r+="                <\/tr>";r+="            <\/table>";r+="            <br /><br />";r+='            <input type="text" autofocus="true" style="display:none;" /> <!-- This is here to prevent the first visible field from getting the cursor and showing the keyboard. -->';r+='            <span style="font-family: calibri;font-style:italic;">We have confirmed you are using the same device to complete this password reset.<\/span>';r+="            <br /><br />";r+='            <span style="font-family: calibri;">Choose a new password (4-15 characters)<\/span><br />';r+="            <input type=\"password\" id=\"txtCustomResetPassword\" style=\"WIDTH: 95%;font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;\" /><br />";r+="            <br />";r+="            <br />";r+='            <!--<input type="checkbox" />Remember me on this device.&nbsp;<a href="">?<\/a><br />-->';r+='            <div id="xxxx" class="divSignInButton" style="width:90%;text-align:center;line-height:1.1em;font-weight:bold;" onclick="$(\'.bwAuthentication\').bwAuthentication(\'cmdResetPasswordNow\');">';r+="                Reset password now!";r+="            <\/div>";r+="            <br />";r+="            <span style=\"font-family: calibri;font-style:italic;\">Don't need to do this? <a href=\"javascript:$('.bwAuthentication').bwAuthentication('displayCustomLogonDialog');\">Click here to Sign In.<\/a><\/span><br /><br />";r+="        <\/div>";n.element.html(r);console.log("In bwAuthentication.js.renderDialogDivs(). Instantiating bwCircleDialog(). THIS IS WHERE IT HAPPENS. 7-26-2024.");$("#divBwCircleDialog").bwCircleDialog({});$("#divBwCircleDialog2").bwCircleDialog2({});console.log("xcx23123-1 instantiating bwCoreComponent().");$("#divBwCoreComponent").bwCoreComponent();$("#divBwPersonalErrorAdministration").bwPersonalErrorAdministration({});$("#divBwPrintButton").bwPrintButton({reportType:"MyPendingTasksReport"});console.log("");console.log("In bwAuthentication.js.renderDialogDivs(). Widgets bwCircleDialog, bwCoreComponent, and bwPrintButton have been instantiated.");console.log("");t()}catch(f){u="Exception in bwAuthentication.js.renderDialogDivs(): "+f.message+", "+f.stack;console.log(u);displayAlertDialog(u);i(u)}})},renderDialogDivsForBackendAdministration:function(){var n,i,r;try{console.log("In renderDialogDivsForBackendAdministration(). xcx2");n="";n+='<div id="divBwCoreComponent"><\/div>';n+='<div id="divBwCircleDialog"><\/div>';n+='<div id="divBwCircleDialog2"><\/div>';n+='<div id="divBwRequest"><\/div>';this.element.html(n);console.log("xcx23123-2 instantiating bwCircleDialog().");i=$("#divBwCircleDialog").bwCircleDialog({});console.log("xcx23123-2 instantiating bwCoreComponent().");r=$("#divBwCoreComponent").bwCoreComponent({})}catch(t){console.log("Exception in renderDialogDivsForBackendAdministration(): "+t.message+", "+t.stack);displayAlertDialog("Exception in renderDialogDivsForBackendAdministration(): "+t.message+", "+t.stack)}},cmdSendResetPasswordEmail:function(){var i=document.getElementById("txtCustomLogonResetPasswordEmail").value,n=[],t;n={userEmailAddress:i};t=webserviceurl+"/bwworkflow/sendresetpasswordemail";$.ajax({url:t,type:"POST",data:n,headers:{Accept:"application/json; odata=verbose"},success:function(n){n.message=="INVALID EMAIL ADDRESS"?displayAlertDialog("This email address is not valid."):n.message=="PASSWORDRESETIDENTIFIER CURRENTLY ACTIVE THERECANONLYBEONE"?displayAlertDialog("A pasword reset request was made less than 5 minutes ago. Please use the last one, or wait before creating another one."):n.message=="SUCCESS"?(displayAlertDialog("The email has been sent. You should receive it shortly."),$("#divCustomLogonResetPasswordDialog").dialog("close")):displayAlertDialog(n.message)},error:function(n,t,i){displayAlertDialog("Error in index.html.cmdSendResetPasswordEmail(): "+i)}})},cmdResetPasswordNow:function(){var f,n,r,i,u;try{console.log("In bwAuthentication.js.cmdResetPasswordNow().");f=this;n=document.getElementById("txtCustomResetPassword").value;n.trim().length<4||n.trim().length>15?displayAlertDialog("Please enter an Password that is 4-15 characters in length."):(r=this.getUrlParams("passwordreset"),i=[],i={passwordResetIdentifier:r,resetPassword:n},u=this.options.operationUriPrefix+"_bw/bwworkflow/resetpasswordnow",$.ajax({url:u,type:"POST",data:i,headers:{Accept:"application/json; odata=verbose"},success:function(t){var i,t,r;t.message=="SUCCESS"?(displayAlertDialog("Your password has been updated. Continuing to log you in!"),i=t.bwParticipantEmail,t=[],t={userEmailAddress:i,userPassword:n},r=webserviceurl+"/bwworkflow/usercustomlogon",$.ajax({url:r,type:"POST",data:t,headers:{Accept:"application/json; odata=verbose"},success:function(n){try{if(n.message!="The password is correct")displayAlertDialog(n.message);else{var r=n.bwActiveStateIdentifier,i;i=globalUrlPrefix+globalUrl+"?ActiveStateIdentifier="+r;alert("Setting window.location. xcx213124-23.");window.location=i}}catch(t){console.log("Exception in bwAuthentication.js.cmdResetPasswordNow():4: "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.js.cmdResetPasswordNow():4: "+t.message+", "+t.stack)}},error:function(n,t,i){displayAlertDialog("Error in bwAuthentication.js.cmdResetPasswordNow().usercustomlogon: "+i+" "+JSON.stringify(n))}})):t.message=="COULD NOT FIND PASSWORDRESETIDENTIFIER"?displayAlertDialog("Could not locate the password reset identifier. It may have expired. You will have to try again to reset your password from the beginning."):displayAlertDialog(t.message)},error:function(n,t,i){console.log("Error in bwAuthentication.js.cmdResetPasswordNow():1: errorCode: "+t+", errorMessage: "+i+", data: "+JSON.stringify(n));displayAlertDialog("Error in bwAuthentication.js.cmdResetPasswordNow():1: errorCode: "+t+", errorMessage: "+i+", data: "+JSON.stringify(n))}}))}catch(t){console.log("Exception in bwAuthentication.js.cmdResetPasswordNow():3: "+t.message+", "+t.stack);displayAlertDialog("Exception in bwAuthentication.js.cmdResetPasswordNow():3: "+t.message+", "+t.stack)}},displaySignInDialogForBackendAdministration:function(n,t,i){var o,u,r,f;try{console.log("In bwAuthentication.js.displaySignInDialogForBackendAdministration().");o=this;u=$(".bwCircleDialog").bwCircleDialog("option","dialogElementId");u.length==0?displayAlertDialog("Error in bwAuthentication.js.displaySignInDialogForBackendAdministration(). The bwCircleDialog.js widget has not been instantiated."):($("#"+String(u)).dialog("instance")&&$("#"+u).dialog("close"),window.scrollTo(0,0),$(".bwActiveMenu_Admin").bwActiveMenu_Admin("adjustLeftSideMenu"),n==!0&&(this.options.OnResizeDisplayValues=null),r="",this.options.OnResizeDisplayValues!=null&&this.options.OnResizeDisplayValues.Html?r=this.options.OnResizeDisplayValues.Html:(r+='        <table style="width:100%;">',r+="            <tr>",r+='                <td style="width:90%;">',r+="                    <span style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #3f3f3f;font-size: 30pt;font-weight:bold;\">Sign in<\/span>",r+="                <\/td>",r+='                <td style="width:9%;"><\/td>',r+='                <td style="width:1%;cursor:pointer;vertical-align:top;">',r+="                    <span class=\"dialogXButton\" style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;font-size: 30pt;font-weight:bold;\" onclick=\"$('.bwCircleDialog').bwCircleDialog('hideCircleDialog');\">X<\/span>",r+="                <\/td>",r+="            <\/tr>",r+="        <\/table>",r+="        <br />",r+='        <input type="text" autofocus="true" style="display:none;" /> <!-- This is here to prevent the first visible field from getting the cursor and showing the keyboard. -->',r+="        <span id=\"spanCustomLogonDialogInvitationDescriptionText\" style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #3f3f3f;font-size: 20pt;\"><\/span>",r+='        <span style="font-family: calibri;">Email<\/span>',r+="        <br />",r+="        <input type=\"text\" id=\"txtCustomLogonEmail\" style=\"WIDTH: 93%;font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;\" />",r+="        <br /><br />",r+='        <span style="font-family: calibri;">Password<\/span>',r+="        <br />",r+="        <input type=\"password\" id=\"txtCustomLogonPassword\" onkeydown=\"return carriagereturnpress(event, 'logonWith_BudgetWorkflow');\" style=\"WIDTH: 93%;font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;\" /><br />",r+="        <br />",f=1.25,r+='<table style="width:100%;">',r+="<tr>",r+='<td style="text-align:right;">',r+='   <span style="cursor:help;color:gray;" xcx="xcx23124555-1" title="Auto-logon with local storage. Your logon information gets saved in local storage so that you aren\'t subsequently prompted to logon." >',console.log("xcx213124-1 cbCustomLogonRememberMe."),r+='        <input onclick="$(\'.bwAuthentication\').bwAuthentication(\'changeRememberMeCheckboxSetting_OnClick\');" id="cbCustomLogonRememberMe" type="checkbox" style="cursor:pointer;zoom: '+f+";transform: scale("+f+");-ms-transform: scale("+f+");-webkit-transform: scale("+f+");-o-transform: scale("+f+");-moz-transform: scale("+f+');transform-origin: 0 0;-ms-transform-origin: 0 0;-webkit-transform-origin: 0 0;-o-transform-origin: 0 0;-moz-transform-origin: 0 0;" checked />',r+="        &nbsp;Remember me",r+="   <\/span>",r+="        <br />",r+="        <br />",r+="<\/td>",r+="<\/tr>",r+="<\/table>",r+='        <div id="xcx547" class="divSignInButton" style="width: 75%; text-align: center; line-height: 1.1em; font-weight: bold;" onclick="$(\'.bwAuthentication\').bwAuthentication(\'logonWith_BudgetWorkflow\');">',r+="            Sign In",r+="        <\/div>",r+="        <br />",i&&i==!0||(r+='        <span style="font-family: calibri;font-style:italic;font-size:15pt;">New to BudgetWorkflow.com? Sign up now. It\'s free!xcx1334-1<\/span>',r+="        <br /><br />",r+='        <div id="xxxx" class="divSignInButton" style="width: 75%; text-align: center; line-height: 1.1em; font-weight: bold;" onclick="$(\'.bwCircleDialog\').bwCircleDialog(\'displayCreateFreeAccountDialog\', true);">',r+="            Sign up now",r+="        <\/div>",r+="        <br />",r+='        <span style="font-family: calibri;font-style:italic;font-size:15pt;">Forgot your password?<\/span>',r+="        <br /><br />",r+='        <div id="xxxx" class="divSignInButton" style="width: 75%; text-align: center; line-height: 1.1em; font-weight: bold;" onclick="$(\'.bwAuthentication\').bwAuthentication(\'cmdDisplayForgottenPasswordDialog\');">',r+="            Reset password",r+="        <\/div>",r+="        <br /><br />")),$("#"+u).html(r),$("#"+u).dialog({modal:!1,resizable:!1,closeOnEscape:!1,width:"460",dialogClass:"no-close",hide:!1,position:{my:"center top",at:"center top+150","of":window},close:function(){$("#"+u).dialog("destroy")},open:function(){try{$(".bwCircleDialog").bwCircleDialog("displayDialog");var t=localStorage.customlogonusername,i=localStorage.customlogonpassword,r=localStorage.customlogonrememberme;$("#txtCustomLogonEmail").val(t);$("#txtCustomLogonPassword").val(i);r=="selected"?o.logonWith_BudgetWorkflow_autologon():document.getElementById("cbCustomLogonRememberMe").checked=!1}catch(n){console.log("Exception in bwAuthentication.displaySignInDialogForBackendAdministration():2: "+n.message+", "+n.stack);displayAlertDialog("Exception in bwAuthentication.displaySignInDialogForBackendAdministration():2: "+n.message+", "+n.stack)}}}))}catch(e){console.log("Exception in bwAuthentication.js.displaySignInDialogForBackendAdministration(): "+e.message+", "+e.stack);displayAlertDialog("Exception in bwAuthentication.js.displaySignInDialogForBackendAdministration(): "+e.message+", "+e.stack)}},displayLoggedInUserDropDownInACircle:function(n){var t,i,s;try{console.log("In bwAuthentication.js.displayLoggedInUserDropDownInACircle().");var e=$(".bwAuthentication").bwAuthentication("option","participantId"),o=$(".bwAuthentication").bwAuthentication("option","participantEmail"),f=$(".bwAuthentication").bwAuthentication("option","participantFriendlyName"),h=$(".bwAuthentication").bwAuthentication("option","participantLogonType"),r=$(".bwCircleDialog").bwCircleDialog("option","dialogElementId");$("#"+r).dialog("instance")&&$("#"+r).dialog("close");window.scrollTo(0,0);$(".bwActiveMenu")&&$(".bwActiveMenu").length?$(".bwActiveMenu").bwActiveMenu("adjustLeftSideMenu"):$(".bwActiveMenu_Admin").bwActiveMenu_Admin("adjustLeftSideMenu");n==!0&&(this.options.OnResizeDisplayValues=null);t="";this.options.OnResizeDisplayValues!=null&&this.options.OnResizeDisplayValues.Html?t=this.options.OnResizeDisplayValues.Html:(t="",t+='            <table style="width:100%;">',t+="                <tr>",t+='                    <td style="width:90%;">',t+="                        <span id=\"spanAccountDetailsDialogTitle\" style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #3f3f3f;font-size: 30pt;font-weight:bold;\">",t+="Update account details for "+f+'.<br /><span style="font-size:15pt;color:tomato;">Logon provider: '+h+"<\/span>",t+="                        <\/span>",t+="                    <\/td>",t+='                    <td style="width:9%;"><\/td>',t+='                    <td style="width:1%;cursor:pointer;vertical-align:top;">',t+='                        <span class="dialogXButton" style="font-size:30pt;cursor:pointer;font-weight:bold;" onclick="$(\'.bwCircleDialog\').bwCircleDialog(\'hideCircleDialog\');">X<\/span>',t+="                    <\/td>",t+="                <\/tr>",t+="            <\/table>",t+="            <br />",t+='            <!--<span id="spanAccountDetailsDialogDetails"><\/span>-->',t+='            <!--<input id="txtPeoplePickerDialogSearchBox" title="Type the first name and select from the list below..." style="WIDTH: 85%;font-family: \'Segoe UI Light\',\'Segoe UI\',\'Segoe\',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;TEXT-ALIGN: left;" /><input id="txtPeoplePickerDialogParticipantId" style="display:none;" /><input id="txtPeoplePickerDialogParticipantEmail" style="display:none;" />',t+='            <img src="images/magnifying-glass.jpg" style="width:25px;height:25px;" />',t+="            <hr />",t+='            <span id="spanPeoplePickerParticipantsList"><\/span>-->',t+="",t+='            <input type="text" autofocus="true" style="display:none;" /> <!-- This is here to prevent the first visible field from getting the cursor and showing the keyboard. -->',t+='            <span style="font-family: calibri;">Name<\/span>',t+="            <br />",t+='            <input type="text" id="txtUserOptionsFriendlyName" value="'+f+"\" style=\"WIDTH: 93%;font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;\" />",t+="            <br /><br />",t+='            <span style="font-family: calibri;">Email<\/span>',t+="            <br />",t+='            <input type="text" id="txtUserOptionsEmail" value="'+o+"\" style=\"WIDTH: 93%;font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;\" />",t+="            <br />",t+='            <span id="txtUserOptionsParticipantId" style="color:aliceblue;">'+e+"<\/span>",t+="        <br /><br />",i=1.5,t+='<table style="width:100%;">',t+="<tr>",t+='<td style="text-align:right;">',t+='   <span style="cursor:help;color:gray;" xcx="xcx23124555-2" title="Auto-logon with local storage. Your logon information gets saved in local storage so that you aren\'t subsequently prompted to logon." >',s=localStorage.customlogonrememberme,t+=s=="selected"?'        <input onclick="$(\'.bwAuthentication\').bwAuthentication(\'changeRememberMeCheckboxSetting_OnClick\');" id="cbCustomLogonRememberMe" type="checkbox" style="cursor:pointer;zoom: '+i+";transform: scale("+i+");-ms-transform: scale("+i+");-webkit-transform: scale("+i+");-o-transform: scale("+i+");-moz-transform: scale("+i+');transform-origin: 0 0;-ms-transform-origin: 0 0;-webkit-transform-origin: 0 0;-o-transform-origin: 0 0;-moz-transform-origin: 0 0;" checked />':'        <input onclick="$(\'.bwAuthentication\').bwAuthentication(\'changeRememberMeCheckboxSetting_OnClick\');" id="cbCustomLogonRememberMe" type="checkbox" style="cursor:pointer;zoom: '+i+";transform: scale("+i+");-ms-transform: scale("+i+");-webkit-transform: scale("+i+");-o-transform: scale("+i+");-moz-transform: scale("+i+');transform-origin: 0 0;-ms-transform-origin: 0 0;-webkit-transform-origin: 0 0;-o-transform-origin: 0 0;-moz-transform-origin: 0 0;" />',t+="        &nbsp;Remember me",t+="   <\/span>",t+="<\/td>",t+="<\/tr>",t+="<\/table>",t+="            <br />",t+='            <div class="divSignInButton" style="width:90%;text-align:center;line-height:0.8em;font-weight:bold;" onclick="$(\'.bwCoreComponent\').bwCoreComponent(\'cmdSaveUserOptions\');">',t+="                Save",t+="            <\/div>",t+="            <br />",t+='            <div class="divSignInButton" style="width:90%;text-align:center;line-height:0.8em;font-weight:bold;" onclick="$(\'.bwAuthentication\').bwAuthentication(\'cmdDisplayForgottenPasswordDialog\');">',t+="                Change Password",t+="            <\/div>",t+="            <br />",t+='            <div xcx="xcx123125" class="divSignInButton" style="width:90%;text-align:center;line-height:0.8em;font-weight:bold;" onclick="$(\'.bwAuthentication\').bwAuthentication(\'cmdLeave\');">',t+="                LEAVE THE FRAY/ORG (fabric)",t+="            <\/div>",t+="            <br />",t+='            <div xcx="xcx123125" class="divSignInButton" style="width:90%;text-align:center;line-height:0.8em;font-weight:bold;" onclick="$(\'.bwAuthentication\').bwAuthentication(\'cmdSignOut\');">',t+="                Sign out",t+="            <\/div>",t+="            <br />",t+='            <div class="divSignInButton" style="width:90%;text-align:center;line-height:0.8em;font-weight:bold;" onclick="$(\'.bwAuthentication\').bwAuthentication(\'cmdUnsubscribe\');">',t+="                Unsubscribe",t+="            <\/div>",t+="            <br />",t+='            <div class="divSignInButton" style="width:90%;text-align:center;line-height:0.8em;font-weight:bold;" onclick="$(\'.bwCircleDialog\').bwCircleDialog(\'hideCircleDialog\');">',t+="                Close",t+="            <\/div>",t+="            <br /><br />",$("#"+r).html(t),$("#"+r).dialog({modal:!1,resizable:!1,closeOnEscape:!1,width:"460",dialogClass:"no-close",hide:!1,position:{my:"center top",at:"center top+150","of":window},close:function(){$("#"+r).dialog("destroy")},open:function(){try{var t={bwParticipantId:e,bwParticipantFriendlyName:f,bwParticipantEmail:o};$(".bwCircleDialog").bwCircleDialog("displayDialog",t)}catch(n){console.log("Exception in bwAuthentication.js.displayLoggedInUserDropDownInACircle():2: "+n.message+", "+n.stack);displayAlertDialog("Exception in bwAuthentication.js.displayLoggedInUserDropDownInACircle():2: "+n.message+", "+n.stack)}}}))}catch(u){console.log("Exception in bwAuthentication.js.displayLoggedInUserDropDownInACircle(): "+u.message+", "+u.stack);displayAlertDialog("Exception in bwAuthentication.js.displayLoggedInUserDropDownInACircle(): "+u.message+", "+u.stack)}},displaySignInDialog:function(n,t,i,r){var y,s,h,o,e,u,v,l,a,f;try{console.log("In bwAuthentication.js.displaySignInDialog(). reauthorize: "+r);y=this;s=$("#selectLogonType").val();s&&(s=s.toLowerCase());s=="facebook.com"?(e=$(".bwCircleDialog").bwCircleDialog("option","dialogElementId"),$("#"+e).dialog("instance")&&$("#"+e).dialog("close"),window.scrollTo(0,0),$(".bwActiveMenu")&&$(".bwActiveMenu").length&&$(".bwActiveMenu").bwActiveMenu("adjustLeftSideMenu"),n==!0&&(this.options.OnResizeDisplayValues=null),u="",this.options.OnResizeDisplayValues!=null&&this.options.OnResizeDisplayValues.Html?u=this.options.OnResizeDisplayValues.Html:(u+='<div style="" xcx="xcx9809-1" id="divCustomSignUpDialog">',u+='        <table style="width:100%;">',u+="            <tr>",u+='                <td style="width:90%;">',u+="                    <span style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #3f3f3f;font-size: 30pt;font-weight:bold;\">Sign in<\/span>",u+="                <\/td>",u+='                <td style="width:9%;"><\/td>',u+='                <td style="width:1%;cursor:pointer;vertical-align:top;">',u+='                    <span class="dialogXButton" style="font-size:35pt;cursor:pointer;width:100%;font-weight:bold;" onclick="$(\'.bwCircleDialog\').bwCircleDialog(\'hideCircleDialog\');">X<\/span>',u+="                <\/td>",u+="            <\/tr>",u+="        <\/table>",u+="        <br />",u+='        <input type="text" autofocus="true" style="display:none;" /> <!-- This is here to prevent the first visible field from getting the cursor and showing the keyboard. -->',u+=t?"        <span id=\"spanCustomLogonDialogInvitationDescriptionText\" style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #3f3f3f;font-size: 20pt;\">"+t+"<\/span>":"        <span id=\"spanCustomLogonDialogInvitationDescriptionText\" style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #3f3f3f;font-size: 20pt;\"><\/span>",u+='        <span style="font-family: calibri;">Email<\/span>',u+="        <br />",u+="        <input type=\"text\" id=\"txtCustomLogonEmail\" style=\"WIDTH: 93%;font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;\" />",u+="        <br /><br />",u+='        <span style="font-family: calibri;">Password<\/span>',u+="        <br />",u+="        <input type=\"password\" id=\"txtCustomLogonPassword\" onkeydown=\"return carriagereturnpress(event, 'logonWith_BudgetWorkflow');\" style=\"WIDTH: 93%;font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;\" /><br />",u+="        <br />",f=1.25,u+='<table style="width:100%;">',u+="<tr>",u+='<td style="text-align:right;">',u+='   <span style="cursor:help;color:gray;" xcx="xcx23124555-3" title="Auto-logon with local storage. Your logon information gets saved in local storage so that you aren\'t subsequently prompted to logon." >',alert("xcx213124-4 cbCustomLogonRememberMe."),u+='        <input onclick="$(\'.bwAuthentication\').bwAuthentication(\'changeRememberMeCheckboxSetting_OnClick\');" id="cbCustomLogonRememberMe" type="checkbox" style="cursor:pointer;zoom: '+f+";transform: scale("+f+");-ms-transform: scale("+f+");-webkit-transform: scale("+f+");-o-transform: scale("+f+");-moz-transform: scale("+f+');transform-origin: 0 0;-ms-transform-origin: 0 0;-webkit-transform-origin: 0 0;-o-transform-origin: 0 0;-moz-transform-origin: 0 0;" checked />',u+="        &nbsp;Remember me",u+="   <\/span>",u+="        <br />",u+="        <br />",u+="<\/td>",u+="<\/tr>",u+="<\/table>",h=document.getElementById("fb-root"),h||(h=document.createElement("div"),h.id="fb-root",$(document.body).prepend(h)),o=document.getElementById("bw_fb_script_element1"),o||(o=document.createElement("script"),o.id="bw_fb_script_element1",o.async=!0,o.defer=!0,o.crossOrigin="anonymous",o.src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v19.0",o.nonce="o80ud4DH",document.head.appendChild(o)),u+=`

<script>
  // This is called with the results from from FB.getLoginStatus().
  function statusChangeCallback(response) {
    console.log('statusChangeCallback');
    console.log(response);
    // The response object is returned with a status field that lets the
    // app know the current login status of the person.
    // Full docs on the response object can be found in the documentation
    // for FB.getLoginStatus().
    if (response.status === 'connected') {
      // Logged into your app and Facebook.
      testAPI();
    } else {
      // The person is not logged into your app or we are unable to tell.
      document.getElementById('status').innerHTML = 'Please log ' +
        'into this app.';
    }
  }

  // This function is called when someone finishes with the Login
  // Button.  See the onlogin handler attached to it in the sample
  // code below.
  function checkLoginState() {
    FB.getLoginStatus(function(response) {
      statusChangeCallback(response);
    });
  }

  window.fbAsyncInit = function() {
  FB.init({
    appId      : '{your-app-id}',
    cookie     : true,  // enable cookies to allow the server to access 
                        // the session
    xfbml      : true,  // parse social plugins on this page
    version    : '{api-version}' // Specify the Graph API version to use
  });

  // Now that we've initialized the JavaScript SDK, we call 
  // FB.getLoginStatus().  This function gets the state of the
  // person visiting this page and can return one of three states to
  // the callback you provide.  They can be:
  //
  // 1. Logged into your app ('connected')
  // 2. Logged into Facebook, but not your app ('not_authorized')
  // 3. Not logged into Facebook and can't tell if they are logged into
  //    your app or not.
  //
  // These three cases are handled in the callback function.

  FB.getLoginStatus(function(response) {
    statusChangeCallback(response);
  });

  };

  // Load the SDK asynchronously
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "https://connect.facebook.net/en_US/sdk.js";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));

  // Here we run a very simple test of the Graph API after login is
  // successful.  See statusChangeCallback() for when this call is made.
  function testAPI() {
    console.log('Welcome!  Fetching your information.... ');
    FB.api('/me', function(response) {
      console.log('Successful login for: ' + response.name);
      document.getElementById('status').innerHTML =
        'Thanks for logging in, ' + response.name + '!';
    });
  }
</script>
`,u+=`<div class="fb-login-button" data-width="614" data-size="" data-button-type="" data-layout="" data-auto-logout-link="true" data-use-continue-as="true"></div>`,u+='<fb:login-button scope="public_profile,email" onlogin="checkLoginState();"><\/fb:login-button>',r&&r==!0,u+="        <br />",i&&i==!0?u+="        <br /><br />":(u+='        <span style="font-family: calibri;font-style:italic;font-size:15pt;">New to BudgetWorkflow.com? Sign up now. It\'s free!xcx1334-2<\/span>',u+="        <br /><br />",u+='        <div id="xxxx" class="divSignInButton" style="width: 75%; text-align: center; line-height: 1.1em; font-weight: bold;" onclick="$(\'.bwAuthentication\').bwAuthentication(\'displayCreateFreeAccountDialog\', true);">',u+="            Sign up now",u+="        <\/div>",u+="        <br />",u+='        <span style="font-family: calibri;font-style:italic;font-size:15pt;">Forgot your password?<\/span>',u+="        <br /><br />",u+='        <div id="xxxx" class="divSignInButton" style="width: 75%; text-align: center; line-height: 1.1em; font-weight: bold;" onclick="$(\'.bwAuthentication\').bwAuthentication(\'cmdDisplayForgottenPasswordDialog\');">',u+="            Reset password",u+="        <\/div>"),u+="<\/div>"),$("#"+e).html(u),FB||alert("xcx21224 NO FB OBJECT TIMEOUT xcx6997887 !!!!!!!!!!!!! FB: "+JSON.stringify(FB)),FB.init({appId:"{your-app-id}",status:!0,xfbml:!0,version:"v2.7"}).then(function(){alert("xcx2313124666w4324")}),$("#"+e).dialog({modal:!1,resizable:!1,closeOnEscape:!1,width:"550",dialogClass:"no-close",hide:!1,position:{my:"center top",at:"center top+150","of":window},close:function(){$("#"+e).dialog("destroy")},open:function(){try{$(".bwCircleDialog").bwCircleDialog("displayDialog");var t=localStorage?localStorage.customlogonusername:"",i=localStorage?localStorage.customlogonpassword:"",r=localStorage?localStorage.customlogonrememberme:"";$("#txtCustomLogonEmail").val(t);$("#txtCustomLogonPassword").val(i);alert("xcx231243-1");document.getElementById("cbCustomLogonRememberMe").checked=r=="selected"?!0:!1}catch(n){console.log("Exception in bwAuthentication.js.displaySignInDialog():2: "+n.message+", "+n.stack);displayAlertDialog("Exception in bwAuthentication.js.displaySignInDialog():2: "+n.message+", "+n.stack)}}})):(e=$(".bwCircleDialog").bwCircleDialog("option","dialogElementId"),$("#"+e).dialog("instance")&&$("#"+e).dialog("close"),window.scrollTo(0,0),$(".bwActiveMenu")&&$(".bwActiveMenu").length&&$(".bwActiveMenu").bwActiveMenu("adjustLeftSideMenu"),n==!0&&(this.options.OnResizeDisplayValues=null),u="",this.options.OnResizeDisplayValues!=null&&this.options.OnResizeDisplayValues.Html?u=this.options.OnResizeDisplayValues.Html:(u+='<div style="" xcx="xcx9809-2" id="divCustomSignUpDialog">',u+='        <table style="width:100%;">',u+="            <tr>",u+='                <td style="width:90%;">',u+="                    <span style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #3f3f3f;font-size: 60pt;font-weight:normal;\">Sign in<\/span>",u+="                <\/td>",u+='                <td style="width:9%;"><\/td>',u+='                <td style="width:1%;cursor:pointer;vertical-align:top;">',u+='                    <span class="dialogXButton" xcx="xcx1232353653467" style="font-size:95pt;cursor:pointer;width:100%;font-weight:bold;" onclick="$(\'.bwCircleDialog\').bwCircleDialog(\'hideCircleDialog\');">X<\/span>',u+="                <\/td>",u+="            <\/tr>",u+="        <\/table>",u+="        <br />",u+='        <input type="text" autofocus="true" style="display:none;" /> <!-- This is here to prevent the first visible field from getting the cursor and showing the keyboard. -->',u+=t?"        <span id=\"spanCustomLogonDialogInvitationDescriptionText\" style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #3f3f3f;font-size: 20pt;\">"+t+"<\/span>":"        <span id=\"spanCustomLogonDialogInvitationDescriptionText\" style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #3f3f3f;font-size: 20pt;\"><\/span>",u+='        <span style="font-family: calibri;">Email<\/span>',u+="        <br />",u+="        <input type=\"text\" id=\"txtCustomLogonEmail\" style=\"WIDTH: 93%;font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;\" />",u+="        <br /><br />",u+='        <span style="font-family: calibri;">Password<\/span>',u+="        <br />",u+="        <input type=\"password\" id=\"txtCustomLogonPassword\" onkeydown=\"return carriagereturnpress(event, 'logonWith_BudgetWorkflow');\" style=\"WIDTH: 93%;font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;\" /><br />",u+="        <br />",u+='           <div class="divSelectLogonTypeButton bwNoUserSelect" style="width:95%;text-align: center; line-height: 1.1em; font-weight: bold;z-index:15;padding:13px 0 6px 13px;border:1px solid skyblue;">',u+="               with",u+="               <select id=\"selectLogonType\" onchange=\"$('.bwAuthentication').bwAuthentication('selectLogonType_OnChange');\" class=\"selectHomePageWorkflowAppDropDown\" style=\"margin-bottom:15px;cursor:pointer;font-weight:bold;font-family:'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 1em;\">",v=window.location.href.split("https://")[1],l=v.split("/")[0].toLowerCase(),l.indexOf("shareandcollaborate.com")>-1?(u+='                   <option value="ShareAndCollaborate.com">ShareAndCollaborate.com<\/option>',u+='                   <option value="BudgetWorkflow.com">BudgetWorkflow.com<\/option>'):l.indexOf("budgetworkflow.com")>-1?(u+='                   <option value="BudgetWorkflow.com">BudgetWorkflow.com<\/option>',u+='                   <option value="ShareAndCollaborate.com">ShareAndCollaborate.com<\/option>'):(a="Error: Unexpected value for window.location.href: "+window.location.href,console.log(a),displayAlertDialog(a)),u+='                   <option value="Facebook.com">Facebook.com<\/option>',u+="               <\/select>",u+="               &nbsp;&nbsp;",u+="           <\/div>",f=1.5,u+='<table style="width:100%;">',u+="<tr>",u+='<td style="text-align:right;">',u+='   <span style="cursor:help;color:gray;" xcx="xcx23124555-4" title="Auto-logon with local storage. Your logon information gets saved in local storage so that you aren\'t subsequently prompted to logon." >',u+='        <input onclick="$(\'.bwAuthentication\').bwAuthentication(\'changeRememberMeCheckboxSetting_OnClick\');" id="cbCustomLogonRememberMe" type="checkbox" style="cursor:pointer;zoom: '+f+";transform: scale("+f+");-ms-transform: scale("+f+");-webkit-transform: scale("+f+");-o-transform: scale("+f+");-moz-transform: scale("+f+');transform-origin: 0 0;-ms-transform-origin: 0 0;-webkit-transform-origin: 0 0;-o-transform-origin: 0 0;-moz-transform-origin: 0 0;" checked />',u+='        &nbsp;Turn on "Display auto-login buttons when first opening in the browser/before logging in. This saves your login information on this device and browser, so anyone can log in automatically. We recommend that you use a passcode/lock code on your device when not in use.[unauthenticated-home context menu buttons][xTurn off buttonsx] [Make the home page for this browser shareandcollaborate.com]',u+="   <\/span>",u+="        <br />",u+="        <br />",u+="<\/td>",u+="<\/tr>",u+="<\/table>",r&&r==!0?(u+='        <div id="xcx90809-1" class="divSignInButton" style="width: 75%; text-align: center; line-height: 1.1em; font-weight: bold;" onclick="$(\'.bwAuthentication\').bwAuthentication(\'logonWith_BudgetWorkflow\', true, true);">',u+="            Sign In",u+="        <\/div>"):(u+='        <div id="xcx90809-2" class="divSignInButton" style="width: 75%; text-align: center; line-height: 1.1em; font-weight: bold;" onclick="$(\'.bwAuthentication\').bwAuthentication(\'logonWith_BudgetWorkflow\', false);">',u+="            Sign In",u+="        <\/div>"),u+="        <br />",i&&i==!0?u+="        <br /><br />":(u+='        <span style="font-family: calibri;font-style:italic;font-size:15pt;">New to ShareAndCollaborate.com? Sign up now. It\'s free!<\/span>',u+="        <br /><br />",u+='        <div id="xxxx" class="divSignInButton" style="width: 75%; text-align: center; line-height: 1.1em; font-weight: bold;" onclick="$(\'.bwAuthentication\').bwAuthentication(\'displayCreateFreeAccountDialog\', true);">',u+="            Sign up now",u+="        <\/div>",u+="        <br />",u+='        <span style="font-family: calibri;font-style:italic;font-size:15pt;">Forgot your password?<\/span>',u+="        <br /><br />",u+='        <div id="xxxx" class="divSignInButton" style="width: 75%; text-align: center; line-height: 1.1em; font-weight: bold;" onclick="$(\'.bwAuthentication\').bwAuthentication(\'cmdDisplayForgottenPasswordDialog\');">',u+="            Reset password",u+="        <\/div>"),u+="<\/div>"),$("#"+e).html(u),$("#"+e).dialog({modal:!1,resizable:!1,closeOnEscape:!1,width:"550",dialogClass:"no-close",hide:!1,position:{my:"center top",at:"center top+150","of":window},close:function(){$("#"+e).dialog("destroy")},open:function(){var t;try{$(".bwCircleDialog").bwCircleDialog("displayDialog");var i=localStorage?localStorage.customlogonusername:"",r=localStorage?localStorage.customlogonpassword:"",u=localStorage?localStorage.customlogonrememberme:"";$("#txtCustomLogonEmail").val(i);$("#txtCustomLogonPassword").val(r);u=="selected"?(document.getElementById("cbCustomLogonRememberMe").checked=!0,console.log("This auto-logs in the user. Remember-me has been selected. xcx231243-2."),t=document.getElementById("unauthenticated_rememberme_buttons_on_home_page"),t?t.display="inline":console.log("xcx33321 Couldnot find element [unauthenticated_rememberme_buttons_on_home_page].")):(console.log("This auto-logs in the user. Remember-me is not selected. xcx231243-2."),document.getElementById("cbCustomLogonRememberMe").checked=!1)}catch(n){console.log("Exception in bwAuthentication.js.displaySignInDialog():2: "+n.message+", "+n.stack);displayAlertDialog("Exception in bwAuthentication.js.displaySignInDialog():2: "+n.message+", "+n.stack)}}}))}catch(c){console.log("Exception in bwAuthentication.js.displaySignInDialog(): "+c.message+", "+c.stack);displayAlertDialog("Exception in bwAuthentication.js.displaySignInDialog(): "+c.message+", "+c.stack)}},determineLogonTypeAndSignIn:function(){try{console.log("In bwAuthentication.js.determineLogonTypeAndSignIn().");$(".bwCircleDialog").bwCircleDialog("displaySignInDialog",!0)}catch(n){displayAlertDialog("Exception in bwAuthentication.js.determineLogonTypeAndSignIn(): "+n.message+", "+n.stack)}},selectLogonType_OnChange:function(){try{var n=document.getElementById("selectLogonType").value;n=="Microsoft"?document.getElementById("spanAzureADConnectionDetails").innerHTML='<span class="bwLink">Connect to your Microsoft Azure Active Directory<\/span>':document.getElementById("spanAzureADConnectionDetails")&&(document.getElementById("spanAzureADConnectionDetails").innerHTML="");localStorage.selectedlogontype=n}catch(t){displayAlertDialog("Exception in selectLogonType_OnChange(): "+t.message+", "+t.stack)}},displayAzureADConnectionDetails:function(){try{var n="";n+='<div style="font-size:18pt;">';n+="You can configure your Microsoft Azure Active Directory to work with BudgetWorkflow.com by sending me your unique AD application client id. Contact me for more information.";n+="<br /><br />";n+='<span style="font-size:14pt;">';n+="example clientId: 55d270fb-e669-465a-a792-ab44f4ac23f0";n+="<br />";n+="redirectUri: https://budgetworkflow.com/index.html";n+="<br />";n+="postLogoutRedirectUri: https://budgetworkflow.com";n+="<\/span>";n+='<span style="font-size:14pt;">';n+="<br /><br />";n+="Detailed instructions are coming in the near future. In the meantime, feel free to email todd_hiltz@hotmail.com with any questions.";n+="<\/span>";n+="<\/div>";this.displayAlertDialog(n)}catch(t){displayAlertDialog("Exception in displayAzureADConnectionDetails(): "+t.message+", "+t.stack)}},displayBudgetWorkflowTwoFactorAuthenticationDetails:function(){try{var n="";n+='<div style="font-size:18pt;">';n+="This functionality is incomplete. Coming soon!";n+="<br /><br />";n+="The iOS App is required in order to configure dual-factor authentication.";n+="<\/div>";this.displayAlertDialog(n)}catch(t){displayAlertDialog("Exception in displayBudgetWorkflowTwoFactorAuthenticationDetails(): "+t.message+", "+t.stack)}},cmdLeave:function(){var t,n;try{console.log("In bwAuthentication.js.cmdLeave().");this.options.participantId=null;this.options.participantLogonType=null;this.options.participantLogonTypeUserId=null;this.options.participantFriendlyName=null;this.options.participantEmail=null;this.options.workflowAppId=null;this.options.participantLogonType||(n="In bwAuthentication.js.cmdLeave(). Unexpected value for participantLogonType: "+this.options.participantLogonType+", participantId: "+this.options.participantId+", participantEmail: "+this.options.participantEmail+", participantFriendlyName: "+this.options.participantFriendlyName,console.log(n),WriteToErrorLog(n),this.options.participantLogonType="custom");this.options.participantLogonType=="microsoft"?this.options.msalInstance.logout():this.options.participantLogonType=="custom"?(n="In bwAuthentication.js.cmdLeave(). This user has chosen to log out. participantFriendlyName: "+this.options.participantFriendlyName+" ("+this.options.participantEmail+") participantId: "+this.options.participantId+", participantLogonType: "+this.options.participantLogonType,WriteToErrorLog(n),t=globalUrlPrefix+globalUrl,console.log("Setting window.location. xcx213124-24."),displayAlertDialog("Setting window.location. xcx213124-24."),displayAlertDialog("Setting window.location. xcx213124-24."),displayAlertDialog("Setting window.location. xcx213124-24."),window.location=t):(this.displayAlertDialog("Unknown participantLogonType in cmdLeave(). participantLogonType: "+participantLogonType),n="In bwAuthentication.js.cmdLeave(). Unexpected value for participantLogonType: "+this.options.participantLogonType+", participantId: "+this.options.participantId+", participantEmail: "+this.options.participantEmail+", participantFriendlyName: "+this.options.participantFriendlyName,console.log(n),WriteToErrorLog(n))}catch(i){n="Exception in bwAuthentication.js.cmdLeave(): "+i.message+", "+i.stack;console.log(n);displayAlertDialog(n)}},cmdSignOut:function(){var t,n;try{console.log("In bwAuthentication.js.cmdSignOut().");this.options.participantId=null;this.options.participantLogonType=null;this.options.participantLogonTypeUserId=null;this.options.participantFriendlyName=null;this.options.participantEmail=null;this.options.workflowAppId=null;this.options.participantLogonType||(n="In bwAuthentication.js.cmdSignOut(). Unexpected value for participantLogonType: "+this.options.participantLogonType+", participantId: "+this.options.participantId+", participantEmail: "+this.options.participantEmail+", participantFriendlyName: "+this.options.participantFriendlyName,console.log(n),WriteToErrorLog(n),this.options.participantLogonType="custom");this.options.participantLogonType=="microsoft"?this.options.msalInstance.logout():this.options.participantLogonType=="custom"?(n="In bwAuthentication.js.cmdSignOut(). This user has chosen to log out. participantFriendlyName: "+this.options.participantFriendlyName+" ("+this.options.participantEmail+") participantId: "+this.options.participantId+", participantLogonType: "+this.options.participantLogonType,WriteToErrorLog(n),console.log("The users credentials will be remembered."),t=globalUrlPrefix+globalUrl,console.log("Setting window.location. xcx213124-24."),displayAlertDialog("Setting window.location. xcx213124-24."),displayAlertDialog("Setting window.location. xcx213124-24."),displayAlertDialog("Setting window.location. xcx213124-24."),window.location=t):(this.displayAlertDialog("Unknown participantLogonType in cmdSignOut(). participantLogonType: "+participantLogonType),n="In bwAuthentication.js.cmdSignOut(). Unexpected value for participantLogonType: "+this.options.participantLogonType+", participantId: "+this.options.participantId+", participantEmail: "+this.options.participantEmail+", participantFriendlyName: "+this.options.participantFriendlyName,console.log(n),WriteToErrorLog(n))}catch(i){n="Exception in bwAuthentication.js.cmdSignOut(): "+i.message+", "+i.stack;console.log(n);displayAlertDialog(n)}},cmdUnsubscribe:function(){var i,r,n;try{console.log("In bwCoreComponent.cmdSignOut().");i=$(".bwAuthentication").bwAuthentication("option","participantId");this.options.participantLogonType||(n="In bwAuthentication.js.cmdUnsubscribe(). Unexpected value for participantLogonType: "+this.options.participantLogonType+", participantId: "+this.options.participantId+", participantEmail: "+this.options.participantEmail+", participantFriendlyName: "+this.options.participantFriendlyName,console.log(n),WriteToErrorLog("",n),this.options.participantLogonType="custom");this.options.participantLogonType=="microsoft"?this.options.msalInstance.logout():this.options.participantLogonType=="custom"?(n="In bwAuthentication.js.cmdUnsubscribe(). This user has chosen to unsubscribe. participantFriendlyName: "+this.options.participantFriendlyName+" ("+this.options.participantEmail+") participantId: "+this.options.participantId+", participantLogonType: "+this.options.participantLogonType,WriteToErrorLog("",n),r=globalUrlPrefix+globalUrl+"/index.html?unsubscribe="+i,alert("Setting window.location. xcx213124-25."),window.location=r):(this.displayAlertDialog("Unknown participantLogonType in cmdUnsubscribe(). participantLogonType: "+participantLogonType),n="In bwAuthentication.js.cmdUnsubscribe(). Unexpected value for participantLogonType: "+this.options.participantLogonType+", participantId: "+this.options.participantId+", participantEmail: "+this.options.participantEmail+", participantFriendlyName: "+this.options.participantFriendlyName,console.log(n),WriteToErrorLog("",n))}catch(t){console.log("Exception in bwCoreComponent.cmdUnsubscribe(): "+t.message+", "+t.stack);displayAlertDialog("Exception in bwCoreComponent.cmdUnsubscribe(): "+t.message+", "+t.stack)}},getUrlParams:function(n){try{console.log('In bwAuthentication.js.getUrlParams("'+n+'").');var u={},e=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(n,t,i){u[t]=decodeURIComponent(i)}),r,t,f;return r=u[n],r&&(t=r.toString().split("#"),t&&t.length&&t.length>0&&(f=t[0])),f}catch(i){console.log("Exception in bwAuthentication.js.getUrlParams(): "+i.message+", "+i.stack);displayAlertDialog("Exception in bwAuthentication.js.getUrlParams(): "+i.message+", "+i.stack)}},getActiveStateIdentifier:function(){var n,u,t,r;try{return console.log("In bwAuthentication.js.getActiveStateIdentifier(). window.location.href: "+window.location.href),n={},u=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,i,r){n[i]=decodeURIComponent(r)}),n.ActiveStateIdentifier?(r=localStorage.getItem("bwActiveStateIdentifier"),console.log("In bwAuthentication.js.getActiveStateIdentifier(). bwActiveStateIdentifier_FromLocalStorage: "+r),t={status:"SUCCESS",message:"Found a value for ActiveStateIdentifier.",ActiveStateIdentifier:n.ActiveStateIdentifier.toString().split("#")[0],ActiveStateIdentifier_FromLocalStorage:r}):t=n.ForestAdministratorLoginToTenant_ActiveStateIdentifier?{status:"SUCCESS",message:"Found a value for ForestAdministratorLoginToTenant_ActiveStateIdentifier.",ForestAdministratorLoginToTenant_ActiveStateIdentifier:n.ForestAdministratorLoginToTenant_ActiveStateIdentifier.toString().split("#")[0]}:{status:"ERROR",message:"Did not find a value for ActiveStateIdentifier or ForestAdministratorLoginToTenant_ActiveStateIdentifier."},console.log("In bwAuthentication.js.getActiveStateIdentifier(). activeStateIdentifierJson: "+JSON.stringify(t)),JSON.stringify(t)}catch(i){console.log("Exception in bwAuthentication.js.getActiveStateIdentifier(): "+i.message+", "+i.stack);displayAlertDialog("Exception in bwAuthentication.js.getActiveStateIdentifier(): "+i.message+", "+i.stack)}},displayAlertDialog:function(n){try{document.getElementById("spanErrorMessage").innerHTML=n;$("#divAlertDialog").dialog({modal:!0,resizable:!1,closeOnEscape:!1,width:"800",dialogClass:"no-close",hide:!1,open:function(){$(".ui-widget-overlay").bind("click",function(){$("#divAlertDialog").dialog("close")})},close:function(){}});$("#divAlertDialog").dialog().parents(".ui-dialog").find(".ui-dialog-titlebar").remove()}catch(t){console.log("Exception in index.html.displayAlertDialog(): "+t.message+", "+t.stack)}},displayCustomLogonDialog:function(){try{$("#divCustomLogonDialog").dialog("close")}catch(i){}try{$("#divCustomSignUpDialog").dialog("close")}catch(i){}try{$("#divCustomLogonResetPasswordDialog").dialog("close")}catch(i){}try{$("#divCustomLogonResetPasswordConfirmationDialog").dialog("close")}catch(i){}$("#divCustomLogonDialog").dialog({modal:!0,resizable:!1,closeOnEscape:!1,title:"Sign In",width:"720px",dialogClass:"no-close",hide:!1,open:function(){$(".ui-widget-overlay").bind("click",function(){$("#divCustomLogonDialog").dialog("close")})}});$("#divCustomLogonDialog").dialog().parents(".ui-dialog").find(".ui-dialog-titlebar").remove();var n=localStorage.customlogonusername,t=localStorage.customlogonpassword;$("#txtCustomLogonEmail").val(n);$("#txtCustomLogonPassword").val(t)},displayPasswordResetConfirmationDialog:function(){try{$("#divCustomLogonDialog").dialog("close")}catch(n){}try{$("#divCustomSignUpDialog").dialog("close")}catch(n){}try{$("#divCustomLogonResetPasswordDialog").dialog("close")}catch(n){}try{$("#divCustomLogonResetPasswordConfirmationDialog").dialog("close")}catch(n){}$("#divCustomLogonResetPasswordConfirmationDialog").dialog({modal:!0,resizable:!1,closeOnEscape:!1,title:"Sign Up",width:"480",dialogClass:"no-close",hide:!1,open:function(){$(".ui-widget-overlay").bind("click",function(){$("#divCustomLogonResetPasswordConfirmationDialog").dialog("close")})}});$("#divCustomLogonResetPasswordConfirmationDialog").dialog().parents(".ui-dialog").find(".ui-dialog-titlebar").remove()},cmdDisplayForgottenPasswordDialog:function(){try{$("#divCustomLogonDialog").dialog("close")}catch(t){}try{$("#divCustomSignUpDialog").dialog("close")}catch(t){}try{$("#divCustomLogonResetPasswordDialog").dialog("close")}catch(t){}try{$("#divCustomLogonResetPasswordConfirmationDialog").dialog("close")}catch(t){}$("#divCustomLogonResetPasswordDialog").dialog({modal:!0,resizable:!1,closeOnEscape:!1,title:"Sign Up",width:"720",dialogClass:"no-close",hide:!1,open:function(){$(".ui-widget-overlay").bind("click",function(){$("#divCustomLogonResetPasswordDialog").dialog("close")})}});$("#divCustomLogonResetPasswordDialog").dialog().parents(".ui-dialog").find(".ui-dialog-titlebar").remove();var n=localStorage.customlogonusername;$("#txtCustomLogonResetPasswordEmail").val(n)},displayResetPasswordDialog:function(n){var i,t;try{console.log("In displayResetPasswordDialog().");i=document.getElementById("divCustomLogonResetPasswordDialog");i||(i=document.createElement("div"),i.id="divCustomLogonResetPasswordDialog",i.style.display="none",document.body.appendChild(i),t="",t+='            <table style="width:100%;">',t+="                <tr>",t+='                    <td style="width:90%;">',t+="                        <span style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #3f3f3f;font-size: 30pt;font-weight:bold;\">Reset Password<\/span>",t+="                    <\/td>",t+='                    <td style="width:9%;"><\/td>',t+='                    <td style="width:1%;cursor:pointer;vertical-align:top;">',t+="                        <span class=\"dialogXButton\" style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;font-size: 30pt;font-weight:bold;\" onclick=\"$('#divCustomLogonResetPasswordDialog').dialog('close');\">X<\/span>",t+="                    <\/td>",t+="                <\/tr>",t+="            <\/table>",t+="            <br /><br />",t+='            <input type="text" autofocus="true" style="display:none;" /> <!-- This is here to prevent the first visible field from getting the cursor and showing the keyboard. -->',t+='            <span style="font-family: calibri;font-style:italic;">You will receive an email with instructions. For your security, use the same device to complete this password reset. It will expire in 5 minutes!<\/span><br /><br />',t+='            <span style="font-family: calibri;">Email Address<\/span><br />',t+="            <input type=\"text\" id=\"txtCustomLogonResetPasswordEmail\" style=\"WIDTH: 95%;font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;\" /><br />",t+="            <br />",t+='            <!--<input type="checkbox" />Remember me on this device.&nbsp;<a href="">?<\/a><br />-->',t+='            <div id="xxxx" class="divSignInButton" style="width:90%;text-align:center;line-height:1.1em;font-weight:bold;" onclick="$(\'.bwAuthentication\').bwAuthentication(\'cmdSendResetPasswordEmail\');">',t+="                Email Me",t+="            <\/div>",t+="            <br />",t+="            <span style=\"font-family: calibri;font-style:italic;\">Don't need to do this? <a href=\"javascript:$('.bwAuthentication').bwAuthentication('displaySignInDialog', true);\">Go back and Sign In.<\/a><\/span><br /><br />",t+='            <!--<span style="font-family: calibri;font-style:italic;"><a href="https://budgetworkflow.com">Go back to the home page.<\/a><\/span><br /><br />-->',i.innerHTML=t);i=document.getElementById("divCustomLogonResetPasswordConfirmationDialog");i||(i=document.createElement("div"),i.id="divCustomLogonResetPasswordConfirmationDialog",i.style.display="none",document.body.appendChild(i),t="",t+='            <table style="width:100%;">',t+="                <tr>",t+='                    <td style="width:90%;">',t+="                        <span style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #3f3f3f;font-size: 30pt;font-weight:bold;\">Reset Password<\/span>",t+="                    <\/td>",t+='                    <td style="width:9%;"><\/td>',t+='                    <td style="width:1%;cursor:pointer;vertical-align:top;">',t+="                        <span class=\"dialogXButton\" style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;font-size: 30pt;font-weight:bold;\" onclick=\"$('#divCustomLogonResetPasswordConfirmationDialog').dialog('close');\">X<\/span>",t+="                    <\/td>",t+="                <\/tr>",t+="            <\/table>",t+="            <br /><br />",t+='            <input type="text" autofocus="true" style="display:none;" /> <!-- This is here to prevent the first visible field from getting the cursor and showing the keyboard. -->',t+='            <span style="font-family: calibri;font-style:italic;">We have confirmed you are using the same device to complete this password reset.<\/span>',t+="            <br /><br />",t+='            <span style="font-family: calibri;">Choose a new password (4-15 characters)<\/span><br />',t+="            <input type=\"password\" id=\"txtCustomResetPassword\" style=\"WIDTH: 95%;font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;\" /><br />",t+="            <br />",t+="            <br />",t+='            <!--<input type="checkbox" />Remember me on this device.&nbsp;<a href="">?<\/a><br />-->',t+='            <div id="xxxx" class="divSignInButton" style="width:90%;text-align:center;line-height:1.1em;font-weight:bold;" onclick="$(\'.bwAuthentication\').bwAuthentication(\'cmdResetPasswordNow\');">',t+="                Reset password now!",t+="            <\/div>",t+="            <br />",t+="            <span style=\"font-family: calibri;font-style:italic;\">Don't need to do this? <a href=\"javascript:$('.bwAuthentication').bwAuthentication('displayCustomLogonDialog');\">Click here to Sign In.<\/a><\/span><br /><br />",i.innerHTML=t);$("#divCustomLogonResetPasswordDialog").dialog({modal:!0,resizable:!1,closeOnEscape:!1,title:"Sign Up",width:"720",dialogClass:"no-close",hide:!1,open:function(){$(".ui-widget-overlay").bind("click",function(){$("#divCustomLogonResetPasswordDialog").dialog("close")})}});$("#divCustomLogonResetPasswordDialog").dialog().parents(".ui-dialog").find(".ui-dialog-titlebar").remove();$("#txtCustomLogonResetPasswordEmail").val(n)}catch(r){console.log("Exception in bwAuthentication.js.displayResetPasswordDialog(): "+r.message+", "+r.stack);displayAlertDialog("Exception in bwAuthentication.js.displayResetPasswordDialog(): "+r.message+", "+r.stack)}},displayCreateFreeAccountDialog:function(n,t){var f,r,i;try{console.log("In bwAuthentication.js.displayCreateFreeAccountDialog().");f=this;r=$(".bwCircleDialog").bwCircleDialog("option","dialogElementId");$("#"+r).dialog("instance")&&$("#"+r).dialog("close");window.scrollTo(0,0);$(".bwActiveMenu").bwActiveMenu("adjustLeftSideMenu");t==!0&&(this.options.OnResizeDisplayValues=null);i="";this.options.OnResizeDisplayValues!=null&&this.options.OnResizeDisplayValues.Html?i=this.options.OnResizeDisplayValues.Html:(i+='<div style="" xcx="xcx9809-3" id="divCustomSignUpDialog">',i+='        <table style="width:100%;">',i+="            <tr>",i+='                <td style="width:90%;">',i+="                   <span style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #3f3f3f;font-size: 30pt;font-weight:bold;\">Create your account<\/span>",i+="                   <br />",i+='                   <span style="font-family: calibri;font-size:20pt;color:gray;">Sign up now!<\/span>',i+="                   <br />",i+="                <\/td>",i+='                <td style="width:9%;"><\/td>',i+='                <td style="width:1%;cursor:pointer;vertical-align:top;">',i+='                    <span class="dialogXButton" xcx="xcx123471210" style="font-size:95pt;cursor:pointer;width:100%;font-weight:bold;" onclick="$(\'.bwCircleDialog\').bwCircleDialog(\'hideCircleDialog\');">X<\/span>',i+="                <\/td>",i+="            <\/tr>",i+="        <\/table>",i+="        <br />",i+='        <input type="text" autofocus="true" style="display:none;" /> <!-- This is here to prevent the first visible field from getting the cursor and showing the keyboard. -->',i+="        <span id=\"spanCustomSignUpDialogInvitationDescriptionText\" style=\"font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #3f3f3f;font-size: 20pt;\"><\/span>",i+='        <span style="font-family: calibri;">Email Address<\/span><br />',i+="        <input type=\"text\" id=\"txtCustomSignUpEmail\" style=\"WIDTH: 95%;font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;\" /><br /><br />",i+='        <span style="font-family: calibri;">Name<\/span><br />',i+="        <input type=\"text\" id=\"txtCustomSignUpFriendlyName\" style=\"WIDTH: 95%;font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;\" /><br /><br />",i+='        <span style="font-family: calibri;">Choose a password (4-15 characters). <span style="color:gray;font-style:italic;">To help ensure your password is secure, include a special character, and a number, with upper and lower case characters.<\/span><\/span><br />',i+="        <input type=\"password\" id=\"txtCustomSignUpPassword\" onkeydown=\"return carriagereturnpress(event, 'newUserProvisioning_Custom');\" style=\"WIDTH: 95%;font-family: 'Segoe UI Light','Segoe UI','Segoe',Tahoma,Helvetica,Arial,sans-serif;color: #262626;font-size: 20pt;\" /><br />",i+="        <br />",i+='        <!--<input type="checkbox" />Remember me on this device.&nbsp;<a href="">?<\/a><br />-->',i+='        <div id="xxxx" class="divSignInButton" style="width:90%;text-align:center;line-height:1.1em;font-weight:bold;" onclick="$(\'.bwAuthentication\').bwAuthentication(\'newUserProvisioning_Custom\');">',i+="            Create your account now!",i+="        <\/div>",i+="        <br />",i+='        <span style="font-family: calibri;font-style:italic;">Already have an account? <!--<a href="javascript:cmdSignInNow(\'divCustomSignUpDialog\');">Sign in now.<\/a>--><\/span>',i+="        <br /><br />",i+='        <div id="xcx121235" class="divSignInButton" style="width: 90%; text-align: center; line-height: 1.1em; font-weight: bold;" onclick="$(\'.bwAuthentication\').bwAuthentication(\'displaySignInDialog\', true);">',i+="            Sign in now",i+="        <\/div>",i+="",i+="        <br /><br />",i+='        <!--<span style="font-family: calibri;font-style:italic;"><a href="https://budgetworkflow.com">Go back to the home page.<\/a><\/span><br /><br />-->',i+="    <\/div>");$("#"+r).html(i);$("#"+r).dialog({modal:!1,resizable:!1,closeOnEscape:!1,width:"550",dialogClass:"no-close",hide:!1,position:{my:"center top",at:"center top+150","of":window},close:function(){$("#"+r).dialog("destroy")},open:function(){try{$(".bwCircleDialog").bwCircleDialog("displayDialog")}catch(n){console.log("Exception in bwAuthentication.displayCreateFreeAccountDialog():2: "+n.message+", "+n.stack);displayAlertDialog("Exception in bwAuthentication.displayCreateFreeAccountDialog():2: "+n.message+", "+n.stack)}}})}catch(u){console.log("Exception in bwAuthentication.displayCreateFreeAccountDialog(): "+u.message+", "+u.stack);displayAlertDialog("Exception in bwAuthentication.displayCreateFreeAccountDialog(): "+u.message+", "+u.stack)}},logonWith_BudgetWorkflow_SwitchToMobileVersion:function(){var n;try{console.log("In logonWith_BudgetWorkflow_SwitchToMobileVersion().");var f=this,r=localStorage.customlogonusername,u=localStorage.customlogonpassword,t=[];t={userEmailAddress:r,userPassword:u};n=webserviceurl+"/bwworkflow/usercustomlogon";$.ajax({url:n,timeout:ajaxTimeout,type:"POST",data:t,headers:{Accept:"application/json; odata=verbose"},success:function(n){if(n.message!="The password is correct")displayAlertDialog(n.message);else{var i=n.bwActiveStateIdentifier,t=appweburl+"/ios8.html?ActiveStateIdentifier="+i;console.log("xcx6Setting window.location: "+t);alert("Setting window.location. xcx213124-26.");window.location=t}},error:function(t,i,r){i==="timeout"?(displayAlertDialog("Our back end server/database is not responding. Please try again in a few minutes."),WriteToErrorLog("LOGIN FAILURE1!!!!!!!!!!! Error in bwAuthentication.logonWith_BudgetWorkflow_SwitchToMobileVersion(): "+n+", "+i+", "+r+", "+JSON.stringify(t))):JSON.stringify(t).toUpperCase().indexOf("ERROR 503 SERVICE UNAVAILABLE")>-1?(displayAlertDialog("Our back end database is not responding. Please try again in a few minutes."),WriteToErrorLog("LOGIN FAILURE1!!!!!!!!!!! Error in bwAuthentication.logonWith_BudgetWorkflow_SwitchToMobileVersion(): "+n+", "+i+", "+r+", "+JSON.stringify(t))):(displayAlertDialog("Error in bwAuthentication.logonWith_BudgetWorkflow(). Incorrect .js file version:2: "+n+", "+i+", "+r+", "+JSON.stringify(t)),WriteToErrorLog("Error in bwAuthentication.logonWith_BudgetWorkflow_SwitchToMobileVersion(). Incorrect .js file version: "+n+", "+i+", "+r+", "+JSON.stringify(t)))}})}catch(i){console.log("Exception in logonWith_BudgetWorkflow_SwitchToMobileVersion(): "+i.message+", "+i.stack)}},initializeTheForm_Mobile:function(){try{}catch(n){handleExceptionWithAlert("Error in initializeTheForm()",n.message+", "+n.stack)}},initializeTheLogonForParticipantIdAndDisplayUnsubscribePage:function(n){try{console.log("In bwAuthentication.js.initializeTheLogonForParticipantIdAndDisplayUnsubscribePage(). participantId: "+n);alert("In bwAuthentication.js.initializeTheLogonForParticipantIdAndDisplayUnsubscribePage(). participantId: "+n);var i=this,t,r=webserviceurl+"/getparticipantlogontype/"+n;$.ajax({url:r,method:"GET",headers:{Accept:"application/json; odata=verbose"},success:function(n){var u,f,r;if(t=n[0].bwParticipantLogonType,t=="facebook")window.fbAsyncInit=function(){FB.init({appId:"39139756228",cookie:!0,xfbml:!0,version:"v2.2"});checkFbLoginState()},function(n,t,i){var r,u=n.getElementsByTagName(t)[0];n.getElementById(i)||(r=n.createElement(t),r.id=i,r.src="//connect.facebook.net/en_US/sdk.js",u.parentNode.insertBefore(r,u))}(document,"script","facebook-jssdk");else if(t=="microsoft"){var e=window.location.href,o=e.split("#")[1],s=o.split("access_token=")[1],h=s.split("&")[0],c="https://apis.live.net/v5.0/me?access_token="+h;$.ajax({url:c,method:"GET",headers:{Accept:"application/json; odata=verbose"},success:function(n){participantLogonType="microsoft";participantLogonTypeUserId=n.id;participantFriendlyName=n.name;i.loadRemainingJsAndCssAndBWMData()},error:function(n,t,i){displayAlertDialog("Error:"+t+":"+i+":"+JSON.stringify(n))}})}else if(t=="google"){alert("xcx88653-7 DEV:Check code.");u="Google logon...";f="";try{f=this.getUrlParams().unsubscribe.toString().split("#")[0]}catch(y){}f!=""&&(r="",r+="<hr>It would be better if you can log in prior to completing your email unsubscribe request, but if you prefer to do it now <br />",r+='then you can <a href="javascript:cmdForceUnsubscribe();">Click here to unsubscribe<\/a><br /><br />',r+="<hr>",r+="<i>You will receive a confirmation email. We send this out to ensure you have authorized this request.<br /><br />",r+="We will also send emails to the participants of the workflow so they know you won't be participating in the workflows.<\/i>",u="Unsubscribe...",$("#divGoogleLogonButtonUnsubscribeOptions").html(r),$("#divGoogleLogonButtonUnsubscribeOptions").show());$("#divGoogleLogonButton").dialog({modal:!0,resizable:!1,closeText:"Cancel",closeOnEscape:!0,title:u,width:"650px",dialogClass:"no-close",hide:!1});var l=function(){gapi.client.load("oauth2","v2",function(){gapi.client.oauth2.userinfo.get().execute(function(n){participantLogonType="google";participantLogonTypeUserId=n.id;participantFriendlyName=n.name;participantEmail=n.email;try{$("#divGoogleLogonButton").dialog("close")}catch(t){}participantLogonTypeUserId?i.loadRemainingJsAndCssAndBWMData():(console.log("xcx8Setting window.location: "+location),alert("In bwAuthentication.js.xx(). setting window.location!! xcx343245342-8"),window.location="index.html")})})},a={callback:l,approvalprompt:"force",clientid:googleOAuth2ClientId,scope:"https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email",requestvisibleactions:"http://schemas.google.com/CommentActivity http://schemas.google.com/ReviewActivity",cookiepolicy:"single_host_origin"},v=function(){gapi.signin.render("renderMe",a)};v()}},error:function(n,t,i){displayAlertDialog("You have no internet connectivity, or the website is not processing requests at this time. Additional information: Error in my.js.initializeTheLogonForParticipantIdAndDisplayUnsubscribePage():1:",t+", "+i+" data:"+n)}})}catch(u){handleExceptionWithAlert("Error in my.js.initializeTheLogonForParticipantIdAndDisplayUnsubscribePage():2:",u.message)}}});