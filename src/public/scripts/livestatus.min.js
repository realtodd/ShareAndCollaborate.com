"use strict";function carriagereturnpress(e,functioncall){var evt=e||window.event;evt.keyCode===13&&eval(functioncall)()}function cmdRenderVisitorActivityReport(){try{$.ajax({url:webserviceurl+"/indexpagevisitorcount",type:"DELETE",contentType:"application/json",success:function(n){var u=[],i,r,o,h,v,t,s,y;for(u=[],i=[],i=[],r=[],r=[],t=0;t<n.length;t++){var f=n[t].bwWebsiteTrafficLogEntryCreatedTimestamp.split("T")[0],c=f.split("-")[1],l=f.split("-")[2],a=f.split("-")[0],e=c+"/"+l+"/"+a;i.indexOf(e)==-1?(i.push(e),r.push(1)):(o=i.indexOf(e),h=r[o],r[o]=h+1)}for(v="",t=0;t<i.length;t++)u.push([i[t],r[t]]);s=[];s.push(u);y=$.jqplot("divBwVisitorActivityReport",s,{title:"Visitor Activity Report (index page visits)<br />THIS HAS BEEN MOVED TO NGINX. FIX THIS!!!",seriesDefaults:{renderer:$.jqplot.BarRenderer,pointLabels:{show:!0}},axes:{xaxis:{renderer:$.jqplot.DateAxisRenderer,tickOptions:{formatString:"%B %#d %Y"}}},cursor:{show:!0,zoom:!0,showTooltip:!0}})},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdRenderVisitorActivityReport():"+t+", "+i)}})}catch(n){displayAlertDialog("Error in cmdRenderVisitorActivityReport(): "+n.message)}}function cmdRenderLogonActivityReport(){try{$.ajax({url:webserviceurl+"/logonactivityvisitorcount",type:"DELETE",contentType:"application/json",success:function(n){var f,u,i,r,s,c,y,t,h,p;if(n.length==0)f="",f+="There has been no logon activity.",document.getElementById("divBwLogonActivityReport").innerHTML=f;else{for(document.getElementById("divBwLogonActivityReport").innerHTML="",u=[],u=[],i=[],i=[],r=[],r=[],t=0;t<n.length;t++){var e=n[t].bwWebsiteTrafficLogEntryCreatedTimestamp.split("T")[0],l=e.split("-")[1],a=e.split("-")[2],v=e.split("-")[0],o=l+"/"+a+"/"+v;i.indexOf(o)==-1?(i.push(o),r.push(1)):(s=i.indexOf(o),c=r[s],r[s]=c+1)}for(y="",t=0;t<i.length;t++)u.push([i[t],r[t]]);h=[];h.push(u);p=$.jqplot("divBwLogonActivityReport",h,{title:"Logon Activity Report",seriesDefaults:{renderer:$.jqplot.BarRenderer,pointLabels:{show:!0}},axes:{xaxis:{renderer:$.jqplot.DateAxisRenderer,tickOptions:{formatString:"%B %#d %Y"}},yaxis:{pad:1.3}},cursor:{show:!0,zoom:!0,showTooltip:!0}})}},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdRenderLogonActivityReport():"+t+", "+i)}})}catch(n){displayAlertDialog("Error in cmdRenderLogonActivityReport(): "+n.message)}}function statusChangeCallback(n){console.log("statusChangeCallback");console.log(n);n.status==="connected"?testAPI():document.getElementById("status").innerHTML=n.status==="not_authorized"?"Please log into this app.":"Use your FaceBook Id to log in to your own Budget Request system."}function checkLoginState(){FB.getLoginStatus(function(n){statusChangeCallback(n)})}function testAPI(){FB.api("/me",function(n){fbFriendlyName=n.name;fbUserIdNumber=n.id;fbEmail=n.email})}function cmdCreateDemo4User(){try{var n={bwParticipantId:"demo4userid",tenantTitle:"Tenant1",workflowAppTitle:"BudgetWorkflow1",financialAreaTitle1:"Miscellaneous (express setup)",participantFriendlyName:"Todd Hiltz",participantEmail:"todd_hiltz@hotmail.com",appweburl:appweburl};$.ajax({url:webserviceurl+"/createdemouser",type:"PUT",contentType:"application/json",data:JSON.stringify(n),success:function(n){displayAlertDialog(n)},error:function(n,t,i){displayAlertDialog("Error in my.js.cmdCreateANewTenant():1:"+t+", "+i+", "+JSON.stringify(n))}})}catch(t){displayAlertDialog("Error in my.js.cmdCreateANewTenant():2:"+t.message)}}function displayStatusOfFileServices(){var n=globalUrlPrefix+globalUrlForWebServices+"/_files/getstatusoffileservices";$.ajax({url:n,type:"GET",contentType:"application/json",success:function(n){var t="";t+=n=="SUCCESS"?'<span style="color:#009933;">responding<\/span>':'<span style="color:#ff0000;">'+n+"<\/span>";document.getElementById("spanAttachmentsServerStatus").innerHTML=t},error:function(n,t,i){var r="";r+='<span style="color:#ff0000;">'+i+"<\/span>";document.getElementById("spanAttachmentsServerStatus").innerHTML=r}})}function cmdRefreshAdminPage(){cmdDisplayWebsiteTrafficAudienceSize();cmdDisplayWebsiteTrafficNumberOfParticipants();cmdDisplayWebsiteTrafficNumberOfTenants();cmdDisplayWebsiteErrorThreats();cmdGetStatusOfWorkflowTimer();cmdGetStatusOfImap();cmdDisplayNumberOfLicenses();displayStatusOfFileServices();cmdRenderVisitorActivityReport();cmdRenderLogonActivityReport();$("#txtBwExceptionLogDetails").empty()}function populateTheTenantToDeleteDropDown(){$.ajax({url:webserviceurl+"/bwtenantsfindall",type:"DELETE",contentType:"application/json",success:function(n){var i="",t;for(i+='<select id="selectAdminTenantSelectListForDeleteDropDown">',t=0;t<n.length;t++)i+='<option value="'+n[t].bwTenantId+'" >'+n[t].bwTenantOwnerFriendlyName+"("+n[t].bwTenantOwnerEmail+")<\/option>";i+="<\/select>";document.getElementById("spanAdminTenantSelectListForDeleteDropDown").innerHTML=i},error:function(n,t,i){displayAlertDialog("Error in admin.js.populateTheTenantToDeleteDropDown():"+t+", "+i)}})}function cmdAdminDeleteSelectedTenant(){var t,u;try{var n=document.getElementById("selectAdminTenantSelectListForDeleteDropDown"),i=n.options[n.selectedIndex].value,r=n.options[n.selectedIndex].text,f=r.split("(")[1].split(")")[0],e=confirm("Delete User and Tenant owned by "+r+" (bwTenantId: "+i+")\n\nThis action cannot be undone.\n\nClick the OK button to proceed...");e&&(t=[],t={bwTenantId:i,tenantOwnerEmail:f},u=webserviceurl+"/bwtenant/deletethistenant",$.ajax({url:u,type:"POST",timeout:ajaxTimeout,data:t,headers:{Accept:"application/json; odata=verbose"},success:function(n){n.message=="SUCCESS"?displayAlertDialog("The Tenant has been deleted: "+JSON.stringify(n)):displayAlertDialog("The Tenant did not delete successfully: "+JSON.stringify(n))},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdAdminDeleteSelectedTenant(): "+i)}}))}catch(n){displayAlertDialog("Error in admin.js.cmdAdminDeleteSelectedTenant():2:. Message: "+n.message+" Description: "+n.description)}}function cmdAdminFindOrphanedTasks(){try{var t=webserviceurl+"/findorphanedtasks";$.ajax({url:t,type:"POST",timeout:ajaxTimeout,data:{},headers:{Accept:"application/json; odata=verbose"},success:function(n){n.message=="SUCCESS"?displayAlertDialog(JSON.stringify(n)):displayAlertDialog(JSON.stringify(n))},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdAdminDeleteSelectedTenant(): "+i)}})}catch(n){displayAlertDialog("Exception in admin.js.cmdAdminFindOrphanedTasks():2: "+n.message+", "+n.stack)}}function hideWorkingOnItDialog(){try{$("#divWorkingOnItDialog").dialog("close")}catch(n){}}function cmdCloseError(){$("#divAlertDialog").dialog("close")}function displayAlertDialog(n){var t,i;hideWorkingOnItDialog();try{WriteToErrorLog("displayAlertDialog()",n)}catch(r){}if(t=!1,$("#divAlertDialog").hasClass("ui-dialog-content")&&$("#divAlertDialog").dialog("isOpen")&&(t=!0),t==!1){$("#divAlertDialog").dialog({modal:!0,resizable:!1,closeOnEscape:!1,title:"Alert",width:"720",dialogClass:"no-close",hide:!1,open:function(){$(".ui-widget-overlay").bind("click",function(){$("#divAlertDialog").dialog("close")})}});$("#divAlertDialog").dialog().parents(".ui-dialog").find(".ui-dialog-titlebar").remove();try{n.toString().toUpperCase().indexOf("SERVICE UNAVAILABLE")>-1?(i="",i+="We apologize! It looks like our servers are unavailable at the moment.",document.getElementById("spanErrorMessage").innerHTML=i,connectionTimerObject=setInterval("checkConnectionAndRemoveAlertDialog()",6e3)):document.getElementById("spanErrorMessage").innerHTML=n}catch(r){displayAlertDialog(r.message)}}}function cmdAdminLogon(){var t,n,i;try{t=$("#txtEarlyAdopterCode").val();n=[];n={userPassword:t};i=webserviceurl+"/bwworkflow/adminlogon";$.ajax({url:i,type:"POST",timeout:ajaxTimeout,data:n,headers:{Accept:"application/json; odata=verbose"},success:function(n){n.message!="The password is correct"?displayAlertDialog(n.message):($("#divBody").show(),$("#adminLogonDialog").dialog("close"),cmdRenderVisitorActivityReport(),cmdRenderLogonActivityReport())},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdAdminLogon(): "+i)}})}catch(r){displayAlertDialog("Error in admin.js.cmdAdminLogon():2:. Message: "+r.message+" Description: "+r.description)}}function renderWelcomeScreen_BackendAdministration(){try{try{document.getElementById("spanNotLoggedInBetaBanner").style.display="none";document.getElementById("spanLoggedInBetaBanner").style.display="block"}catch(n){}document.getElementById("divAdminLoginScreen").style.display="none";document.getElementById("divBody").style.display="inline";webserviceurl=globalUrlPrefix+globalUrlForWebServices+"/_bw";appweburl=globalUrlPrefix+globalUrlForWebServices;appweburl2=globalUrlPrefix+globalUrl;initializeTheForm()}catch(n){console.log("Exception in my.js.renderWelcomeScreen_BackendAdministration():6:",n.message+", "+n.stack);displayAlertDialog("Exception in my.js.renderWelcomeScreen_BackendAdministration():6:",n.message)}}function renderLeftButtons(n){var i,r,t;try{try{r=$("#selectHomePageWorkflowAppDropDown option:selected").val();i=r.split("|")[1]}catch(u){i="owner"}var f="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,i=n=="x"?t:t&3|8;return i.toString(16)}),e=globalUrlPrefix+globalUrl+"/_files/"+workflowAppId+"/orgimages/root/orgimage.png?v="+f,o=function(n){return new Promise(function(t,i){$.get(n).done(function(){var t=new Image;t.src=n;t.onload=function(t){try{try{for(var r=1;r<20;r++)document.getElementById("orgImage_root_blueheaderbar"+r).src=n}catch(t){}}catch(t){console.log("Exception in renderLeftButtons().img.onload(): "+t.message+", "+t.stack);i()}}}).fail(function(){t()})})};o(e);t="";t+="";t+='<table style="width:100%;padding:0 0 0 0;margin:0 0 0 0;">';i=="owner"?(t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;">',t+='<div id="'+n+"WelcomeButton\" class=\"divLeftButton\" onclick=\"populateStartPageItem('divWelcome', 'Reports', '');\">Home<\/div>",t+="<\/td>",t+="<\/tr>",t+="<tr><td><\/td><\/tr>",t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;border-width:0 0 0 0;">',t+='<div id="'+n+"NewRequestButton\" class=\"divLeftButton\" onclick=\"$('.bwRequest').bwRequest('displayCreateRequestForm', 'budgetrequest');\">New Request<\/div>",t+="<\/td>",t+="<\/tr>",t+="<tr><td><\/td><\/tr>",t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;border-width:0 0 0 0;">',t+='<div id="'+n+'ArchiveButton" class="divLeftButton" onclick="renderArchive();">All Requests<\/div>',t+="<\/td>",t+="<\/tr>",t+="<tr><td><\/td><\/tr>",t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;border-width:0 0 0 0;">',t+='<div id="'+n+'VisualizationsButton" class="divLeftButton" onclick="renderTrackSpending();">Track Spending&nbsp;&nbsp;&nbsp;&nbsp;<\/div>',t+="<\/td>",t+="<\/tr>",t+="<tr><td><\/td><\/tr>",t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;border-width:0 0 0 0;">',t+='<div id="'+n+"ConfigurationButton\" class=\"divLeftButton\" onclick=\"populateStartPageItem('divConfiguration', 'Reports', '');\">Configuration&nbsp;&nbsp;<\/div>",t+="<\/td>",t+="<\/tr>"):i=="archiveviewer"?(t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;">',t+='<div id="'+n+"WelcomeButton\" class=\"divLeftButton\" onclick=\"populateStartPageItem('divWelcome', 'Reports', '');\">Home<\/div>",t+="<\/td>",t+="<\/tr>",t+="<tr><td><\/td><\/tr>",t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;border-width:0 0 0 0;">',t+='<div id="'+n+"NewRequestButton\" class=\"divLeftButton\" onclick=\"$('.bwRequest').bwRequest('displayCreateRequestForm', 'budgetrequest');\">New Request<\/div>",t+="<\/td>",t+="<\/tr>",t+="<tr><td><\/td><\/tr>",t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;border-width:0 0 0 0;">',t+='<div id="'+n+'ArchiveButton" class="divLeftButton" onclick="renderArchive();">All Requests<\/div>',t+="<\/td>",t+="<\/tr>",t+="<tr><td><\/td><\/tr>",t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;border-width:0 0 0 0;">',t+='<div id="'+n+"ConfigurationButton\" class=\"divLeftButton\" onclick=\"populateStartPageItem('divConfiguration', 'Reports', '');\">Configuration&nbsp;&nbsp;<\/div>",t+="<\/td>",t+="<\/tr>"):i=="reportviewer"?(t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;">',t+='<div id="'+n+"WelcomeButton\" class=\"divLeftButton\" onclick=\"populateStartPageItem('divWelcome', 'Reports', '');\">Home<\/div>",t+="<\/td>",t+="<\/tr>",t+="<tr><td><\/td><\/tr>",t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;border-width:0 0 0 0;">',t+='<div id="'+n+"NewRequestButton\" class=\"divLeftButton\" onclick=\"$('.bwRequest').bwRequest('displayCreateRequestForm', 'budgetrequest');\">New Request<\/div>",t+="<\/td>",t+="<\/tr>",t+="<tr><td><\/td><\/tr>",t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;border-width:0 0 0 0;">',t+='<div id="'+n+'ArchiveButton" class="divLeftButton" onclick="renderArchive();">All Requests<\/div>',t+="<\/td>",t+="<\/tr>",t+="<tr><td><\/td><\/tr>",t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;border-width:0 0 0 0;">',t+='<div id="'+n+'VisualizationsButton" class="divLeftButton" onclick="renderTrackSpending();">Track Spending&nbsp;&nbsp;&nbsp;&nbsp;<\/div>',t+="<\/td>",t+="<\/tr>",t+="<tr><td><\/td><\/tr>",t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;border-width:0 0 0 0;">',t+='<div id="'+n+"ConfigurationButton\" class=\"divLeftButton\" onclick=\"populateStartPageItem('divConfiguration', 'Reports', '');\">Configuration&nbsp;&nbsp;<\/div>",t+="<\/td>",t+="<\/tr>"):i=="configurationmanager"?(t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;">',t+='<div id="'+n+"WelcomeButton\" class=\"divLeftButton\" onclick=\"populateStartPageItem('divWelcome', 'Reports', '');\">Home<\/div>",t+="<\/td>",t+="<\/tr>",t+="<tr><td><\/td><\/tr>",t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;border-width:0 0 0 0;">',t+='<div id="'+n+"NewRequestButton\" class=\"divLeftButton\" onclick=\"$('.bwRequest').bwRequest('displayCreateRequestForm', 'budgetrequest');\">New Request<\/div>",t+="<\/td>",t+="<\/tr>",t+="<tr><td><\/td><\/tr>",t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;border-width:0 0 0 0;">',t+='<div id="'+n+'ArchiveButton" class="divLeftButton" onclick="renderArchive();">All Requests<\/div>',t+="<\/td>",t+="<\/tr>",t+="<tr><td><\/td><\/tr>",t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;border-width:0 0 0 0;">',t+='<div id="'+n+'VisualizationsButton" class="divLeftButton" onclick="renderTrackSpending();">Track Spending&nbsp;&nbsp;&nbsp;&nbsp;<\/div>',t+="<\/td>",t+="<\/tr>",t+="<tr><td><\/td><\/tr>",t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;border-width:0 0 0 0;">',t+='<div id="'+n+"ConfigurationButton\" class=\"divLeftButton\" onclick=\"populateStartPageItem('divConfiguration', 'Reports', '');\">Configuration&nbsp;&nbsp;<\/div>",t+="<\/td>",t+="<\/tr>"):i=="participant"?(t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;">',t+='<div id="'+n+"WelcomeButton\" class=\"divLeftButton\" onclick=\"populateStartPageItem('divWelcome', 'Reports', '');\">Home<\/div>",t+="<\/td>",t+="<\/tr>",t+="<tr><td><\/td><\/tr>",t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;border-width:0 0 0 0;">',t+='<div id="'+n+"NewRequestButton\" class=\"divLeftButton\" onclick=\"$('.bwRequest').bwRequest('displayCreateRequestForm', 'budgetrequest');\">New Request<\/div>",t+="<\/td>",t+="<\/tr>",t+="<tr><td><\/td><\/tr>",t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;border-width:0 0 0 0;">',t+='<div id="'+n+"ConfigurationButton\" class=\"divLeftButton\" onclick=\"populateStartPageItem('divConfiguration', 'Reports', '');\">Configuration&nbsp;&nbsp;<\/div>",t+="<\/td>",t+="<\/tr>"):(displayAlertDialog("Error in renderLeftButtonsForRole("+i+")"),t+="<tr>",t+='<td style="padding:0 0 0 10px;margin:0 0 0 0;">',t+='<div id="'+n+"WelcomeButton\" class=\"divLeftButton\" onclick=\"populateStartPageItem('divWelcome', 'Reports', '');\">Home<\/div>",t+="<\/td>",t+="<\/tr>");t+="<\/table>";t+='<input type="text" autofocus="true" style="display:none;" /> <!-- This is here to prevent the first visible field from getting the cursor and showing the keyboard. -->';document.getElementById(n).innerHTML=t;switch(n){case"divWelcomePageLeftButtons":document.getElementById(n+"WelcomeButton").className="divLeftButtonSelected";break;case"divNewRequestPageLeftButtons":document.getElementById(n+"NewRequestButton").className="divLeftButtonSelected";break;case"divArchivePageLeftButtons":document.getElementById(n+"ArchiveButton").className="divLeftButtonSelected";break;case"divSummaryPageLeftButtons":document.getElementById(n+"SummaryButton").className="divLeftButtonSelected";break;case"divConfigurationPageLeftButtons":document.getElementById(n+"ConfigurationButton").className="divLeftButtonSelected";break;case"divHelpPageLeftButtons":document.getElementById(n+"HelpButton").className="divLeftButtonSelected";break;case"divVisualizationsPageLeftButtons":document.getElementById(n+"VisualizationsButton").className="divLeftButtonSelected";break;default:displayAlertDialog("Error in renderLeftButtons("+n+").")}}catch(u){console.log("Exception in renderLeftButtons(): "+u.message+", "+u.stack)}}function populateStartPageItem(n){var h,c,r,u,e,o,t,s,i;try{if(n=="divWelcome"){try{$("#FormsEditorToolbox").dialog("close")}catch(f){}t=document.getElementById("myCanvas");t&&(s=t.getContext("2d"),s.clearRect(0,0,t.width,t.height),t.style.zIndex=-1);renderWelcomeScreen();$("#bwQuickLaunchMenuTd").css({width:"0"});$("#liWelcome").show();$("#liNewRequest").hide();$("#liArchive").hide();$("#liSummaryReport").hide();$("#liConfiguration").hide();$("#liVisualizations").hide();$("#liHelp").hide();$("#divWelcomeMasterDiv").show();i=document.getElementById("divWelcomeMasterDiv");i.style.borderRadius="20px 0 0 20px";renderLeftButtons("divWelcomePageLeftButtons")}else if(n=="divNewRequestOffline"){console.log('In my.js.populateStartPageItem("divNewRequestOffline").');try{h="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,i=n=="x"?t:t&3|8;return i.toString(16)});document.getElementById("OfflineRequestBudgetRequestId").innerHTML=h;c="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,i=n=="x"?t:t&3|8;return i.toString(16)});document.getElementById("OfflineRequestRecurringExpenseId").innerHTML=c;document.getElementById("strOfflineRequestProjectTitle").value="";document.getElementById("strOfflineRequestBriefDescriptionOfProject").value="";document.getElementById("dblOfflineRequestRequestedCapital").value="";document.getElementById("dtOfflineRequestEstimatedStartDate").value="";document.getElementById("dtOfflineRequestEstimatedEndDate").value="";document.getElementById("OfflineRequestnewrequestattachments").value="";document.getElementById("strOfflineRequestProjectTitle").innerHTML="";document.getElementById("strOfflineRequestBriefDescriptionOfProject").innerHTML="";document.getElementById("dblOfflineRequestRequestedCapital").innerHTML="";document.getElementById("OfflineRequestnewrequestattachments").innerHTML="";try{document.getElementById("spanNotLoggedInBetaBanner").style.display="none";document.getElementById("spanLoggedInBetaBanner").style.display="block"}catch(f){}for($("#bwStartPageAccordion").show(),$("#liWelcome").hide(),$("#liOfflineWelcome").hide(),$("#liSummaryReport").hide(),$("#liVisualizations").hide(),$("#liConfiguration").hide(),$("#liArchive").hide(),$("#liNewRequest").hide(),$("#liAbout").show(),r=[],r=[],u=["budgetrequest","Budget Request","selected"],r.push(u),u=["quoterequest","Quote Request",""],r.push(u),u=["expenserequest","Reimbursement Request",""],r.push(u),u=["recurringexpense","Recurring Expense",""],r.push(u),e="",e+='<span style="font-size: 350%;">New <strong>',e+='<select id="selectOfflineNewRequestFormRequestTypeDropDown" style=\'border-color: whitesmoke; color: rgb(38, 38, 38); font-family: "Segoe UI Light","Segoe UI","Segoe",Tahoma,Helvetica,Arial,sans-serif; font-size: 1.0em; font-weight: bold; cursor: pointer;\'>',o=0;o<r.length;o++)e+='<option value="'+r[o][0]+'" '+r[o][2]+">"+r[o][1]+"<\/option>";e+="<\/select>";e+="<\/span>";document.getElementById("spanOfflineNewRequestFormRequestTypeDropDownSection").innerHTML=e;document.getElementById("spanOfflineNewRequestDetailsLabel").innerHTML='<span class="xdlabel">Justification details:<\/span>';document.getElementById("spanOfflineNewRequestStartDateLabel").innerHTML='<span class="xdlabel">Start date (estimated):<\/span>';document.getElementById("spanOfflineNewRequestEndDateLabel").innerHTML='<span class="xdlabel">End date (estimated):<\/span>';$("#trOfflineNewRequestAttachmentsSection").show();console.log("XXXXXXXXXXXXXXXXXXXXXXXXXXX")}catch(f){console.log('Exception in ios8.js.populateStartPageItem("divNewRequestOffline"): '+f.message+", "+f.stack);displayAlertDialog('Exception in ios8.js.populateStartPageItem("divNewRequestOffline"): '+f.message+", "+f.stack)}}else if(n=="divNewRequest")$(".bwRequest").bwRequest("displayCreateRequestForm","divCreateRequestFormContent");else if(n!="divArchive"&&n!="divSummaryReport")if(n=="divHelp"){$("#bwQuickLaunchMenuTd").css({width:"0"});try{$("#FormsEditorToolbox").dialog("close")}catch(f){}$("#liWelcome").hide();$("#liNewRequest").hide();$("#liArchive").hide();$("#liSummaryReport").hide();$("#liConfiguration").hide();$("#liHelp").show();$("#liVisualizations").hide();i=document.getElementById("divHelpMasterDiv");i.style.borderRadius="20px 0 0 20px";t=document.getElementById("myCanvas");t&&(s=t.getContext("2d"),s.clearRect(0,0,t.width,t.height),t.style.zIndex=-1);renderLeftButtons("divHelpPageLeftButtons");slideTransitionLastSystemTime=0;carouselImageTracker=0;document.getElementById("divCarouselPausePlay").innerHTML='<div id="divCarouselPausePlay2" class="carouselPausePlay" onclick="cmdCarouselImageIndicatorClick(\''+carouselImageTracker+'\');" style="cursor:pointer;white-space:nowrap;">pause slideshow<div>';setCarouselImageTracker();slideTransitionLastSystemTime=(new Date).getTime()/1e3}else if(n=="divConfiguration"){$("#bwQuickLaunchMenuTd").css({width:"0"});try{$("#FormsEditorToolbox").dialog("close")}catch(f){}$("#liWelcome").hide();$("#liNewRequest").hide();$("#liArchive").hide();$("#liSummaryReport").hide();$("#liHelp").hide();$("#liConfiguration").show();$("#liVisualizations").hide();i=document.getElementById("divConfigurationMasterDiv");i.style.borderRadius="20px 0 0 20px";i=document.getElementById("divFunctionalAreas");i.style.borderRadius="20px 0 0 20px";generateConfigurationLeftSideMenu();renderLeftButtons("divConfigurationPageLeftButtons")}else n=="divAddAFunctionalArea"?($("#bwQuickLaunchMenuTd").css({width:"0"}),$("#divFunctionalAreasMasterSubMenuDiv").text("Add a functional area:"),$("#btnFunctionalAreaDelete").hide(),$("#divFunctionalAreaSection").html($("#divFunctionalAreaTemplate").html()),$("#txtFunctionalAreaId").empty,document.getElementById("divMenuMasterDivAddAFunctionalArea").className="divLeftButtonSelected",$("#divFunctionalAreasMasterSubMenuDiv").show(),hookUpThePeoplePickers(),i=document.getElementById("divFunctionalAreas"),i.style.borderRadius="20px 0 0 20px"):n=="divFunctionalAreas"||n=="divLocations"||(n=="divBehavior"?$("#bwQuickLaunchMenuTd").css({width:"0"}):n=="divWorkflowSettings"||n=="divWorkflowEditorSettings"||n=="divChecklistsSettings")}catch(f){console.log("Error in my.js.populateStartPageItem("+n+") xcx59e46-2: "+f.message+", "+f.stack);displayAlertDialog("Error in my.js.populateStartPageItem("+n+") xcx59e46-2: "+f.message)}}function generateConfigurationLeftSideMenu(){$("#divConfigurationLeftSideMenu").empty();var n={bwParticipantId:participantId};$.ajax({url:webserviceurl+"/bwworkflowapps/listallforparticipant",type:"DELETE",contentType:"application/json",data:JSON.stringify(n),success:function(){renderConfigurationPersonalBehavior()},error:function(n,t,i){displayAlertDialog("Error in my.js.generateConfigurationLeftSideMenu():"+t+", "+i)}})}function renderConfigurationForms(){var t,i,n,r,f;try{$("#bwQuickLaunchMenuTd").css({width:"0"});t=document.getElementById("myCanvas");t&&(i=t.getContext("2d"),i.clearRect(0,0,t.width,t.height),t.style.zIndex=-1);$("#divFunctionalAreasMasterDiv").empty();$("#divFunctionalAreasMasterSubMenuDiv").hide();n="";n+='<table style="border-width: 0px; margin: 0px; padding: 0px; width: 100%;"><tbody><tr style="border-width: 0px; margin: 0px; padding: 0px;"><td style="border-width: 0px; margin: 0px; padding: 0px;">';n+='Forms: <span style="font-weight:bold;color:#95b1d3;">Configure the global system offline request forms...<\/span>';n+="<\/td><\/tr><\/tbody><\/table>";$("#divFunctionalAreasMasterDiv").html(n);disableFormsSettingsButton();$("#divFunctionalAreasSubSubMenus").empty();n="";n+='<div id="divFormsEditor" class="context-menu-formseditor" style="height:100vh;"><\/div>';$("#divFunctionalAreasSubSubMenus").html(n);r={BackendGlobalOfflineFormsEditing:!0,displayChecklistPicker:!0,bwTenantId:tenantId,bwWorkflowAppId:workflowAppId,checklistIndex:""};f=$("#divFormsEditor").bwFormsEditor(r)}catch(u){console.log("Exception in renderConfigurationForms(): "+u.message+", "+u.stack)}}function disableFormsSettingsButton(){try{console.log("In disableFormsSettingsButton().");document.getElementById("divBehaviorButton").className="divInnerLeftButton";document.getElementById("divParticipantsButton").className="divInnerLeftButton";document.getElementById("divWorkflowSettingsButton").className="divInnerLeftButton";document.getElementById("divWorkflowEditorSettingsButton").className="divInnerLeftButton";document.getElementById("divChecklistsSettingsButton").className="divInnerLeftButton";document.getElementById("divFormsSettingsButton").className="divInnerLeftButtonSelected";document.getElementById("divOrgRolesButton").className="divInnerLeftButton";document.getElementById("divMonitoringToolsButton").className="divInnerLeftButton"}catch(n){console.log("Exception in disableFormsSettingsButton(): "+n.message+", "+n.stack)}}function renderConfigurationPersonalBehavior(){var t,r,n,u,f,e;try{$("#bwQuickLaunchMenuTd").css({width:"0"});try{$("#FormsEditorToolbox").dialog("close")}catch(i){}t=document.getElementById("myCanvas");t&&(r=t.getContext("2d"),r.clearRect(0,0,t.width,t.height),t.style.zIndex=-1);newBudgetRequestManagerTitle==""&&(newBudgetRequestManagerTitle="Manager");$("#divFunctionalAreasMasterDiv").empty();$("#divFunctionalAreasMasterSubMenuDiv").hide();n="";n+='<table style="border-width: 0px; margin: 0px; padding: 0px; width: 100%;"><tbody><tr style="border-width: 0px; margin: 0px; padding: 0px;"><td style="border-width: 0px; margin: 0px; padding: 0px;">';n+='Personal/Behavior: <span style="font-weight:bold;color:#95b1d3;">Configure your personal/behavior settings...<\/span>';n+="<\/td><\/tr><\/tbody><\/table>";$("#divFunctionalAreasMasterDiv").html(n);disableBehaviorButton();$("#divFunctionalAreasSubSubMenus").empty();n="";n+='<table style="width:100%;">';n+="   <tr>";n+="       <td>";n+="           <h2>";n+='           Personal/Behavior Settings Editor: <span style="color:#95b1d3;">Configure your personal/behavior settings...<\/span>';n+="           <\/h2>";n+="       <\/td>";n+='       <td style="text-align:right;">';n+='           <span class="printButton" title="print" onclick="cmdPrintForm();">&#x1f5a8;<\/span>';n+="       <\/td>";n+="   <\/tr>";n+="<\/table>";n+='<table style="padding:0 0 0 0;margin:0 0 0 0;border-width:0 0 0 0;">';n+="  <tr>";n+="    <td>";n+='       <span style="font-size:small;font-style:italic;">These are your personal settings, which apply to all of your workflows.<\/span>';n+="   <\/td><\/tr><\/table>";n+="       <table>";n+="<tr><td>&nbsp;<\/td><\/tr>";n+="  <tr>";n+='    <td style="text-align:left;" class="bwSliderTitleCell">Send me email:<\/td>';n+='    <td class="bwChartCalculatorLightCurrencyTableCell">';n+='      <input type="radio" style="cursor:pointer;" id="rbMyEmailNotificationImmediately" name="rbgMyEmailNotificationFrequency" onclick="cmdRbgMyEmailNotificationFrequency_click(\'immediately\');" />&nbsp;<span id="spanRbEmailImmediately" style="color:gray;">Immediately<\/span>';n+="    <\/td>";n+="  <\/tr>";n+='<tr><td><\/td><td class="bwChartCalculatorLightCurrencyTableCell"><input type="radio" style="cursor:pointer;" id="rbMyEmailNotificationAggregated" name="rbgMyEmailNotificationFrequency" onclick="cmdRbgMyEmailNotificationFrequency_click(\'aggregatetwicedaily\');" />&nbsp;';n+='<span id="spanRbAggregateEmailTwiceDaily" style="color:gray;">Aggregate into an email sent twice daily at<br />';n+='<span style="float:right;">';n+='<select style="padding:5px 5px 5px 5px;" id="selectAggregateEmailTwiceDailyFirstTime" onchange="cmdRbgMyEmailNotificationFrequency_click(\'aggregatetwicedaily\');" disabled>';n+='<option value="1">1AM<\/option>';n+='<option value="2">2AM<\/option>';n+='<option value="3">3AM<\/option>';n+='<option value="4">4AM<\/option>';n+='<option value="5">5AM<\/option>';n+='<option value="6">6AM<\/option>';n+='<option value="7">7AM<\/option>';n+='<option value="8">8AM<\/option>';n+='<option value="9" selected>9AM<\/option>';n+='<option value="10">10AM<\/option>';n+='<option value="11">11AM<\/option>';n+='<option value="12">12PM<\/option>';n+='<option value="13">1PM<\/option>';n+='<option value="14">2PM<\/option>';n+='<option value="15">3PM<\/option>';n+='<option value="16">4PM<\/option>';n+='<option value="17">5PM<\/option>';n+='<option value="18">6PM<\/option>';n+='<option value="19">7PM<\/option>';n+='<option value="20">8PM<\/option>';n+='<option value="21">9PM<\/option>';n+='<option value="22">10PM<\/option>';n+='<option value="23">11PM<\/option>';n+='<option value="24">12AM<\/option>';n+="<\/select>";n+=" and ";n+='<select style="padding:5px 5px 5px 5px;" id="selectAggregateEmailTwiceDailySecondTime" onchange="cmdRbgMyEmailNotificationFrequency_click(\'aggregatetwicedaily\');" disabled>';n+='<option value="1">1AM<\/option>';n+='<option value="2">2AM<\/option>';n+='<option value="3">3AM<\/option>';n+='<option value="4">4AM<\/option>';n+='<option value="5">5AM<\/option>';n+='<option value="6">6AM<\/option>';n+='<option value="7">7AM<\/option>';n+='<option value="8">8AM<\/option>';n+='<option value="9">9AM<\/option>';n+='<option value="10">10AM<\/option>';n+='<option value="11">11AM<\/option>';n+='<option value="12">12PM<\/option>';n+='<option value="13">1PM<\/option>';n+='<option value="14">2PM<\/option>';n+='<option value="15">3PM<\/option>';n+='<option value="16" selected>4PM<\/option>';n+='<option value="17">5PM<\/option>';n+='<option value="18">6PM<\/option>';n+='<option value="19">7PM<\/option>';n+='<option value="20">8PM<\/option>';n+='<option value="21">9PM<\/option>';n+='<option value="22">10PM<\/option>';n+='<option value="23">11PM<\/option>';n+='<option value="24">12AM<\/option>';n+="<\/select>";n+="  ";n+='<select style="padding:5px 5px 5px 5px;" id="selectAggregateEmailTwiceDailyTimezoneDisplayName" onchange="cmdRbgMyEmailNotificationFrequency_click(\'aggregatetwicedaily\');" disabled>';n+='<option value="AST">AST<\/option>';n+='<option value="EST">EST<\/option>';n+='<option value="CST">CST<\/option>';n+='<option value="MST">MST<\/option>';n+='<option value="PST">PST<\/option>';n+="<\/select>";n+="<\/span>";n+="<\/span>";n+="<\/td><\/tr>";n+='   <tr><td colspan="2">&nbsp;<\/td><\/tr>';n+="<tr>";n+='  <td style="text-align:left;" class="bwSliderTitleCell">Send me this kind of email:<\/td>';n+='        <td class="bwChartCalculatorLightCurrencyTableCell">';n+='          <input type="radio" style="cursor:pointer;" id="rbMyEmailNotificationTypeAllNotifications" name="rbgMyEmailNotificationTypes" onclick="cmdRbgMyEmailNotificationTypes_click(\'allnotifications\');" />&nbsp;<span id="spanEmailNotificationTypeAllNotifications" style="color:gray;">All notifications<\/span>';n+="        <\/td>";n+="<\/tr>";n+="<tr>";n+="  <td><\/td>";n+='        <td class="bwChartCalculatorLightCurrencyTableCell">';n+='          <input type="radio" style="cursor:pointer;" id="rbMyEmailNotificationTypeOnlyTasks" name="rbgMyEmailNotificationTypes" onclick="cmdRbgMyEmailNotificationTypes_click(\'onlymytasknotifications\');" />&nbsp;<span id="spanEmailNotificationTypeOnlyTasks" style="color:gray;">Only my task notifications<\/span>';n+="        <\/td>";n+="<\/tr>";n+="<tr>";n+="  <td><\/td>";n+='        <td class="bwChartCalculatorLightCurrencyTableCell">';n+='          <input type="radio" style="cursor:pointer;" id="rbMyEmailNotificationTypeNoNotifications" name="rbgMyEmailNotificationTypes" onclick="cmdRbgMyEmailNotificationTypes_click(\'nonotifications\');" />&nbsp;<span id="spanEmailNotificationTypeNoNotifications" style="color:gray;">No email notifications<\/span>';n+="        <\/td>";n+="<\/tr>";n+='<tr><td colspan="2">&nbsp;<\/td><\/tr>';n+="<tr><td>&nbsp;<\/td><\/tr>";n+='<tr><td style="text-align:left;" class="bwSliderTitleCell">';n+="Display tips at the top of the page:&nbsp;<\/td>";n+='<td class="bwChartCalculatorLightCurrencyTableCell"><label for="configurationBehaviorTipsSlider"><\/label><input type="checkbox" name="configurationBehaviorTipsSlider" id="configurationBehaviorTipsSlider" /><\/td><\/tr>';n+="<tr><td>&nbsp;<\/td><\/tr>";n+="  <tr>";n+='    <td colspan="2">';n+='        <span style="font-size:small;font-style:italic;">When viewing a request from the Home page, you can choose to view the approval trail prior to displaying the request.<\/span>';n+="    <\/td><\/tr>";n+='   <tr><td style="text-align:left;" class="bwSliderTitleCell">';n+="           Display task details before displaying requests:<\/td>";n+='       <td class="bwChartCalculatorLightCurrencyTableCell"><label for="configurationBehaviorDisplayTaskDetailsBeforeRequestsPageSlider"><\/label><input type="checkbox" name="configurationBehaviorDisplayTaskDetailsBeforeRequestsPageSlider" id="configurationBehaviorDisplayTaskDetailsBeforeRequestsPageSlider" /><\/td><\/tr>';n+='   <tr><td colspan="2">&nbsp;<\/td><\/tr>';n+='   <tr><td style="text-align:left;" class="bwSliderTitleCell">';n+='           Display "Add a Person/Participant/Vendor" section on the home page:<\/td>';n+='       <td class="bwChartCalculatorLightCurrencyTableCell"><label for="configurationBehaviorDisplayInvitationsOnHomePageSlider"><\/label><input type="checkbox" name="configurationBehaviorDisplayInvitationsOnHomePageSlider" id="configurationBehaviorDisplayInvitationsOnHomePageSlider" /><\/td><\/tr>';n+='   <tr><td colspan="2">&nbsp;<\/td><\/tr>';n+='   <tr><td style="text-align:left;vertical-align:top;" class="bwSliderTitleCell">';n+="           Selected notification sound:<\/td>";n+='       <td class="bwChartCalculatorLightCurrencyTableCell" style="vertical-align:middle;">';n+='           <input checked="" type="radio" style="cursor:pointer;" name="cbSelectNotificationSound" />&nbsp;';n+="           <span style=\"cursor:pointer;\" onclick=\"$('.bwCoreComponent').bwCoreComponent('playNotificationSound_Random');\">";n+='               <img src="images/playbutton.jpg" style="width:55px;height:35px;vertical-align:middle;" />';n+="           <\/span>";n+='           <span style="cursor:pointer;">Random<\/span>';n+="           <br />";n+='           <input type="radio" style="cursor:pointer;" name="cbSelectNotificationSound" />&nbsp;';n+='           <span style="cursor:pointer;">';n+='               <img src="images/playbutton.jpg" style="width:55px;height:35px;vertical-align:middle;" />';n+="           <\/span>";n+='           <span style="cursor:pointer;">No Sound<\/span>';n+="           <br />";n+='           <input type="radio" style="cursor:pointer;" name="cbSelectNotificationSound" />&nbsp;';n+="           <span style=\"cursor:pointer;\" onclick=\"$('.bwCoreComponent').bwCoreComponent('playNotificationSound1');\">";n+='               <img src="images/playbutton.jpg" style="width:55px;height:35px;vertical-align:middle;" />';n+="           <\/span>";n+="           <span style=\"cursor:pointer;\" onclick=\"$('.bwCoreComponent').bwCoreComponent('playNotificationSound1');\">Star Trek<\/span>";n+="           <br />";n+='           <input type="radio" style="cursor:pointer;" name="cbSelectNotificationSound" />&nbsp;';n+="           <span style=\"cursor:pointer;\" onclick=\"$('.bwCoreComponent').bwCoreComponent('playNotificationSound2');\">";n+='               <img src="images/playbutton.jpg" style="width:55px;height:35px;vertical-align:middle;" />';n+="           <\/span>";n+="           <span style=\"cursor:pointer;\" onclick=\"$('.bwCoreComponent').bwCoreComponent('playNotificationSound2');\">Cash Register<\/span>";n+="           <br />";n+='           <input type="radio" style="cursor:pointer;" name="cbSelectNotificationSound" />&nbsp;';n+="           <span style=\"cursor:pointer;\" onclick=\"$('.bwCoreComponent').bwCoreComponent('playNotificationSound3');\">";n+='               <img src="images/playbutton.jpg" style="width:55px;height:35px;vertical-align:middle;" />';n+="           <\/span>";n+="           <span style=\"cursor:pointer;\" onclick=\"$('.bwCoreComponent').bwCoreComponent('playNotificationSound3');\">Crickets<\/span>";n+="       <\/td>";n+="   <\/tr>";n+='   <tr><td colspan="2">&nbsp;<\/td><\/tr>';n+="  <tr>";n+='    <td style="text-align:left;" class="bwSliderTitleCell">Auto-save form entry:<\/td>';n+='    <td class="bwChartCalculatorLightCurrencyTableCell">';n+='      <input type="radio" style="cursor:pointer;" id="rbAutosaveFormEntryImmediately" name="rbgMyEmailNotificationFrequency" onclick="cmdRbgAutosaveFormEntryFrequency_click(\'immediately\');" />&nbsp;<span id="spanRbAutosaveFormEntryImmediately" style="color:gray;">Immediately<\/span>';n+="    <\/td>";n+="  <\/tr>";n+="  <tr>";n+="    <td><\/td>";n+='    <td class="bwChartCalculatorLightCurrencyTableCell">';n+='      <input type="radio" style="cursor:pointer;" id="rbAutosaveFormEntryEverySixtySeconds" name="rbgMyEmailNotificationFrequency" onclick="cmdRbgAutosaveFormEntryFrequency_click(\'everysixtyseconds\');" />&nbsp;<span id="spanRbAutosaveFormEntryEverySixtySeconds" style="color:gray;">Every 60 seconds<\/span>';n+="    <\/td>";n+="  <\/tr>";n+="  <tr>";n+="    <td><\/td>";n+='    <td class="bwChartCalculatorLightCurrencyTableCell">';n+='      <input type="radio" style="cursor:pointer;" id="rbAutosaveFormEntryNever" name="rbgMyEmailNotificationFrequency" onclick="cmdRbgAutosaveFormEntryFrequency_click(\'never\');" />&nbsp;<span id="spanRbAutosaveFormEntryNever" style="color:gray;">Never<\/span>';n+="    <\/td>";n+="  <\/tr>";n+="  <tr>";n+="    <td><\/td>";n+='    <td class="bwChartCalculatorLightCurrencyTableCell">';n+='      <input type="radio" style="cursor:pointer;" id="rbAutosaveFormEntrySaveToMyDevice" name="rbgMyEmailNotificationFrequency" onclick="cmdRbgAutosaveFormEntryFrequency_click(\'savetomydevice\');" />&nbsp;<span id="spanRbAutosaveFormEntrySaveToMyDevice" style="color:gray;">Save to my device<\/span>';n+="    <\/td>";n+="  <\/tr>";n+='<tr><td colspan="2">&nbsp;<\/td><\/tr>';n+="  <tr>";n+='    <td colspan="2">';n+='        <span style="font-size:small;font-style:italic;">Lazy loading affects network performance. You can set how you wish. It is a compromise!<\/span>';n+='        <span style="font-size:smaller;font-style:italic;color:lightgrey;">This functionality is incomplete. Coming soon!<\/span>';n+="    <\/td><\/tr>";n+='   <tr><td style="text-align:left;" class="bwSliderTitleCell">';n+="           Lazy loading:<\/td>";n+='       <td class="bwChartCalculatorLightCurrencyTableCell">';n+='           <script>$( function() { $( "#slider" ).slider(); } );<\/script>';n+='           <div id="slider"><\/div>';n+="       <\/td>";n+="   <\/tr>";n+='   <tr><td colspan="2">&nbsp;<\/td><\/tr>';n+="       <\/table>";$("#divFunctionalAreasSubSubMenus").html(n);emailAggregatorTwiceDailyFirstTime&&(document.getElementById("selectAggregateEmailTwiceDailyFirstTime").value=emailAggregatorTwiceDailyFirstTime,document.getElementById("selectAggregateEmailTwiceDailySecondTime").value=emailAggregatorTwiceDailySecondTime,document.getElementById("selectAggregateEmailTwiceDailyTimezoneDisplayName").value=emailAggregatorTwiceDailyTimezoneDisplayName);emailNotificationFrequency=="immediately"?(document.getElementById("rbMyEmailNotificationImmediately").setAttribute("checked","checked"),document.getElementById("spanRbEmailImmediately").style.color="black",document.getElementById("selectAggregateEmailTwiceDailyFirstTime").disabled=!0,document.getElementById("selectAggregateEmailTwiceDailySecondTime").disabled=!0,document.getElementById("selectAggregateEmailTwiceDailyTimezoneDisplayName").disabled=!0):emailNotificationFrequency=="aggregatetwicedaily"&&(document.getElementById("rbMyEmailNotificationAggregated").setAttribute("checked","checked"),document.getElementById("spanRbAggregateEmailTwiceDaily").style.color="black",document.getElementById("selectAggregateEmailTwiceDailyFirstTime").disabled=!1,document.getElementById("selectAggregateEmailTwiceDailySecondTime").disabled=!1,document.getElementById("selectAggregateEmailTwiceDailyTimezoneDisplayName").disabled=!1);emailNotificationTypes=="allnotifications"?(document.getElementById("rbMyEmailNotificationTypeAllNotifications").setAttribute("checked","checked"),document.getElementById("spanEmailNotificationTypeAllNotifications").style.color="black"):emailNotificationTypes=="onlymytasknotifications"?(document.getElementById("rbMyEmailNotificationTypeOnlyTasks").setAttribute("checked","checked"),document.getElementById("spanEmailNotificationTypeOnlyTasks").style.color="black"):emailNotificationTypes=="nonotifications"&&(document.getElementById("rbMyEmailNotificationTypeNoNotifications").setAttribute("checked","checked"),document.getElementById("spanEmailNotificationTypeNoNotifications").style.color="black");u={checked:tipsDisplayOn,show_labels:!0,labels_placement:"left",on_label:"ON",off_label:"OFF",width:50,height:22,button_width:24,clear_after:null};$("input#configurationBehaviorTipsSlider").switchButton(u);f={checked:displayInvitationsOnHomePageDisplayOn,show_labels:!0,labels_placement:"left",on_label:"ON",off_label:"OFF",width:50,height:22,button_width:24,clear_after:null};$("input#configurationBehaviorDisplayInvitationsOnHomePageSlider").switchButton(f);e={checked:displayTaskDetailsBeforeRequests,show_labels:!0,labels_placement:"left",on_label:"YES",off_label:"NO",width:50,height:22,button_width:24,clear_after:null};$("input#configurationBehaviorDisplayTaskDetailsBeforeRequestsPageSlider").switchButton(e);$("#configurationBehaviorTipsSlider").change(function(){var n,t;tipsDisplayOn=tipsDisplayOn==!0?!1:!0;n=[];n={bwParticipantId:participantId,bwTipsDisplayOn:tipsDisplayOn.toString()};t=webserviceurl+"/bwparticipant/updateuserconfigurationbehaviorTipsDisplay";$.ajax({url:t,type:"POST",timeout:ajaxTimeout,data:n,headers:{Accept:"application/json; odata=verbose"},success:function(n){n!="SUCCESS"?displayAlertDialog(n):tipsDisplayOn==!0?($("#spanAlertLink").show(),$("#spanAlertLinkNewRequest").show(),$("#spanAlertLinkMyStuff").show(),$("#spanAlertLinkSummary").show(),$("#spanAlertLinkConfiguration").show(),$("#spanAlertLinkHelp").show()):($("#spanAlertLink").hide(),$("#spanAlertLinkNewRequest").hide(),$("#spanAlertLinkMyStuff").hide(),$("#spanAlertLinkSummary").hide(),$("#spanAlertLinkConfiguration").hide(),$("#spanAlertLinkHelp").hide())},error:function(n,t,i){displayAlertDialog("Error in my.js.configurationBehaviorTipsSlider.change(): "+t+" "+i)}})});$("#configurationBehaviorDisplayInvitationsOnHomePageSlider").change(function(){var n,t;displayInvitationsOnHomePageDisplayOn=displayInvitationsOnHomePageDisplayOn==!0?!1:!0;n=[];n={bwParticipantId:participantId,bwInvitationsOnHomePageDisplayOn:displayInvitationsOnHomePageDisplayOn.toString()};t=webserviceurl+"/bwparticipant/updateuserconfigurationbehaviordisplayinvitationsonhomepage";$.ajax({url:t,type:"POST",timeout:ajaxTimeout,data:n,headers:{Accept:"application/json; odata=verbose"},success:function(n){n!="SUCCESS"?displayAlertDialog(n):displayInvitationsOnHomePageDisplayOn==!0?$("#divInvitationSectionOnHomePage").show():$("#divInvitationSectionOnHomePage").hide()},error:function(n,t,i){displayAlertDialog("Error in my.js.configurationBehaviorDisplayInvitationsOnHomePageSlider.change(): "+t+" "+i)}})});$("#configurationBehaviorDisplayTaskDetailsBeforeRequestsPageSlider").change(function(){var n,t;displayTaskDetailsBeforeRequests=displayTaskDetailsBeforeRequests==!0?!1:!0;n=[];n={bwParticipantId:participantId,bwDisplayTaskDetailsBeforeRequests:displayTaskDetailsBeforeRequests.toString()};t=webserviceurl+"/bwparticipant/updateuserconfigurationbehaviordisplaytaskdetailsbeforerequests";$.ajax({url:t,type:"POST",timeout:ajaxTimeout,data:n,headers:{Accept:"application/json; odata=verbose"},success:function(n){n!="SUCCESS"&&displayAlertDialog(n)},error:function(n,t,i){displayAlertDialog("Error in my.js.configurationBehaviorDisplayTaskDetailsBeforeRequestsPageSlider.change(): "+t+" "+i)}})})}catch(i){console.log("Exception in renderConfigurationPersonalBehavior(): "+i.message+", "+i.stack)}}function ShowActivitySpinner(){try{console.log("In my.js.ShowActivitySpinner().");$("#divBwActivitySpinner").bwActivitySpinner("show")}catch(n){console.log("Exception in my.js.ShowActivitySpinner(): "+n.message+", "+n.stack);$("#divBwActivitySpinner").bwActivitySpinner({SpinnerType:"modal"});$("#divBwActivitySpinner").bwActivitySpinner("show")}}function HideActivitySpinner(){try{console.log("In my.js.HideActivitySpinner().");try{$("#divBwActivitySpinner").bwActivitySpinner("hide")}catch(n){}}catch(n){console.log("Exception in my.js.HideActivitySpinner(): "+n.message+", "+n.stack);alert("Exception in my.js.HideActivitySpinner(): "+n.message+", "+n.stack)}}function refreshPage(){try{ShowActivitySpinner();setTimeout(function(){renderWelcomeScreen();HideActivitySpinner()},500)}catch(n){console.log("Exception in livestatus.html.refreshPage(): "+n.message+", "+n.stack)}}function initializeTheForm(){var t,r,u,f,n,e;try{try{$("#FormsEditorToolbox").dialog("close")}catch(i){}t=document.getElementById("myCanvas");t&&(r=t.getContext("2d"),r.clearRect(0,0,t.width,t.height),t.style.zIndex=-1);renderWelcomeScreen();console.log("");console.log("SETTING UP THE REFRESH_PAGE");console.log("");u={};$("#divBwActivitySpinner").bwActivitySpinner(u);$("#bwQuickLaunchMenuTd").css({width:"0"});$("#liWelcome").show();$("#liNewRequest").hide();$("#liArchive").hide();$("#liSummaryReport").hide();$("#liConfiguration").hide();$("#liVisualizations").hide();$("#liHelp").hide();$("#divWelcomeMasterDiv").show();f=document.getElementById("divWelcomeMasterDiv");f.style.borderRadius="20px 0 0 20px";renderLeftButtons("divWelcomePageLeftButtons");n={displayOnCreation:!1};e=$("#divBwMonitoringTools").bwMonitoringTools2(n);$("#divBwMonitoringTools").bwMonitoringTools2("cmdDisplayWebsiteErrorThreats");var n={backendAdministrationMode:!0},o=$("#divBwEmailMonitor").bwEmailMonitor(n),n={displayOnCreation:!1},s=$("#divBwAdmin").bwBackendAdministrationForAllParticipants(n),n={},h=$("#divBwNewUserEmailEditor").bwNewUserEmailEditor(n),n={},c=$("#divBwNewUserRolesEditor").bwNewUserRolesEditor(n),n={},l=$("#divBwNewUserBusinessModelEditor").bwNewUserBusinessModelEditor(n),n={},a=$("#divBwNewUserWorkflowEditor").bwNewUserWorkflowEditor(n),n={},v=$("#divBwNewUserChecklistsEditor").bwNewUserChecklistsEditor(n),n={},y=$("#divBwNewUserFormsEditor").bwNewUserFormsEditor(n);cmdDisplayWebsiteTrafficAudienceSize();cmdDisplayWebsiteTrafficNumberOfParticipants();cmdDisplayWebsiteTrafficNumberOfTenants();cmdGetStatusOfWorkflowTimer();cmdGetStatusOfImap();cmdDisplayNumberOfLicenses();displayStatusOfFileServices();populateTheTenantToDeleteDropDown();populateSelectViewBwWorkflowTaskSelectWorkflowApp()}catch(i){handleExceptionWithAlert("Error in admin.js.initializeTheForm()",i.message+", "+i.stack)}}function renderWelcomeScreen(){try{$("#bwStartPageAccordion").show();$("#liWelcome").show();$("#liNewRequest").hide();$("#liArchive").hide();$("#liSummaryReport").hide();$("#liConfiguration").hide();$("#liVisualizations").hide();$("#liHelp").hide();try{document.getElementById("spanNotLoggedInBetaBanner").style.display="none";document.getElementById("spanLoggedInBetaBanner").style.display="block"}catch(n){}webserviceurl=globalUrlPrefix+globalUrlForWebServices+"/_bw";appweburl=globalUrlPrefix+globalUrlForWebServices;appweburl2=globalUrlPrefix+globalUrl;$("#divWelcomeMasterDivTitle").text("Home");$("#divMenuMasterDivWelcomeButton").css({"border-width":"0px",margin:"0px 0px 0px 0px",padding:"12px 0px 0px 20px",outline:"rgb(59, 103, 142) dashed 1px","border-radius":"0px",width:"92%",height:"28px",color:"#dcdcdc","background-color":"white"});participantLogonType&&($("#spanLoggedInUserWelcomePage").text(participantFriendlyName),$("#spanLoggedInUserNewRequestPage").text(participantFriendlyName),$("#spanLoggedInUserArchivePage").text(participantFriendlyName),$("#spanLoggedInUserSummaryReportPage").text(participantFriendlyName),$("#spanLoggedInUserConfigurationPage").text(participantFriendlyName),$("#spanLoggedInUserVisualizationsPage").text(participantFriendlyName),$("#spanLoggedInUserHelpPage").text(participantFriendlyName));$("#spanLastClientBrowserActivityTimestamp").empty();$.ajax({url:webserviceurl+"/bwuserauthenticationtrafficlogsuniqueips",type:"DELETE",contentType:"application/json",data:JSON.stringify({}),success:function(n){var i,r;try{for(i="",i+="<br />",r=0;r<n.IpAddresses_With_AssociatedParticipantEmailAddresses.length;r++){var t=n.IpAddresses_With_AssociatedParticipantEmailAddresses[r].Ip,f=n.IpAddresses_With_AssociatedParticipantEmailAddresses[r].ParticipantEmailAddresses,e=new Date(n.IpAddresses_With_AssociatedParticipantEmailAddresses[r].LatestLogin_Timestamp),o=$(".bwAuthentication").bwAuthentication("getBudgetWorkflowStandardizedDate",e);t.indexOf("142.177.223.35")>-1?t+='<span style="color:goldenrod;font-weight:bold;"> (Paddy\'s Kentville) <\/span>':t.indexOf("173.237.113.6")>-1?t+='<span style="color:goldenrod;font-weight:bold;"> (Crescent Avenue) <\/span>':t.indexOf("174.61.126.70")>-1&&(t+='<span style="color:goldenrod;font-weight:bold;"> (Jupiter) <\/span>');i+=o+": ["+t+"] "+f;i+="<br />"}i+="DONE";$("#spanLastClientBrowserActivityTimestamp").append(i)}catch(u){console.log("Exception in call to bwuserauthenticationtrafficlogsuniqueips(): "+u.message+", "+u.stack)}},error:function(n,t,i){displayAlertDialog("Error in call to bwuserauthenticationtrafficlogsuniqueips():"+t+", "+i)}});$("#spanLastEmailSentTimestamp").empty();$.ajax({url:webserviceurl+"/bwuserauthenticationtrafficlogslastemailsent",type:"DELETE",contentType:"application/json",data:JSON.stringify({}),success:function(n){var i,t,r;try{for(i="",t=0;t<n.length;t++)r=$(".bwAuthentication").bwAuthentication("getBudgetWorkflowStandardizedDate",n[t].Timestamp),i+=r+", bwWorkflowAppId:"+n[t].bwWorkflowAppId+", To: "+n[t].ToParticipantEmail,i+="<br />";i+="DONE";$("#spanLastEmailSentTimestamp").append(i)}catch(u){console.log("Exception in call to bwuserauthenticationtrafficlogslastemailsent(): "+u.message+", "+u.stack)}},error:function(n,t,i){displayAlertDialog("Error in call to bwuserauthenticationtrafficlogslastemailsent():"+t+", "+i)}})}catch(n){console.log("Exception in my.js.renderWelcomeScreen():6:",n.message+", "+n.stack);displayAlertDialog("Exception in my.js.renderWelcomeScreen():6:",n.message)}}function cmdViewBudgetRequestXml(){$("#txtBudgetRequestXml").empty();var n=document.getElementById("txtBudgetRequestId").value,t=webserviceurl+"/bwbudgetrequests/"+n;$.ajax({url:t,type:"GET",contentType:"application/json",success:function(n){var t="";t+=n.d.results[0][0].bwDocumentXml+"<br/>";t+="DONE";$("#txtBudgetRequestXml").text(t)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdViewBudgetRequestXml():"+t+", "+i)}})}function cmdViewCloseoutXml(){$("#txtCloseoutXml").empty();var n=document.getElementById("txtCloseoutId").value,t=webserviceurl+"/bwbudgetrequests/"+n;$.ajax({url:t,type:"GET",contentType:"application/json",success:function(n){var t="";t+=n.d.results[0][0].CloseoutXml+"<br/>";t+="DONE";$("#txtCloseoutXml").text(t)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdViewCloseoutXml():"+t+", "+i)}})}function cmdViewRecurringExpenseXml(){$("#txtRecurringExpenseXml").empty();var n=document.getElementById("txtRecurringExpenseId").value,t=webserviceurl+"/bwrecurringexpenses/"+n;$.ajax({url:t,type:"GET",contentType:"application/json",success:function(n){var t="";t+=n.d.results[0][0].bwDocumentXml+"<br/>";t+="DONE";$("#txtRecurringExpenseXml").text(t)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdViewRecurringExpenseXml():"+t+", "+i)}})}function cmdListAllTimerLogs(){$("#txtBwTimerLogs").empty();$.ajax({url:webserviceurl+"/bwtimerlogs",type:"DELETE",contentType:"application/json",data:JSON.stringify({}),success:function(n){for(var i="",t=0;t<n.length;t++)i+="Log Entry:"+n[t].bwTimerLogEntryCreatedTimestamp+" Justification details:"+n[t].bwTimerLogEntryDetails+"\n";i+="DONE";$("#txtBwTimerLogs").append(i)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdListAllTimerLogs():"+t+", "+i)}})}function cmdStartWorkflowTimer(){$("#spanWorkflowTimerStatus").empty();$.ajax({url:webserviceurl+"/startworkflowtimer",type:"PUT",contentType:"application/json",success:function(){cmdGetStatusOfWorkflowTimer()},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdStartWorkflowTimer():"+t+", "+i)}})}function cmdStopWorkflowTimer(){$("#spanWorkflowTimerStatus").empty();$.ajax({url:webserviceurl+"/stopworkflowtimer",type:"PUT",contentType:"application/json",data:JSON.stringify({}),success:function(){cmdGetStatusOfWorkflowTimer()},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdStopWorkflowTimer():"+t+", "+i)}})}function cmdGetStatusOfWorkflowTimer(){$("#spanWorkflowTimerStatus").empty();$.ajax({url:webserviceurl+"/getstatusofworkflowtimer",type:"GET",contentType:"application/json",success:function(n){var t="";n=="started"?(t+='<span style="color:#009933;">'+n+"<\/span>",t+='&nbsp;&nbsp;<input type="button" value="stop" onclick="cmdStopWorkflowTimer();" />'):(t+='<span style="color:#ff0000;">'+n+"<\/span>",t+='&nbsp;&nbsp;<input type="button" value="start" onclick="cmdStartWorkflowTimer();" />');$("#spanWorkflowTimerStatus").append(t)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdGetStatusOfWorkflowTimer():"+t+", "+i)}})}function cmdStartImapListener(){var n=webserviceurl+"/startimaplistener";$.ajax({url:n,type:"POST",timeout:ajaxTimeout,headers:{Accept:"application/json; odata=verbose"},success:function(n){n=="SUCCESS"?cmdGetStatusOfImap():(displayAlertDialog("There was a problem starting the email listener(imap): "+n),cmdGetStatusOfImap())},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdStartImapListener(): "+t+" "+i)}})}function cmdGetStatusOfImap(){$("#spanImapStatus").empty();$.ajax({url:webserviceurl+"/getstatusofimap",type:"GET",contentType:"application/json",success:function(n){var t="";n=="connected"?t+='<span style="color:#009933;">'+n+"<\/span>":(t+='<span style="color:#ff0000;">'+n+"<\/span>",t+='&nbsp;&nbsp;<input type="button" value="start" onclick="cmdStartImapListener();" />');$("#spanImapStatus").append(t)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdGetStatusOfImap():"+t+", "+i)}})}function cmdListAllBwNewTenantOrganizationSettings(){$("#txtBwNewTenantOrganizationSettings").empty();$.ajax({url:webserviceurl+"/bwnewtenantorganizationsettingsfindall",type:"DELETE",contentType:"application/json",success:function(n){for(var t="",i=0;i<n.length;i++)t+="bwNewTenantOrganizationSettingsId:"+n[i].bwNewTenantOrganizationSettingsId+" ",t+="bwNewTenantOrganizationSettingsActive:"+n[i].bwNewTenantOrganizationSettingsActive+" ",t+="bwOrgRolesJson:"+n[i].bwOrgRolesJson+" ",t+="\n\n";t+="DONE";$("#txtBwNewTenantOrganizationSettings").append(t)},error:function(n,t,i){displayAlertDialog("Error in cmdListAllBwNewTenantOrganizationSettings():"+t+", "+i)}})}function cmdListAllBwWorkflowUsers(){$("#txtBwWorkflowUsers").empty();$.ajax({url:webserviceurl+"/bwworkflowusersfindall",type:"DELETE",contentType:"application/json",success:function(n){for(var t="",i=0;i<n.length;i++)t+="bwWorkflowAppTitle:"+n[i].bwWorkflowAppTitle+" ",t+="bwParticipantRole:"+n[i].bwParticipantRole+" ",t+="bwParticipantFriendlyName:"+n[i].bwParticipantFriendlyName+" ",t+="bwParticipantEmail:"+n[i].bwParticipantEmail+" ",t+="bwWorkflowAppId:"+n[i].bwWorkflowAppId+" ",t+="bwParticipantId:"+n[i].bwParticipantId+" ",t+="Created:"+n[i].Created+" ",t+="Modified:"+n[i].Modified+" ",t+="\n\n";t+="DONE";$("#txtBwWorkflowUsers").append(t)},error:function(n,t,i){displayAlertDialog("Error in index.js.cmdListAllBwWorkflowUsers():"+t+", "+i)}})}function cmdListAllBwRoles(){$("#txtBwOrgRoles").empty();$.ajax({url:webserviceurl+"/bwrolesfindall",type:"DELETE",contentType:"application/json",success:function(n){for(var t="",i=0;i<n.length;i++)t+="bwRoleId:"+n[i].bwRoleId+" ",t+="bwTenantId:"+n[i].bwTenantId+" ",t+="bwWorkflowAppId:"+n[i].bwWorkflowAppId+" ",t+="RoleId:"+n[i].RoleId+" ",t+="RoleName:"+n[i].RoleName+" ",t+="Singleton:"+n[i].Singleton+" ",t+="bwRoleActive:"+n[i].bwRoleActive+" ",t+="\n\n";t+="DONE";$("#txtBwRoles").append(t)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdListAllBwRoles():"+t+", "+i)}})}function cmdListAllBwWorkflowUserRoles(){$("#txtBwWorkflowUserRoles").empty();$.ajax({url:webserviceurl+"/bwworkflowuserrolesfindall",type:"DELETE",contentType:"application/json",success:function(n){for(var t="",i=0;i<n.length;i++)t+="OrgId:"+n[i].OrgId+" ",t+="RoleId:"+n[i].RoleId+" ",t+="bwParticipantFriendlyName:"+n[i].bwParticipantFriendlyName+" ",t+="bwParticipantEmail:"+n[i].bwParticipantEmail+" ",t+="bwWorkflowAppId:"+n[i].bwWorkflowAppId+" ",t+="bwParticipantId:"+n[i].bwParticipantId+" ",t+="Created:"+n[i].Created+" ",t+="Modified:"+n[i].Modified+" ",t+="Active:"+n[i].Active+" ",t+="\n\n";t+="DONE";$("#txtBwWorkflowUserRoles").append(t)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdListAllBwWorkflowUserRoles():"+t+", "+i)}})}function cmdDeleteAllBwWorkflowUserRoleEntriesWithOrgIdIsALL(){var n,t,i;try{console.log("In cmdDeleteAllBwWorkflowUserRoleEntriesWithOrgIdIsALL().");n=confirm("Are you certain?\n\nThis action cannot be undone.\n\nClick the OK button to proceed...");n&&(t={},i=webserviceurl+"/DeleteAllBwWorkflowUserRoleEntriesWithOrgIdIsALL",$.ajax({url:i,type:"POST",timeout:ajaxTimeout,data:t,headers:{Accept:"application/json; odata=verbose"},success:function(n){n.message=="SUCCESS"?displayAlertDialog("This operation has been completed: "+JSON.stringify(n)):displayAlertDialog("ERROR: This operation has been completed: "+JSON.stringify(n))},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdDeleteAllBwWorkflowUserRoleEntriesWithOrgIdIsALL():1: "+i)}}))}catch(r){displayAlertDialog("Exception in admin.js.cmdDeleteAllBwWorkflowUserRoleEntriesWithOrgIdIsALL():2: "+r.message+", "+r.stack)}}function cmdListAllBwOrgRoles(){$("#txtBwOrgRoles").empty();$.ajax({url:webserviceurl+"/bworgrolesfindall",type:"DELETE",contentType:"application/json",success:function(n){for(var t="",i=0;i<n.length;i++)t+="bwOrgRolesId:"+n[i].bwOrgRolesId+" ",t+="bwTenantId:"+n[i].bwTenantId+" ",t+="bwWorkflowAppId:"+n[i].bwWorkflowAppId+" ",t+="bwOrgRolesActive:"+n[i].bwOrgRolesActive+" ",t+="bwOrgRolesJson:"+JSON.stringify(n[i].bwOrgRolesJson)+" ",t+="\n\n";t+="DONE";$("#txtBwOrgRoles").append(t)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdListAllBwOrgRoles():"+t+", "+i)}})}function cmdListAllTenants(){$("#txtBwTenants").empty();$.ajax({url:webserviceurl+"/bwtenantsfindall",type:"DELETE",contentType:"application/json",success:function(n){for(var i="",t=0;t<n.length;t++)i+="Owner:"+n[t].bwTenantOwnerFriendlyName+", User Id:"+n[t].bwTenantOwnerId+", Tenant Id:"+n[t].bwTenantId,i+="\n\n";i+="DONE";$("#txtBwTenants").append(i)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdListAllTenants():"+t+", "+i)}})}function cmdListAllLicenses(){$("#txtBwWorkflowAppLicenses").empty();$.ajax({url:webserviceurl+"/bwworkflowapplicensesfindall",type:"DELETE",contentType:"application/json",success:function(n){for(var t="",i=0;i<n.length;i++)t+="LicenseNotificationSent:"+n[i].LicenseNotificationSent+", ",t+="InvoiceNumber:"+n[i].InvoiceNumber+", ",t+="LicenseNotificationSentToEmail:"+n[i].LicenseNotificationSentToEmail+", ",t+="LicenseSku:"+n[i].LicenseSku+", ",t+="LicenseTitle:"+n[i].LicnseTitle+", ",t+="LicenseQuantity:"+n[i].LicenseQuantity+", ",t+="LicenseClaimed:"+n[i].LicenseClaimed+", ",t+="LicensePackageCategory:"+n[i].LicensePackageCategory+", ",t+="LicenseClaimedTimestamp:"+n[i].LicenseClaimedTimestamp+", ",t+="bwWorkflowAppId:"+n[i].bwWorkflowAppId+", ",t+="LicenseClaimedByFriendlyName:"+n[i].LicenseClaimedByFriendlyName+", ",t+="LicenseClaimedByEmail:"+n[i].LicenseClaimedByEmail+", ",t+="bwWorkflowAppLicenseId:"+n[i].bwWorkflowAppLicenseId,t+="\n\n";t+="DONE";$("#txtBwWorkflowAppLicenses").append(t)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdListAllLicenses():"+t+", "+i)}})}function cmdListAllWorkflowApps(){$("#txtBwWorkflowApps").empty();$.ajax({url:webserviceurl+"/bwworkflowapps",type:"DELETE",contentType:"application/json",success:function(n){for(var i="",t=0;t<n.length;t++)i+="Title:"+n[t].bwWorkflowAppTitle+", Tenant Id:"+n[t].bwTenantId+", Workflow App Id:"+n[t].bwWorkflowAppId,i+="\n\n";i+="DONE";$("#txtBwWorkflowApps").append(i)},error:function(n,t,i){displayAlertDialog("Error in index.js.cmdListAllWorkflowApps():"+t+", "+i)}})}function cmdListAllFunctionalAreas(){$("#txtBwFunctionalAreas").empty();$.ajax({url:webserviceurl+"/bwfunctionalareasfindall",type:"DELETE",contentType:"application/json",success:function(n){for(var t="",i=0;i<n.length;i++)t+="IsHidden:"+n[i].IsHidden+" ",t+="bwFunctionalAreaQuote:"+n[i].bwFunctionalAreaQuote+" ",t+="bwWorkflowAppId:"+n[i].bwWorkflowAppId+" ",t+="bwFunctionalAreaId:"+n[i].bwFunctionalAreaId+" ",t+="bwFunctionalAreaTitle:"+n[i].bwFunctionalAreaTitle+" ",t+="bwFunctionalAreaYear:"+n[i].bwFunctionalAreaYear+" ",t+="Approver1Id:"+n[i].Approver1Id+" ",t+="Approver1FriendlyName:"+n[i].Approver1FriendlyName+" ",t+="Approver1Email:"+n[i].Approver1Email+" ",t+="Approver2Id:"+n[i].Approver2Id+" ",t+="Approver2FriendlyName:"+n[i].Approver2FriendlyName+" ",t+="Approver2Email:"+n[i].Approver2Email+" ",t+="Approver3Id:"+n[i].Approver3Id+" ",t+="Approver3FriendlyName:"+n[i].Approver3FriendlyName+" ",t+="Approver3Email:"+n[i].Approver3Email+" ",t+="Approver4Id:"+n[i].Approver4Id+" ",t+="Approver4FriendlyName:"+n[i].Approver4FriendlyName+" ",t+="Approver4Email:"+n[i].Approver4Email+" ",t+="\n\n";t+="DONE";$("#txtBwFunctionalAreas").append(t)},error:function(n,t,i){displayAlertDialog("Error in index.js.cmdListAllFunctionalAreas():"+t+", "+i)}})}function cmdUpdateFunctionalAreaOneTimeOnly(){try{console.log("In cmdUpdateFunctionalArea().")}catch(n){console.log("Exception in cmdUpdateFunctionalArea(): "+n.message+", "+n.stack)}}function cmdDeleteAllTenantsAndParticipants(){$.ajax({url:webserviceurl+"/testdeleteparticipantsandtenants",type:"DELETE",contentType:"application/json",success:function(){displayAlertDialog("All tenants and participants have been deleted.")},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdDeleteAllTenantsAndParticipants():"+t+", "+i)}})}function cmdDeleteAllBwWorkflowAppLicenses(){displayAlertDialog("This functionality is not complete. Coming soon!")}function cmdDeleteAllBwChecklistTemplates(){$.ajax({url:webserviceurl+"/testdeleteallbwchecklisttemplatesentries",type:"DELETE",contentType:"application/json",success:function(){displayAlertDialog("All BwChecklistTemplates entries have been deleted.")},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdDeleteAllBwChecklistTemplates():"+t+", "+i)}})}function cmdDeleteAllAggregatedEmailEntries(){$.ajax({url:webserviceurl+"/testdeleteallaggregatedemailentries",type:"DELETE",contentType:"application/json",success:function(){displayAlertDialog("All aggregated email entries have been deleted.")},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdDeleteAllAggregatedEmailEntries():"+t+", "+i)}})}function handleExceptionWithAlert(n,t){displayAlertDialog(n+": "+t)}function cmdListAllRecurringExpenses(){$("#txtBwRecurringExpenses").empty();$.ajax({url:webserviceurl+"/bwrecurringexpensesfindall",type:"DELETE",contentType:"application/json",success:function(n){for(var t="",i=0;i<n.length;i++)t+="bwRecurringExpenseId: "+n[i].bwRecurringExpenseId,t+=", ",t+="TrashBin: "+n[i].TrashBin,t+=", ",t+="Created: "+n[i].Created,t+=", ",t+="CreatedBy: "+n[i].CreatedBy,t+=", ",t+="CreatedByEmail: "+n[i].CreatedByEmail,t+=", ",t+="Title: "+n[i].Title,t+=", ",t+="ProjectTitle: "+n[i].ProjectTitle,t+=", ",t+="ReminderDate: "+n[i].ReminderDate,t+=", ",t+="HasReminderDateTaskNotificationBeenSent: "+n[i].HasReminderDateTaskNotificationBeenSent,t+="\n\n";t+="DONE";$("#txtBwRecurringExpenses").append(t)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdListAllRecurringExpenses():"+t+", "+i)}})}function cmdListAllDepartments(){$("#txtBwDepartments").empty();$.ajax({url:webserviceurl+"/bwdepartmentsfindall",type:"DELETE",contentType:"application/json",success:function(n){for(var t="",i=0;i<n.length;i++)t+="bwDepartmentTitle: "+n[i].bwDepartmentTitle,t+=", ",t+="bwDepartmentUserName: "+n[i].bwDepartmentUserName,t+=", ",t+="bwDepartmentUserId: "+n[i].bwDepartmentUserId,t+=", ",t+="bwDepartmentUserEmail: "+n[i].bwDepartmentUserEmail,t+="\n\n";t+="DONE";$("#txtBwDepartments").append(t)},error:function(n,t,i){displayAlertDialog("Error in my.js.cmdListAllDepartments():"+t+", "+i)}})}function cmdListAllForms(){$("#txtBwForms").empty();$.ajax({url:webserviceurl+"/bwformsfindall",type:"DELETE",contentType:"application/json",success:function(n){for(var t="",i=0;i<n.length;i++)t+="bwTenantId: "+n[i].bwTenantId,t+=", ",t+="bwWorkflowAppId: "+n[i].bwWorkflowAppId,t+=", ",t+="bwFormId: "+n[i].bwFormId,t+="\n\n";t+="DONE";$("#txtBwForms").append(t)},error:function(n,t,i){displayAlertDialog("Error in my.js.cmdListAllForms():"+t+", "+i)}})}function cmdListAllInvitations(){$("#txtBwInvitations").empty();$.ajax({url:webserviceurl+"/bwinvitationsfindall",type:"DELETE",contentType:"application/json",success:function(n){for(var t="",i=0;i<n.length;i++)t+="bwInvitationParticipantRole: "+n[i].bwInvitationParticipantRole+", ",t+="bwInvitationCreatedByFriendlyName: "+n[i].bwInvitationCreatedByFriendlyName+", ",t+="bwInvitationCreatedTimestamp: "+n[i].bwInvitationCreatedTimestamp+", ",t+="bwInvitationDeliveredToEmail: "+n[i].bwInvitationDeliveredToEmail+", ",t+="bwInvitationDeliveredTimestamp: "+n[i].bwInvitationDeliveredTimestamp+", ",t+="bwInvitationAcceptedById: "+n[i].bwInvitationAcceptedById+", ",t+="bwInvitationAcceptedTimestamp: "+n[i].bwInvitationAcceptedTimestamp+", ",t+="bwInvitationId: "+n[i].bwInvitationId+", ",t+="bwTenantId: "+n[i].bwTenantId+", ",t+="bwWorkflowAppId: "+n[i].bwWorkflowAppId,t+="\n\n";t+="DONE";$("#txtBwInvitations").append(t)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdListAllInvitations():"+t+", "+i)}})}function cmdListAllEmailAggregators(){$("#txtBwEmailAggregators").empty();$.ajax({url:webserviceurl+"/bwemailaggregatorfindall",type:"DELETE",contentType:"application/json",success:function(n){for(var t="",i=0;i<n.length;i++)t+="bwWorkflowAppId: "+n[i].bwParticipantId+", ",t+="bwParticipantId: "+n[i].bwParticipantId+", ",t+="bwEmailAggregatorId: "+n[i].bwEmailAggregatorId+", ",t+="bwParticipantEmail: "+n[i].bwParticipantEmail+", ",t+="Created: "+n[i].Created+", ",t+="EmailSubject: "+n[i].EmailSubject+", ",t+="EmailBody: "+n[i].EmailBody,t+="\n\n";t+="DONE";$("#txtBwEmailAggregators").append(t)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdListAllEmailAggregators():"+t+", "+i)}})}function cmdListAllWebsiteTrafficLogs(){$("#txtBwWebsiteTrafficLogs").empty();$.ajax({url:webserviceurl+"/bwwebsitetrafficlogs",type:"DELETE",contentType:"application/json",data:JSON.stringify({}),success:function(n){var t,i;try{for(t="",i=0;i<n.length;i++)t+="Log entry details:"+n[i].bwWebsiteTrafficLogEntryDetails,t+=", ",t+="Logon provider:"+n[i].bwWebsiteTrafficLogUserLogonType,t+=", ",t+="Id:"+n[i].bwWebsiteTrafficLogUserLogonTypeId,t+=", ",t+="Referrer:"+n[i].bwWebsiteTrafficLogReferrer,t+=", ",t+="Ip:"+n[i].bwWebsiteTrafficLogEntryIp,t+=", ",t+="Timestamp:"+n[i].bwWebsiteTrafficLogEntryCreatedTimestamp,t+=", ",t+="User agent:"+n[i].bwWebsiteTrafficLogUserAgent,t+=", ",t+="Participant:"+n[i].ParticipantFriendlyName,t+=", ",t+="Email:"+n[i].ParticipantEmail,t+=", ",t+="bwWorkflowAppId:"+n[i].bwWorkflowAppId,t+="\n\n";t+="DONE";$("#txtBwWebsiteTrafficLogs").append(t)}catch(r){console.log("Exception in cmdListAllWebsiteTrafficLogs(): "+r.message+", "+r.stack)}},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdListAllWebsiteTrafficLogs():"+t+", "+i)}})}function cmdDisplayWebsiteTrafficAudienceSize(){$("#spanAudienceSize").empty();$("#spanAudienceSizeUniqueIps").empty();$.ajax({url:webserviceurl+"/indexpagevisitorcount",type:"DELETE",contentType:"application/json",data:JSON.stringify({}),success:function(n){var t,i,r;try{if(n.message=="SUCCESS"){for(t=[],t=[],i=0;i<n.result.length;i++)r=n.result[i].bwWebsiteTrafficLogEntryIp,t.indexOf(r)==-1&&t.push(r);$("#spanAudienceSize").append(n.result.length);$("#spanAudienceSizeUniqueIps").append(t.length)}}catch(u){console.log("Exception in cmdDisplayWebsiteTrafficAudienceSize(): "+u.message+", "+u.stack)}},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdDisplayWebsiteTrafficAudienceSize():"+t+", "+i+", "+JSON.stringify(n))}})}function getFriendlyDateAndTime(n){try{var i=Number(n.split("-")[0]),r=n.split("-")[1],u=n.split("-")[2],f=u.split("T")[0],e=monthNames[r-1],o=n.split("T")[1].split(":")[0]+":"+n.split("T")[1].split(":")[1]+"UTC";return e+" "+f+", "+i+" "+o}catch(t){console.log("Exception in getFriendlyDateAndTime(): "+t.message+", "+t.stack)}}function cmdDeleteErrorThreatDetails(n){try{console.log("In cmdDeleteErrorThreatDetails(). threatLevel: "+n);alert("In cmdDeleteErrorThreatDetails(). threatLevel: "+n+". THIS FUNCTIONALITY IS INCOMPLETE. Coming Soon!")}catch(t){console.log("Exception in cmdDeleteErrorThreatDetails("+n+"): "+t.message+", "+t.stack)}}function cmdDisplayWebsiteTrafficNumberOfParticipants(){$("#spanNumberOfParticipants").empty();$.ajax({url:webserviceurl+"/bwparticipantsfindall",type:"DELETE",contentType:"application/json",success:function(n){var t="";t+=n.length;$("#spanNumberOfParticipants").append(t)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdDisplayWebsiteTrafficNumberOfParticipants():"+t+", "+i)}})}function cmdDisplayWebsiteTrafficNumberOfTenants(){$("#spanNumberOfTenants").empty();$.ajax({url:webserviceurl+"/bwtenantsfindall",type:"DELETE",contentType:"application/json",success:function(n){var t="";t+=n.length;$("#spanNumberOfTenants").append(t)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdDisplayWebsiteTrafficNumberOfTenants():"+t+", "+i)}})}function cmdDisplayNumberOfLicenses(){$("#spanNumberOfLicensesSold").empty();$.ajax({url:webserviceurl+"/bwworkflowapplicensesfindall",type:"DELETE",contentType:"application/json",success:function(n){var t="";t+=n.length;$("#spanNumberOfLicensesSold").append(t)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdDisplayNumberOfLicenses():"+t+", "+i)}})}function cmdListAllBudgetRequests(){$("#txtBwBudgetRequests").empty();$.ajax({url:webserviceurl+"/bwbudgetrequestsforadmin",type:"DELETE",contentType:"application/json",data:JSON.stringify({}),success:function(n){for(var t="",i=0;i<n.length;i++)t+="Title:"+n[i].Title,t+=", ProjectTitle:"+n[i].ProjectTitle,t+=", ARStatus: "+n[i].ARStatus,t+=", BudgetWorkflowStatus:"+n[i].BudgetWorkflowStatus,t+=", bwBudgetRequestId:"+n[i].bwBudgetRequestId,t+=", FunctionalAreaId:"+n[i].FunctionalAreaId,t+=", OrgId:"+n[i].OrgId,t+=", OrgName:"+n[i].OrgName,t+=", bwApprovalLevelWorkflowToken:"+n[i].bwApprovalLevelWorkflowToken,t+=", Created:"+n[i].Created,t+=", Modified:"+n[i].Modified,t+=", IsRecurringExpense:"+n[i].IsRecurringExpense,t+=", RelatedRecurringExpenseId:"+n[i].RelatedRecurringExpenseId,t+=", CloseoutXml:"+n[i].CloseoutXml,t+="\n\n";t+="DONE";$("#txtBwBudgetRequests").append(t)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdListAllBudgetRequests():"+t+", "+i)}})}function cmdListAllBudgetRequestsTrashbin(){$("#txtBwBudgetRequestsTrashbin").empty();$.ajax({url:webserviceurl+"/bwbudgetrequeststrashbinforadmin",type:"DELETE",contentType:"application/json",data:JSON.stringify({}),success:function(n){for(var t="",i=0;i<n.length;i++)t+="bwWorkflowAppId:"+n[i].bwWorkflowAppId,t+=", bwWorkflowId:"+n[i].bwWorkflowId,t+=", Title:"+n[i].Title,t+=", ProjectTitle:"+n[i].ProjectTitle,t+=", ARStatus: "+n[i].ARStatus,t+=", BudgetWorkflowStatus:"+n[i].BudgetWorkflowStatus,t+=", bwBudgetRequestId:"+n[i].bwBudgetRequestId,t+=", FunctionalAreaId:"+n[i].FunctionalAreaId,t+=", bwApprovalLevelWorkflowToken:"+n[i].bwApprovalLevelWorkflowToken,t+=", Created:"+n[i].Created,t+=", Modified:"+n[i].Modified,t+=", CloseoutXml:"+n[i].CloseoutXml,t+="\n\n";t+="DONE";$("#txtBwBudgetRequestsTrashbin").append(t)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdListAllBudgetRequestsTrashbin():"+t+", "+i)}})}function cmdListAllWorkflowTasks(){$("#txtBwWorkflowTasks").empty();$.ajax({url:webserviceurl+"/bwtasksfindallforadmin",type:"DELETE",contentType:"application/json",success:function(n){for(var i="",t=0;t<n.length;t++)i+="bwTaskTitle:"+n[t].bwTaskTitle,i+=", bwDueDate:"+n[t].bwDueDate,i+=", bwTaskOutcome:"+n[t].bwTaskOutcome+" bwPercentComplete:"+n[t].bwPercentComplete+" bwHasBeenProcessedByTheWorkflowEngine:"+n[t].bwHasBeenProcessedByTheWorkflowEngine,i+=", bwAssignedToId:"+n[t].bwAssignedToId,i+=", TaskType:"+n[t].TaskType,i+=", bwRelatedItemId:"+n[t].bwRelatedItemId,i+=", bwAssignedToEmail:"+n[t].bwAssignedToEmail,i+=", bwAssignedToFriendlyName:"+n[t].bwAssignedToFriendlyName,i+=", bwWorkflowAppId:"+n[t].bwWorkflowAppId,i+=", Created:"+n[t].Created,i+=", Modified:"+n[t].Modified,i+=", DailyOverdueTaskNotificationDate:"+n[t].DailyOverdueTaskNotificationDate,i+=", TrashBin:"+n[t].TrashBin,i+=", WorkflowStepName:"+n[t].WorkflowStepName,i+=", bwStatus:"+n[t].bwStatus,i+=", bwAssignedToRaciRoleAbbreviation:"+n[t].bwAssignedToRaciRoleAbbreviation,i+=", bwAssignedToRaciRoleName:"+n[t].bwAssignedToRaciRoleName,i+="\n\n";i+="DONE";$("#txtBwWorkflowTasks").append(i)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdListAllWorkflowTasks():"+t+", "+i)}})}function cmdListAllWorkflowTasksThatWillHaveEmailsSentToday(){$("#txtBwWorkflowTasksThatWillHaveEmailsSentToday").empty();$.ajax({url:webserviceurl+"/bwtasksfindallforadminthatwillhaveemailssenttoday",type:"DELETE",contentType:"application/json",success:function(n){for(var i="",t=0;t<n.length;t++)i+="bwWorkflowTaskItemId:"+n[t].bwWorkflowTaskItemId,i+=", bwAssignedToEmail:"+n[t].bwAssignedToEmail,i+=", bwAssignedToFriendlyName:"+n[t].bwAssignedToFriendlyName,i+=", bwTaskTitle:"+n[t].bwTaskTitle,i+=", bwDueDate:"+n[t].bwDueDate,i+=", bwTaskOutcome:"+n[t].bwTaskOutcome+" bwPercentComplete:"+n[t].bwPercentComplete+" bwHasBeenProcessedByTheWorkflowEngine:"+n[t].bwHasBeenProcessedByTheWorkflowEngine,i+=", bwAssignedToId:"+n[t].bwAssignedToId,i+=", TaskType:"+n[t].TaskType,i+=", bwRelatedItemId:"+n[t].bwRelatedItemId,i+=", bwWorkflowAppId:"+n[t].bwWorkflowAppId,i+=", Created:"+n[t].Created,i+=", Modified:"+n[t].Modified,i+=", DailyOverdueTaskNotificationDate:"+n[t].DailyOverdueTaskNotificationDate,i+=", TrashBin:"+n[t].TrashBin,i+="\n\n";i+="DONE";$("#txtBwWorkflowTasksThatWillHaveEmailsSentToday").append(i)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdListAllWorkflowTasksThatWillHaveEmailsSentToday():"+t+", "+i)}})}function populateSelectViewBwWorkflowTaskSelectWorkflowApp(){$("#spanViewBwWorkflowTaskSelectWorkflowApp").empty();$.ajax({url:webserviceurl+"/bwworkflowapps",type:"DELETE",contentType:"application/json",success:function(n){var i="",t;for(i+='<select id="selectViewBwWorkflowTaskSelectWorkflowApp" onchange="populateSelectViewBwWorkflowTaskSelectWorkflowAppDrillDown1();">',t=0;t<n.length;t++)i+='<option value="'+n[t].bwWorkflowAppId+'">'+n[t].bwWorkflowAppTitle+" - "+n[t].bwWorkflowAppId+"<\/option>";i+="<\/select>";$("#spanViewBwWorkflowTaskSelectWorkflowApp").append(i)},error:function(n,t,i){displayAlertDialog("Error in index.js.populateSelectViewBwWorkflowTaskSelectWorkflowApp():"+t+", "+i)}})}function populateSelectViewBwWorkflowTaskSelectWorkflowAppDrillDown1(){var i;$("#spanViewBwWorkflowTaskSelectWorkflowAppDrillDown1").empty();var n=document.getElementById("selectViewBwWorkflowTaskSelectWorkflowApp"),r=n.options[n.selectedIndex].value,t=[];t={bwWorkflowAppId:r};i=webserviceurl+"/bwparticipantsfindallforworkflowapp";$.ajax({url:i,type:"POST",timeout:ajaxTimeout,data:t,headers:{Accept:"application/json; odata=verbose"},success:function(n){var i="",t;for(i+='<select id="selectViewBwWorkflowTaskSelectWorkflowAppDrillDown1">',t=0;t<n.length;t++)i+='<option value="'+n[t].bwParticipantId+'">'+n[t].bwParticipantFriendlyName+" - "+n[t].bwParticipantId+"<\/option>";i+="<\/select>";$("#spanViewBwWorkflowTaskSelectWorkflowAppDrillDown1").append(i)},error:function(n,t,i){displayAlertDialog("Error in admin.js.populateSelectViewBwWorkflowTaskSelectWorkflowAppDrillDown1():"+t+", "+i)}})}function cmdListAllBwWorkflowTasksForAParticipant(){var n=document.getElementById("selectViewBwWorkflowTaskSelectWorkflowApp"),r=n.options[n.selectedIndex].value,t=document.getElementById("selectViewBwWorkflowTaskSelectWorkflowAppDrillDown1"),u=t.options[t.selectedIndex].value,i;$("#txtBwWorkflowTasksDrillDown").empty();i={bwWorkflowAppId:r,bwParticipantId:u};$.ajax({url:webserviceurl+"/bwtasksfindallforworkflowappandparticipant",type:"DELETE",contentType:"application/json",data:JSON.stringify(i),success:function(n){for(var i="",t=0;t<n.length;t++)i+="bwTaskTitle:"+n[t].bwTaskTitle,i+=", bwDueDate:"+n[t].bwDueDate,i+=", bwTaskOutcome:"+n[t].bwTaskOutcome+" bwPercentComplete:"+n[t].bwPercentComplete+" bwHasBeenProcessedByTheWorkflowEngine:"+n[t].bwHasBeenProcessedByTheWorkflowEngine,i+=", bwAssignedToId:"+n[t].bwAssignedToId,i+=", TaskType:"+n[t].TaskType,i+=", bwRelatedItemId:"+n[t].bwRelatedItemId,i+=", bwAssignedToEmail:"+n[t].bwAssignedToEmail,i+=", bwAssignedToFriendlyName:"+n[t].bwAssignedToFriendlyName,i+=", bwWorkflowAppId:"+n[t].bwWorkflowAppId,i+=", Created:"+n[t].Created,i+=", Modified:"+n[t].Modified,i+=", DailyOverdueTaskNotificationDate:"+n[t].DailyOverdueTaskNotificationDate,i+=", TrashBin:"+n[t].TrashBin,i+=", WorkflowStepName:"+n[t].WorkflowStepName,i+=", bwStatus:"+n[t].bwStatus,i+="\n\n";i+="DONE";$("#txtBwWorkflowTasksDrillDown").append(i)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdListAllBwWorkflowTasksForAParticipant():"+t+", "+i)}})}function cmdDeleteAllBwWorkflowTasksForAWorkflowAppAndParticipant(){try{var n=document.getElementById("selectViewBwWorkflowTaskSelectWorkflowApp"),i=n.options[n.selectedIndex].value,t=document.getElementById("selectViewBwWorkflowTaskSelectWorkflowAppDrillDown1"),r=t.options[t.selectedIndex].value,u=confirm("Delete Tasks for the selected WorkflowApp and Participant\n\nThis action cannot be undone.\n\nClick the OK button to proceed...");if(u){var f=[],f={bwWorkflowAppId:i,bwParticipantId:r},e=webserviceurl+"/bwtenant/deletealltasksforworkflowappandparticipant";$.ajax({url:e,type:"POST",timeout:ajaxTimeout,data:f,headers:{Accept:"application/json; odata=verbose"},success:function(n){alert("success - dev this is not 100% yet!!!");alert(JSON.stringify(n))},error:function(n,t,i){alert("Error in admin.js.cmdDeleteAllBwWorkflowTasksForAWorkflowAppAndParticipant(): "+i)}})}}catch(n){displayAlertDialog("Error in admin.js.cmdDeleteAllBwWorkflowTasksForAWorkflowAppAndParticipant():2:. Message: "+n.message+" Description: "+n.description)}}function cmdDeleteAllBwBudgetRequestsForAWorkflowAppAndParticipant(){try{var n=document.getElementById("selectViewBwWorkflowTaskSelectWorkflowApp"),i=n.options[n.selectedIndex].value,t=document.getElementById("selectViewBwWorkflowTaskSelectWorkflowAppDrillDown1"),r=t.options[t.selectedIndex].value,u=confirm("Delete Budget Requests for the selected WorkflowApp and Participant\n\nThis action cannot be undone.\n\nClick the OK button to proceed...");if(u){var f=[],f={bwWorkflowAppId:i,bwParticipantId:r},e=webserviceurl+"/bwtenant/deleteallbudgetrequestsforworkflowappandparticipant";$.ajax({url:e,type:"POST",timeout:ajaxTimeout,data:f,headers:{Accept:"application/json; odata=verbose"},success:function(n){alert("success - dev this is not 100% yet!!!? Is it?");alert(JSON.stringify(n))},error:function(n,t,i){alert("Error in admin.js.cmdDeleteAllBwWorkflowTasksForAWorkflowAppAndParticipant(): "+i)}})}}catch(n){displayAlertDialog("Error in admin.js.cmdDeleteAllBwBudgetRequestsForAWorkflowAppAndParticipant():2:. Message: "+n.message+" Description: "+n.description)}}function cmdDeleteAllBwWorkflowUserRolesForAWorkflowApp(){try{var n=document.getElementById("selectViewBwWorkflowTaskSelectWorkflowApp"),i=n.options[n.selectedIndex].value,t=document.getElementById("selectViewBwWorkflowTaskSelectWorkflowAppDrillDown1"),r=t.options[t.selectedIndex].value,u=confirm("Delete Budget Requests for the selected WorkflowApp and Participant\n\nThis action cannot be undone.\n\nClick the OK button to proceed...");if(u){var f=[],f={bwWorkflowAppId:i,bwParticipantId:r},e=webserviceurl+"/bwtenant/deleteallworkflowuserrolesforworkflowappandparticipant";$.ajax({url:e,type:"POST",timeout:ajaxTimeout,data:f,headers:{Accept:"application/json; odata=verbose"},success:function(n){alert("success - dev this is not 100% yet!!!? Is it?");alert(JSON.stringify(n))},error:function(n,t,i){alert("Error in admin.js.cmdDeleteAllBwWorkflowUserRolesForAWorkflowApp(): "+i)}})}}catch(n){displayAlertDialog("Error in admin.js.cmdDeleteAllBwWorkflowUserRolesForAWorkflowApp():2:. Message: "+n.message+" Description: "+n.description)}}function cmdListAllWorkflowTasksTrashbin(){$("#txtBwWorkflowTasksTrashbin").empty();$.ajax({url:webserviceurl+"/bwtaskstrashbinadminfindall",type:"DELETE",contentType:"application/json",success:function(n){for(var i="",t=0;t<n.length;t++)i+="bwTaskTitle:"+n[t].bwTaskTitle+", bwTaskOutcome:"+n[t].bwTaskOutcome+" bwPercentComplete:"+n[t].bwPercentComplete+" bwHasBeenProcessedByTheWorkflowEngine:"+n[t].bwHasBeenProcessedByTheWorkflowEngine,i+=", bwAssignedToId:"+n[t].bwAssignedToId,i+=", bwAssignedToEmail:"+n[t].bwAssignedToEmail,i+=", bwAssignedToFriendlyName:"+n[t].bwAssignedToFriendlyName,i+=", bwWorkflowAppId:"+n[t].bwWorkflowAppId,i+=", Created:"+n[t].Created,i+=", Modified:"+n[t].Modified,i+=", DailyOverdueTaskNotificationDate:"+n[t].DailyOverdueTaskNotificationDate,i+=", TrashBin:"+n[t].TrashBin,i+=", WorkflowStepName:"+n[t].WorkflowStepName,i+=", bwStatus:"+n[t].bwStatus,i+="\n\n";i+="DONE";$("#txtBwWorkflowTasksTrashbin").append(i)},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdListAllWorkflowTasksTrashbin():"+t+", "+i)}})}function cmdEmptyWorkflowTasksTrashbin(){$("#txtBwWorkflowTasksTrashbin").empty();$.ajax({url:webserviceurl+"/bwtaskstrashbinadminempty",type:"DELETE",contentType:"application/json",success:function(n){console.log("The trashbin has been emptied: "+JSON.stringify(n));alert("The trashbin has been emptied: "+JSON.stringify(n))},error:function(n,t,i){displayAlertDialog("Error in admin.js.cmdEmptyWorkflowTasksTrashbin():"+t+", "+i)}})}var ajaxTimeout=3e3,monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],appweburl2,appweburl,globalUrlPrefix="https://",globalUrl="budgetworkflow.com",globalUrlForWebServices="budgetworkflow.com",webserviceurl=globalUrlPrefix+globalUrlForWebServices+"/_bw",participantId,participantLogonType,participantLogonTypeUserId,participantFriendlyName,participantEmail,newBudgetRequestManagerTitle="Manager",BWMData=[],invitationAlreadyAccepted=!1,bwEnabledRequestTypes={EnabledItems:[["offlinerequest","offlinerequest",!0,"offlinerequest"]],Details:{BudgetRequests:{Enabled:!1,Ordinal:1,Text:"Budget Request",PluralText:"Budget Requests"},CapitalPlanProjects:{Enabled:!1,Ordinal:2,Text:"Capital Plan Project",PluralText:"Capital Plan Projects"},QuoteRequests:{Enabled:!1,Ordinal:3,Text:"Quote Request",PluralText:"Quote Requests"},ReimbursementRequests:{Enabled:!1,Ordinal:4,Text:"Reimbursement Request",PluralText:"Reimbursement Requests"},RecurringExpenses:{Enabled:!1,Ordinal:5,Text:"Recurring Expense",PluralText:"Recurring Expenses"},WorkOrders:{Enabled:!1,Ordinal:6,Text:"Work Order",PluralText:"Work Orders"}}};$(document).ready(function(){var n,r,i;try{$.ajaxSetup({cache:!1});appweburl=globalUrlPrefix+globalUrlForWebServices;appweburl2=globalUrlPrefix+globalUrl;try{r=$("#divBwAuthentication").bwAuthentication("options");n=!0}catch(t){n=!1}n==!0?$("#divBwAuthentication").bwAuthentication("checkIfAuthenticatedAndProcessQuerystringParameters"):(i={backendAdministrationLogin:!0},$("#divBwAuthentication").bwAuthentication(i))}catch(t){handleExceptionWithAlert("Error in admin.js.document.ready()",t.message+", "+t.stack)}});
//# sourceMappingURL=livestatus.min.js.map
